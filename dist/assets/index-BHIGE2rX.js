import{r as l,j as e,R as qe,c as Dt}from"./react-vendor-1foLNQd8.js";import{J as It,N as ze,u as xe,z as zt,a as ot,b as Lt,c as we,B as Pt,R as He,d as X}from"./vendor-B7cGSxKh.js";import{X as vs,I as Bt,T as Rt,O as Kt,C as Gs,P as fs,F as us,a as ke,L as As,U as Le,b as Et,c as ve,A as Cs,d as ct,S as Mt,t as Wt,e as $t,f as pt,g as es,M as Ft,h as Ut,E as Ot,i as zs,j as Ht,k as Jt,l as je,m as Vs,n as xt,B as Gt,o as ht,p as ws,q as gt,r as ss,s as mt,u as Ns,v as Ve,w as ut,x as Qs,y as cs,D as ft,z as Ls,G as Yt,H as qt,Z as Vt,J as Qt,K as Xt,N as jt,Q as Ws,R as Xs,V as Zt}from"./ui-vendor-DUlJAP55.js";import{F as _e,f as ea,a as sa,b as bt,c as Zs,d as ta,e as aa,g as Ts,h as na,i as et,j as ia,k as ra,l as la}from"./fontawesome-KV0X8cxQ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=a(i);fetch(i.href,r)}})();const da="https://backend.devgatensi.site/api";class oa{baseUrl;constructor(s=da){this.baseUrl=s}async login(s){const a=await fetch(`${this.baseUrl}/auth/login`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){const n=await a.json().catch(()=>({message:"Login failed"}));throw new Error(n.message||"Login failed")}return a.json()}saveToken(s){localStorage.setItem("access_token",s)}getToken(){return localStorage.getItem("access_token")}removeToken(){localStorage.removeItem("access_token"),localStorage.removeItem("user_data")}saveUserData(s){localStorage.setItem("user_data",JSON.stringify(s))}getUserData(){const s=localStorage.getItem("user_data");return s?JSON.parse(s):null}isAuthenticated(){return!!this.getToken()}async getCurrentUser(){const s=this.getToken();if(!s)throw new Error("No token found");const a=await fetch(`${this.baseUrl}/auth/me`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${s}`}});if(!a.ok)throw a.status===401&&this.removeToken(),new Error("Failed to get current user");const n=await a.json();return{...n.data.user,role:n.data.role,id_izin:n.data.id_izin}}async logoutFromApi(){const s=this.getToken();if(!s)throw new Error("No token found");const a=await fetch(`${this.baseUrl}/auth/logout`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${s}`}});if(!a.ok)throw new Error("Logout failed");return this.removeToken(),a.json()}logout(){this.removeToken()}}const Re=new oa,yt=l.createContext(void 0);function ca({children:t}){const[s,a]=l.useState(null),[n,i]=l.useState(!0);l.useEffect(()=>{(async()=>{if(Re.getToken())try{const h=await Re.getCurrentUser();Re.saveUserData(h),a(h)}catch(h){console.error("[AuthContext] Failed to fetch user data:",h);const g=Re.getUserData();g&&a(g)}i(!1)})()},[]);const d={user:s,isLoading:n,isAuthenticated:!!s,login:async o=>{const x=await Re.login(o);Re.saveToken(x.data.access_token);try{const h=await Re.getCurrentUser();return Re.saveUserData(h),a(h),h}catch(h){throw console.error("Failed to fetch user data:",h),h}},logout:async()=>{try{await Re.logoutFromApi()}catch(o){console.error("Logout API error:",o)}finally{a(null)}},refreshUser:async()=>{try{const o=await Re.getCurrentUser();a(o),Re.saveUserData(o)}catch(o){throw Re.logout(),a(null),o}}};return e.jsx(yt.Provider,{value:d,children:t})}function re(){const t=l.useContext(yt);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function pa({children:t,...s}){return e.jsx(It,{attribute:"class",defaultTheme:"light",...s,children:t})}function xa({toast:t,onClose:s}){const[a,n]=l.useState(!1),[i,r]=l.useState(!1);l.useEffect(()=>{r(!0);const x=setTimeout(()=>{c()},t.duration||3e3);return()=>clearTimeout(x)},[t.duration]);const c=()=>{n(!0),setTimeout(()=>s(t.id),400)},p={success:e.jsx(Gs,{size:16}),error:e.jsx(Kt,{size:16}),warning:e.jsx(Rt,{size:16}),info:e.jsx(Bt,{size:16})},o={success:{bg:"#22c55e",progress:"#22c55e"},error:{bg:"#ef4444",progress:"#ef4444"},warning:{bg:"#f59e0b",progress:"#f59e0b"},info:{bg:"#3b82f6",progress:"#3b82f6"}}[t.type];return e.jsxs("div",{style:{minWidth:"380px",borderRadius:"20px",background:"#f6f6f6",display:"flex",flexDirection:"column",gap:"12px",overflow:"hidden",boxShadow:"0 10px 40px rgba(0,0,0,0.15), 0 4px 12px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.8)",transform:i?a?"translateX(120%)":"translateX(0)":"translateX(120%)",opacity:i?a?0:1:0,animation:i&&!a?"slideIn 0.45s ease forwards":a?"slideOut 0.4s ease forwards":"none"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px"},children:[e.jsx("div",{style:{transform:"translateY(20px) translateX(15px)",width:"36px",height:"36px",borderRadius:"50%",background:o.bg,display:"flex",alignItems:"center",justifyContent:"center",color:"white",flexShrink:0},children:p[t.type]}),e.jsxs("div",{style:{marginLeft:"5px",display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsxs("div",{style:{marginLeft:"5px",marginTop:"10px",fontWeight:"600",fontSize:"16px",color:"#1f2937"},children:[t.type==="success"&&"Berhasil!",t.type==="error"&&"Gagal!",t.type==="warning"&&"Perhatian!",t.type==="info"&&"Info"]}),e.jsx("div",{style:{marginLeft:"5px",fontSize:"14px",opacity:.7,maxWidth:"260px",color:"#374151"},children:t.message})]})]}),e.jsx("div",{onClick:c,style:{marginRight:"10px",marginTop:"5px",fontSize:"18px",opacity:.5,cursor:"pointer",transition:"opacity 0.15s ease"},onMouseEnter:x=>{x.currentTarget.style.opacity="1"},onMouseLeave:x=>{x.currentTarget.style.opacity="0.5"},children:e.jsx(vs,{size:18})})]}),e.jsx("div",{style:{height:"4px",width:"100%",background:o.progress,transformOrigin:"left",animation:`countdown ${t.duration||3e3}ms linear forwards`}})]})}const $s=document.createElement("style");$s.textContent=`
  @keyframes countdown {
    to { width: 0%; }
  }
  @keyframes slideIn {
    from { transform: translateX(120%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  @keyframes slideOut {
    to { transform: translateX(120%); opacity: 0; }
  }
`;typeof document<"u"&&!document.head.querySelector("#toast-keyframes")&&($s.id="toast-keyframes",document.head.appendChild($s));function ha({toasts:t,onClose:s}){return t.length===0?null:e.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"10px",pointerEvents:"auto"},children:t.map(a=>e.jsx(xa,{toast:a,onClose:s},a.id))})}let Fs=null;function ga(t){Fs=t}function Ye(t,s="info"){Fs?Fs(t,s):console.log(`[toast.${s}]`,t)}function ma(){return null}const kt=l.createContext(void 0);function De(){const t=l.useContext(kt);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function ua({children:t}){const[s,a]=l.useState([]),n=l.useCallback(c=>{a(p=>p.filter(d=>d.id!==c))},[]),i=l.useCallback((c,p="info",d=3e3)=>{const x={id:Math.random().toString(36).substring(7),message:c,type:p,duration:d};a(h=>[...h,x])},[]);l.useEffect(()=>{ga((c,p)=>{i(c,p)})},[i]);const r=qe.useMemo(()=>({showToast:i,showSuccess:(c,p)=>i(c,"success",p),showError:(c,p)=>i(c,"error",p),showWarning:(c,p)=>i(c,"warning",p),showInfo:(c,p)=>i(c,"info",p)}),[i]);return e.jsxs(kt.Provider,{value:r,children:[t,e.jsx(ha,{toasts:s,onClose:n})]})}const vt=l.createContext(void 0);function fa({children:t}){const[s,a]=l.useState(!1),[n,i]=l.useState(""),[r,c]=l.useState(""),p=(o,x)=>{i(o),c(x),a(!0)},d=()=>{a(!1),i(""),c("")};return e.jsx(vt.Provider,{value:{isOpen:s,asesiId:n,asesiNama:r,openModal:p,closeModal:d},children:t})}function wt(){const t=l.useContext(vt);if(!t)throw new Error("useDokumenModal must be used within DokumenModalProvider");return t}const Ss="/assets/favicon-x1mUvTFg.png",Us=new Image;Us.src=Ss;function Ce({text:t="Memuat...",show:s=!0}){const[a,n]=l.useState(!1),[i,r]=l.useState(!1),[c,p]=l.useState(!1);return l.useEffect(()=>{if(!s){p(!0);const o=setTimeout(()=>{r(!1)},300);return()=>clearTimeout(o)}p(!1);const d=setTimeout(()=>r(!0),50);return Us.complete?n(!0):Us.onload=()=>n(!0),()=>clearTimeout(d)},[s]),i?e.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-white/90 backdrop-blur-md animate-fade-in ${c?"animate-fade-out":""}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsxs("div",{className:"relative w-20 h-20",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-primary/20 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-primary rounded-full border-t-transparent animate-spin"}),e.jsx("div",{className:"absolute inset-2 border-4 border-secondary/20 rounded-full"}),e.jsx("div",{className:"absolute inset-2 border-4 border-secondary rounded-full border-b-transparent animate-spin",style:{animationDirection:"reverse"}}),a?e.jsx("img",{src:Ss,alt:"Loading...",className:"absolute inset-4 w-12 h-12 object-contain animate-fade-in"}):e.jsx("div",{className:"absolute inset-4 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-primary animate-pulse",children:"LSP"})})]}),e.jsx("p",{className:"text-lg font-semibold text-slate-800",children:t})]})}):null}function st({className:t="",text:s}){return e.jsxs("div",{className:`flex flex-col items-center gap-4 ${t}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/40 rounded-full opacity-20 animate-ping"}),e.jsx("div",{className:"absolute inset-0 bg-secondary rounded-full opacity-30 animate-pulse"}),e.jsx("div",{className:"relative bg-white rounded-full p-4 shadow-lg border-2 border-primary/20",children:e.jsx("img",{src:Ss,alt:"Loading...",className:"w-12 h-12"})})]}),s&&e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:s})]})}function Ae({size:t="md",className:s=""}){const a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsx("div",{className:`${a[t]} ${s}`,children:e.jsxs("svg",{className:"animate-spin w-full h-full",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}const ja={"Admin LSP":{name:"Admin LSP",layout:"dashboard-admin",defaultRoute:"/admin-lsp/dashboard",permissions:["view_all_assessment_status","view_reports"],menus:[{title:"Dashboard",path:"/admin-lsp/dashboard",icon:As},{title:"Laporan Sertifikasi",path:"/admin-lsp/reports",icon:ke},{title:"Manajemen User",path:"/admin-lsp/users",icon:Le},{title:"Pengaturan",path:"/admin-lsp/settings",icon:Mt}]},"Direktur LSP":{name:"Direktur LSP",layout:"dashboard-executive",defaultRoute:"/direktur/tandatangan",permissions:["sign_document","view_signed_documents","view_unsigned_documents"],menus:[{title:"Tandatangan",path:"/direktur/tandatangan",icon:fs},{title:"Sudah Ditandatangani",path:"/direktur/sudah-ditandatangani",icon:us},{title:"Belum Ditandatangani",path:"/direktur/belum-ditandatangani",icon:ke}]},"Manajer Sertifikasi":{name:"Manajer Sertifikasi",layout:"dashboard-manager",defaultRoute:"/manajer/dashboard",permissions:["monitor_assessment"],menus:[{title:"Monitoring Sertifikasi",path:"/manajer/monitoring",icon:Cs},{title:"Daftar Asesi",path:"/manajer/asesi",icon:ct}]},"Admin TUK":{name:"Admin TUK",layout:"dashboard-admin",defaultRoute:"/admin-tuk/dashboard",permissions:["verify_personal_documents","submit_verification_status","start_pra_assessment","start_assessment"],menus:[{title:"Dashboard",path:"/admin-tuk/dashboard",icon:As},{title:"Jadwal Asesmen",path:"/admin-tuk/schedule",icon:ve}]},Asesor:{name:"Asesor",layout:"dashboard-asesor",defaultRoute:"/asesor/dashboard",permissions:["view_assigned_assesi","submit_assessment_result"],menus:[{title:"Dashboard",path:"/asesor/dashboard",icon:As},{title:"Daftar Asesi",path:"/asesor/asesi",icon:Le}]},Asesi:{name:"Asesi",layout:"dashboard-asesi",defaultRoute:"/asesi/dashboard",permissions:["confirm_personal_data","join_assessment"],menus:[{title:"Dashboard",path:"/asesi/dashboard",icon:As},{title:"Profil Saya",path:"/asesi/profile",icon:Le},{title:"Sertifikasi",path:"/asesi/assessment",icon:us},{title:"Dokumen",path:"/asesi/documents",icon:Et}]},Komtek:{name:"Komtek",layout:"dashboard-executive",defaultRoute:"/komtek/tandatangan",permissions:["sign_document","view_signed_documents","view_unsigned_documents"],menus:[{title:"Tandatangan",path:"/komtek/tandatangan",icon:fs},{title:"Sudah Ditandatangani",path:"/komtek/sudah-ditandatangani",icon:us},{title:"Belum Ditandatangani",path:"/komtek/belum-ditandatangani",icon:ke}]}};function ps(t){return ja[t]||null}function ba(t,s){const a=ps(t);return a?a.menus:[]}function _s({redirectPath:t}){const{user:s}=re(),[a,n]=l.useState(3),i=s?.role?.name;l.useEffect(()=>{if(!document.head.querySelector("style[data-forbidden-page]")){const d=document.createElement("style");d.setAttribute("data-forbidden-page","true"),d.textContent=`
        @import url("https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900|Nunito:200,300,400,600,700,800,900&display=swap");

        @keyframes pulse {
          0% { color: #000; }
          50% { color: rgba(240, 48, 48, 1); }
          100% { color: #000; }
        }

        @media (max-width: 768px) {
          .forbidden-403 h1 {
            font-size: 120px !important;
            letter-spacing: -20px !important;
            margin-bottom: 30px !important;
          }
        }
      `,document.head.appendChild(d)}},[]);const c=t||(d=>{const o={superadmin:"/superadmin/dashboard","Admin LSP":"/admin-lsp/dashboard","Direktur LSP":"/direktur/tandatangan","Manajer Sertifikasi":"/manajer/dashboard","Admin TUK":"/admin-tuk/dashboard",Asesor:"/asesor/dashboard",Asesi:"/asesi/dashboard",Komtek:"/komtek/tandatangan"};return d&&o[d]?o[d]:"/dashboard"})(i);l.useEffect(()=>{const d=setInterval(()=>{n(o=>o<=1?(clearInterval(d),window.location.href=c,0):o-1)},1e3);return()=>clearInterval(d)},[c]);const p=()=>{window.history.back()};return e.jsx("div",{style:ya,children:e.jsxs("div",{style:ka,className:"forbidden-403",children:[e.jsx("img",{src:"https://res.cloudinary.com/razeshzone/image/upload/v1588316204/house-key_yrqvxv.svg",style:va,alt:""}),e.jsxs("h1",{style:wa,children:[e.jsx("span",{style:Os,children:"4"}),e.jsx("span",{style:Os,children:"0"}),e.jsx("span",{style:Sa,children:"3"})]}),e.jsx("h4",{style:Aa,children:"Akses Ditolak!"}),e.jsxs("h4",{style:Na,children:["Anda tidak memiliki izin untuk mengakses halaman ini. Hubungi administrator Anda untuk membuka fitur ini. Anda dapat kembali ke"," ",e.jsx("button",{onClick:p,style:Ta,children:"halaman sebelumnya"})," ","atau tunggu"," ",e.jsxs("span",{style:{fontWeight:700,color:"#1177bd"},children:[a," detik"]})," untuk dialihkan ke dashboard."]})]})})}const ya={padding:"30px 15px",textAlign:"center",display:"flex",alignItems:"center",minHeight:"100vh",fontFamily:'"Nunito", sans-serif',background:"#f5f5f5"},ka={width:"400px",marginLeft:"auto",marginRight:"auto",position:"relative"},va={marginBottom:"0px",width:"200px",height:"auto"},wa={color:"#000",textTransform:"uppercase",lineHeight:"50px",fontSize:"160px",fontWeight:800,letterSpacing:"-28px",textShadow:"-6px 4px 0px #fff",marginLeft:"-20px",marginTop:"50px",marginBottom:"50px",fontFamily:'"Montserrat", sans-serif'},Os={transition:"all 1s ease",display:"inline-block",animation:"pulse 5s infinite"},Sa={...Os,color:"rgba(240, 48, 48, 1)"},Aa={letterSpacing:"0.38px",fontWeight:700,lineHeight:"20px",fontSize:"50px",color:"#1177bd",textTransform:"none",marginBottom:"10px",width:"100%",fontFamily:'"Montserrat", sans-serif'},Na={letterSpacing:"0.38px",fontWeight:300,lineHeight:"20px",fontSize:"14px",textTransform:"none",color:"rgba(0, 0, 0, 0.5)",marginBottom:"0px",width:"100%",fontFamily:'"Nunito", sans-serif'},Ta={color:"#1177bd",textDecoration:"underline",fontWeight:700,background:"none",border:"none",cursor:"pointer",padding:0,font:"inherit"};function Ca({children:t,requiredPermissions:s=[],requiredRoles:a=[],requireAll:n=!1,allowAsesorWithNoreg:i=!1}){const{isAuthenticated:r,isLoading:c,user:p}=re();if(c)return e.jsx(Ce,{text:"Memuat..."});if(!r)return e.jsx(ze,{to:"/login",replace:!0});const d=p?.role?.name,o=x=>{const h={superadmin:"/superadmin/dashboard","Admin LSP":"/admin-lsp/dashboard","Direktur LSP":"/direktur/tandatangan","Manajer Sertifikasi":"/manajer/dashboard","Admin TUK":"/admin-tuk/dashboard",Asesor:"/asesor/dashboard",Asesi:"/asesi/dashboard",Komtek:"/komtek/tandatangan"};return x&&h[x]?h[x]:"/dashboard"};if(a.length>0&&p?.role?.name&&!a.includes(p.role.name))return e.jsx(_s,{redirectPath:o(d)});if(s.length>0&&p){if(i&&d?.toLowerCase()==="asesor"&&p.noreg)return e.jsx(e.Fragment,{children:t});const h=(d?ps(d):null)?.permissions||[];if(!(n?s.every(b=>h.includes(b)):s.some(b=>h.includes(b))))return e.jsx(_s,{redirectPath:o(d)})}return e.jsx(e.Fragment,{children:t})}function ts({children:t,allowedRoles:s,fallback:a}){const{user:n,isLoading:i,isAuthenticated:r}=re();if(i)return e.jsx(Ce,{text:"Memuat..."});if(!r||!n)return e.jsx(ze,{to:"/login",replace:!0});const c=n.role?.name;if(c&&s.includes(c))return e.jsx(e.Fragment,{children:t});const p=a||St(c);return e.jsx(_s,{redirectPath:p})}function St(t){const s={superadmin:"/superadmin/dashboard","Admin LSP":"/admin-lsp/dashboard","Direktur LSP":"/direktur/tandatangan","Manajer Sertifikasi":"/manajer/dashboard","Admin TUK":"/admin-tuk/dashboard",Asesor:"/asesor/dashboard",Asesi:"/asesi/dashboard",Komtek:"/komtek/tandatangan"};return t&&s[t]?s[t]:"/login"}function _a({children:t,fallback:s}){return e.jsx(ts,{allowedRoles:["Admin LSP"],fallback:s,children:t})}function Da({children:t,fallback:s}){return e.jsx(ts,{allowedRoles:["Admin TUK"],fallback:s,children:t})}function ms({children:t,fallback:s}){return e.jsx(ts,{allowedRoles:["Asesor"],fallback:s,children:t})}function Rs({children:t,fallback:s}){return e.jsx(ts,{allowedRoles:["Asesi"],fallback:s,children:t})}function Ia({children:t,fallback:s}){return e.jsx(ts,{allowedRoles:["Komtek"],fallback:s,children:t})}function za({children:t,fallback:s}){return e.jsx(ts,{allowedRoles:["Direktur LSP"],fallback:s,children:t})}function La({children:t,fallback:s}){return e.jsx(ts,{allowedRoles:["Manajer Sertifikasi"],fallback:s,children:t})}function Ie({children:t,fallback:s}){const{user:a,isLoading:n,isAuthenticated:i}=re();if(n)return e.jsx(Ce,{text:"Memuat..."});if(!i||!a)return e.jsx(ze,{to:"/login",replace:!0});const r=a.role?.name;if(r==="Asesi")return e.jsx(e.Fragment,{children:t});if(r==="Asesor"&&a.noreg)return e.jsx(e.Fragment,{children:t});const c=s||St(r);return e.jsx(_s,{redirectPath:c})}function Pa({children:t}){const{user:s,isLoading:a}=re();if(a)return null;if(s){const n=s.role?.name;if(n){const i=ps(n);if(i)return e.jsx(ze,{to:i.defaultRoute,replace:!0})}return e.jsx(ze,{to:"/dashboard",replace:!0})}return e.jsx(e.Fragment,{children:t})}function Ba(){const{user:t,isLoading:s}=re();if(s)return null;if(t){const a=t.role?.name;if(a){const n=ps(a);if(n)return e.jsx(ze,{to:n.defaultRoute,replace:!0})}return e.jsx(ze,{to:"/dashboard",replace:!0})}return e.jsx(ze,{to:"/login",replace:!0})}function Ra({isOpen:t,onClose:s,asesiId:a,asesiNama:n}){const[i,r]=l.useState(null),[c,p]=l.useState(!1),[d,o]=l.useState(null),x=l.useRef(null);l.useEffect(()=>{(async()=>{if(!(!t||!a)){p(!0);try{const f=localStorage.getItem("access_token"),N=await fetch(`https://backend.devgatensi.site/api/dokumen/asesi/${a}`,{headers:{Accept:"application/json",Authorization:`Bearer ${f}`}});if(N.ok){const B=await N.json();r(B)}}catch(f){console.error("Error fetching dokumen:",f)}finally{p(!1)}}})()},[t,a]),l.useEffect(()=>{t||o(null)},[t]);const h=i?.data?Object.entries(i.data).map(([j,f])=>({key:`${a}-${j}`,label:j.toUpperCase().replace("_"," "),url:f||null,docType:j})):[],g=h.filter(j=>j.url!==null);l.useEffect(()=>{t&&!d&&g.length>0&&o(g[0])},[t,g]),l.useEffect(()=>{if(d&&x.current){const j=x.current.querySelector(`[data-doc-key="${d.key}"]`);j&&j.scrollIntoView({behavior:"smooth",block:"center"})}},[d]);const b=()=>{if(!d)return;const j=g.findIndex(f=>f.key===d.key);j>0&&o(g[j-1])},M=()=>{if(!d){const f=g[0];f&&o(f);return}const j=g.findIndex(f=>f.key===d.key);j<g.length-1&&o(g[j+1])},P=j=>j?j.split(".").pop()?.toLowerCase()||"":"unknown",C=j=>P(j)==="pdf"?j+"#toolbar=0&navpanes=0&scrollbar=0":j;return t?e.jsx("div",{onClick:s,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"16px"},children:e.jsxs("div",{onClick:j=>j.stopPropagation(),style:{backgroundColor:"#fff",borderRadius:"16px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animation:"modalSlideIn 0.3s ease-out",overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsx("style",{children:`
          @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
          }
        `}),e.jsxs("div",{style:{padding:"10px 12px",borderBottom:"1px solid #e5e7eb",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginLeft:"8px"},children:[e.jsx(_e,{icon:ea,style:{fontSize:"20px",color:"#10b981"}}),e.jsxs("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#111827",margin:0},children:["Daftar Dokumen - ",n]})]}),e.jsx("button",{onClick:s,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"#6b7280",transition:"all 0.2s"},onMouseEnter:j=>j.currentTarget.style.background="#f3f4f6",onMouseLeave:j=>j.currentTarget.style.background="transparent",children:e.jsx(_e,{icon:sa,style:{fontSize:"18px",color:"#6b7280"}})})]}),e.jsx("div",{style:{padding:"24px",flex:1,display:"flex"},children:c?e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"60px",width:"100%"},children:e.jsx(Ae,{size:"lg"})}):e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"24px",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("h4",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"16px",textTransform:"uppercase",marginLeft:"60px"},children:"Daftar Dokumen"}),e.jsxs("div",{ref:x,style:{position:"relative",marginLeft:"80px",overflowY:"hidden",maxHeight:"calc(90vh - 180px)",paddingRight:"10px"},children:[e.jsx("div",{style:{position:"absolute",left:"14px",top:"12px",bottom:"12px",width:"3px",background:"#ddd",transform:"translateX(10px)",height:"88vh"}}),h.map((j,f)=>{const N=!!j.url,B=d?.key===j.key;return e.jsxs("div",{"data-doc-key":j.key,onClick:()=>N?o(j):null,style:{display:"flex",alignItems:"flex-start",marginBottom:f<h.length-1?"24px":"0px",position:"relative",cursor:N?"pointer":"not-allowed",transform:(f==15,"translateY(2px)")},children:[e.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",background:B?"#10b981":N?"#059669":"#f5f5f5",color:B||N?"#fff":"#aaa",border:"3px solid",borderColor:B?"#10b981":N?"#059669":"#ddd",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:N?"bold":"normal",flexShrink:0,zIndex:1,transition:"all 0.3s ease",transform:B?"scale(1.1) translateX(10px)":"scale(1) translateX(10px)"},children:B?e.jsx(_e,{icon:bt,style:{color:"white",fontSize:"12px"}}):f+1}),e.jsxs("span",{style:{marginLeft:"14px",fontSize:"14px",color:B?"#10b981":N?"#059669":"#333",fontWeight:B||N?"600":"normal",paddingTop:"6px",flex:1,transition:"all 0.3s ease",transform:"translateX(10px)"},children:[j.label,!N&&e.jsx("span",{style:{fontSize:"11px",color:"#999",fontWeight:"normal",marginLeft:"8px"},children:"(Belum ada)"})]}),N&&f<h.length-1&&e.jsx("div",{style:{position:"absolute",left:"18px",top:"36px",width:"3px",height:"calc(100% - 36px)",background:"#10b981",zIndex:0}})]},j.key)})]})]}),e.jsx("div",{children:e.jsx("div",{style:{borderRadius:"12px",height:"70vh",display:"flex",flexDirection:"column",position:"relative"},children:d?e.jsx(e.Fragment,{children:e.jsx("div",{style:{flex:1,background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden",margin:"0 16px 16px 16px",minHeight:"50vh"},children:["pdf","ppt","pptx"].includes(P(d.url||""))?e.jsx("object",{data:C(d.url||""),type:P(d.url||"")==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.presentationml.presentation",style:{width:"100%",height:"100%",border:"none"},children:e.jsx("p",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"Loading preview..."})}):d.url?e.jsx("img",{src:d.url,alt:d.label,style:{width:"100%",height:"100%",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#9ca3af"},children:[e.jsx(_e,{icon:Zs,style:{fontSize:"48px",marginBottom:"16px"}}),e.jsx("p",{style:{fontSize:"14px",fontWeight:"500"},children:"File tidak tersedia"})]})})}):e.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#9ca3af",minHeight:"55vh"},children:[e.jsx(_e,{icon:Zs,style:{fontSize:"48px",marginBottom:"16px"}}),e.jsx("p",{style:{fontSize:"15px",fontWeight:"500"},children:"Pilih dokumen untuk melihat preview"})]})})})]})}),c?null:e.jsxs("div",{style:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-8%)",display:"flex",alignItems:"center",gap:"12px",background:"#fff",padding:"8px 16px",borderRadius:"50px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",border:"1px solid #e5e7eb",zIndex:10},children:[e.jsxs("button",{onClick:b,disabled:g.findIndex(j=>j.key===d?.key)<=0,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:g.findIndex(j=>j.key===d?.key)>0?"#10b981":"#e5e7eb",color:"#fff",fontSize:"13px",fontWeight:"600",borderRadius:"20px",border:"none",cursor:g.findIndex(j=>j.key===d?.key)>0?"pointer":"not-allowed",opacity:g.findIndex(j=>j.key===d?.key)>0?1:.5,transition:"all 0.2s"},onMouseEnter:j=>{g.findIndex(f=>f.key===d?.key)>0&&(j.currentTarget.style.background="#059669")},onMouseLeave:j=>{g.findIndex(f=>f.key===d?.key)>0&&(j.currentTarget.style.background="#10b981")},children:[e.jsx(_e,{icon:ta,style:{fontSize:"12px"}}),"Sebelumnya"]}),e.jsxs("span",{style:{fontSize:"13px",color:"#6b7280",fontWeight:"600",minWidth:"50px",textAlign:"center"},children:[g.findIndex(j=>j.key===d?.key)+1," / ",g.length]}),e.jsxs("button",{onClick:M,disabled:g.findIndex(j=>j.key===d?.key)>=g.length-1,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:g.findIndex(j=>j.key===d?.key)<g.length-1?"#10b981":"#e5e7eb",color:"#fff",fontSize:"13px",fontWeight:"600",borderRadius:"20px",border:"none",cursor:g.findIndex(j=>j.key===d?.key)<g.length-1?"pointer":"not-allowed",opacity:g.findIndex(j=>j.key===d?.key)<g.length-1?1:.5,transition:"all 0.2s"},onMouseEnter:j=>{g.findIndex(f=>f.key===d?.key)<g.length-1&&(j.currentTarget.style.background="#059669")},onMouseLeave:j=>{g.findIndex(f=>f.key===d?.key)<g.length-1&&(j.currentTarget.style.background="#10b981")},children:["Berikutnya",e.jsx(_e,{icon:aa,style:{fontSize:"12px"}})]})]})]})}):null}function Ka({isOpen:t,onClose:s,asesiId:a,asesiNama:n}){return t?e.jsx("div",{onClick:s,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"16px"},children:e.jsx(Ra,{isOpen:t,onClose:s,asesiId:a,asesiNama:n})}):null}function Be(...t){return Wt($t(t))}const Ea=pt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=l.forwardRef(({className:t,variant:s,size:a,...n},i)=>e.jsx("button",{className:Be(Ea({variant:s,size:a,className:t})),ref:i,...n}));he.displayName="Button";const Hs=l.forwardRef(({className:t,type:s,...a},n)=>e.jsx("input",{type:s,className:Be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...a}));Hs.displayName="Input";const ds="/assets/Sequence%2001-Dw_acSiK.mp4";function os({videoSrc:t,scale:s="100"}){return e.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:`scale(${s}%)`,filter:"blur(2px)"},children:e.jsx("source",{src:t,type:"video/mp4"})}),e.jsx("div",{className:"solid"})]})}const Ma=()=>{[Ss].forEach(s=>{const a=new Image;a.src=s})};function Wa(){const[t,s]=l.useState(""),[a,n]=l.useState(!1);l.useEffect(()=>{n(!0)},[]);const[i,r]=l.useState(""),[c,p]=l.useState(!1),[d,o]=l.useState(""),[x,h]=l.useState(!1),[g,b]=l.useState(!1),M=xe(),{login:P,isLoading:C}=re(),j=async f=>{f.preventDefault(),o(""),h(!0);try{const N=await P({account:t,password:i}),B=N?.role?.name;if(console.log("=== LOGIN REDIRECT ==="),console.log("User Role:",B),console.log("User Data:",N),B){const Z=ps(B);console.log("Role Config:",Z),console.log("Redirecting to:",Z?.defaultRoute),b(!0),Ma(),await new Promise(R=>setTimeout(R,2e3)),M(Z?.defaultRoute||"/dashboard")}else console.error("No role found for user"),o("Role pengguna tidak ditemukan"),h(!1)}catch(N){o(N instanceof Error?N.message:"Login gagal. Silakan coba lagi."),h(!1)}};return e.jsxs("div",{className:`min-h-screen relative flex items-center justify-center transition-opacity duration-300 ${a?"page-enter opacity-100":"opacity-0"}`,children:[e.jsx(os,{videoSrc:ds}),e.jsxs("div",{className:"relative z-10 w-full max-w-[480px]",children:[e.jsx("div",{className:"flex flex-col items-center gap-4 animate-fade-in relative z-20",children:e.jsx("div",{className:"relative w-32 h-32",children:e.jsx("div",{className:"w-full h-full bg-white backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg overflow-hidden relative z-20",children:e.jsx("img",{src:Ss,alt:"LSP Gatensi Logo",className:"w-28 h-28 object-contain translate-x-[4px]"})})})}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative bg-white backdrop-blur-sm rounded-2xl p-5 border border-white/10 -translate-y-14",style:{boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)"},children:[e.jsxs("div",{className:"mb-5 mt-12 text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Selamat Datang!"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Masuk untuk mengakses sistem ujian kompetensi Gatensi"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg flex items-center gap-2 animate-fade-in text-sm",children:[e.jsx(es,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:d})]}),e.jsxs("div",{className:"space-y-1.5 animate-fade-in",style:{animationDelay:"0.1s"},children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Account"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(Hs,{type:"text",placeholder:"Masukkan account ID",value:t,onChange:f=>s(f.target.value),className:"h-10 pl-10 border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-sm",required:!0})]})]}),e.jsxs("div",{className:"space-y-1.5 animate-fade-in",style:{animationDelay:"0.2s"},children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(Hs,{type:c?"text":"password",placeholder:"Masukkan password",value:i,onChange:f=>r(f.target.value),className:"h-10 pl-10 pr-10 border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-primary transition-colors",children:c?e.jsx(Ot,{className:"w-4 h-4"}):e.jsx(zs,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex items-center justify-between text-xs animate-fade-in",style:{animationDelay:"0.3s"},children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-3.5 h-3.5 rounded border-slate-300 text-primary focus:ring-primary"}),e.jsx("span",{className:"text-slate-600",children:"Ingat saya"})]})}),e.jsx(he,{type:"submit",className:"w-full h-10 text-sm font-semibold shadow-lg hover:shadow-xl transition-all duration-300 animate-fade-in bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",style:{animationDelay:"0.4s"},disabled:x||C,children:x||C?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Memproses..."]}):"Masuk"})]}),e.jsxs("div",{className:"relative flex items-center my-4 translate-y-[9px]",children:[e.jsx("span",{className:"w-full border-t border-slate-100"}),e.jsx("span",{className:"bg-white px-2 text-slate-500 absolute left-1/2 -translate-x-1/2 font-thin text-sm",children:"atau"})]}),e.jsx("div",{className:"mt-5 pt-5 text-center animate-fade-in text-xs",style:{animationDelay:"0.5s"},children:e.jsxs("p",{className:"text-slate-600",children:["Belum memiliki akun?"," ",e.jsx("a",{href:"#",className:"text-primary font-semibold hover:underline",children:"Hubungi Admin"})]})})]})})]}),(x||C||g)&&e.jsx(Ce,{text:g?"Login berhasil! Memuat dashboard...":"Sedang login..."})]})}const oe=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:Be("rounded-xl border bg-card text-card-foreground shadow",t),...s}));oe.displayName="Card";const be=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:Be("flex flex-col space-y-1.5 p-6",t),...s}));be.displayName="CardHeader";const ye=l.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:Be("font-semibold leading-none tracking-tight",t),...s}));ye.displayName="CardTitle";const At=l.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:Be("text-sm text-muted-foreground",t),...s}));At.displayName="CardDescription";const ce=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:Be("p-6 pt-0",t),...s}));ce.displayName="CardContent";const $a=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:Be("flex items-center p-6 pt-0",t),...s}));$a.displayName="CardFooter";const Fa=pt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500 text-white hover:bg-emerald-600",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function pe({className:t,variant:s,...a}){return e.jsx("div",{className:Be(Fa({variant:s}),t),...a})}const js=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:Be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));js.displayName="Avatar";const Ua=l.forwardRef(({className:t,...s},a)=>e.jsx("img",{ref:a,className:Be("aspect-square h-full w-full",t),...s}));Ua.displayName="AvatarImage";const bs=l.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:Be("flex h-full w-full items-center justify-center rounded-full bg-primary/10 text-primary font-medium",t),...s}));bs.displayName="AvatarFallback";const ys=l.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...n},i)=>e.jsx("div",{ref:i,role:a?"none":"separator","aria-orientation":s,className:Be("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));ys.displayName="Separator";function Nt({icon:t,className:s="",delay:a=2e3,duration:n=500,autoHide:i=!0}){const[r,c]=l.useState(!0);return l.useEffect(()=>{if(!i)return;const p=setTimeout(()=>{c(!1)},a);return()=>clearTimeout(p)},[a,i]),e.jsx(t,{className:`transition-opacity ${r?"animate-pulse":"opacity-0"} ${s}`,style:{transitionDuration:`${n}ms`}})}function Oa(){const{theme:t,setTheme:s}=zt(),[a,n]=l.useState(!1);return l.useEffect(()=>{n(!0)},[]),a?e.jsx("button",{onClick:()=>s(t==="dark"?"light":"dark"),className:"relative w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center justify-center","aria-label":"Toggle theme",children:t==="dark"?e.jsx(Ht,{className:"w-5 h-5 text-amber-400"}):e.jsx(Jt,{className:"w-5 h-5 text-slate-600"})}):e.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-200 dark:bg-slate-700 animate-pulse"})}const Tt="/assets/logo-CTXZCMGk.png";function me({userName:t="User"}){const s=xe(),{logout:a,user:n}=re(),{showSuccess:i}=De(),[r,c]=l.useState(!1),[p,d]=l.useState(!1),[o,x]=l.useState(new Date),h=n?.role?.name?.toLowerCase()==="asesor",g=h?"/asesor/dashboard":"/asesi/dashboard",b=()=>{s(g)};l.useEffect(()=>{const C=setInterval(()=>{x(new Date)},1e3);return()=>clearInterval(C)},[]);const M=async()=>{c(!0);try{await a(),i("Berhasil logout!"),s("/login")}catch(C){console.error("Logout error:",C),s("/login")}finally{c(!1)}},P=t.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2);return e.jsx("header",{className:"bg-white dark:bg-slate-900/90 dark:backdrop-blur-md dark:border-slate-700 border-b border-primary/10 sticky top-0 z-50 h-16 overflow-hidden",children:e.jsxs("div",{className:"w-full px-4 h-full mx-2",children:[e.jsxs("div",{className:"flex items-center justify-between h-full",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:b,className:"w-36 h-36 flex items-center justify-center overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-200",title:`Kembali ke Dashboard ${h?"Asesor":"Asesi"}`,children:e.jsx("img",{src:Tt,alt:"LSP Gatensi Logo",className:"w-36 h-36 object-contain"})})}),e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 border-primary/20 rounded-lg",children:[e.jsx(je,{className:"w-5 h-5 text-primary animate-pulse"}),e.jsxs("span",{className:"text-base font-semibold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:[o.toLocaleDateString("id-ID",{day:"2-digit",weekday:"long",month:"long",year:"numeric"})," | ",String(o.getHours()).padStart(2,"0"),":",String(o.getMinutes()).padStart(2,"0"),":",String(o.getSeconds()).padStart(2,"0")]})]}),e.jsx(js,{className:"w-10 h-10",children:e.jsx(bs,{className:"bg-primary/10 text-primary font-semibold",children:P})}),e.jsx(he,{variant:"ghost",size:"icon",onClick:M,disabled:r,title:"Logout",children:r?e.jsx(Ae,{size:"sm",className:"text-primary"}):e.jsx(Vs,{className:"w-5 h-5"})})]}),e.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>d(!p),children:p?e.jsx(vs,{className:"w-6 h-6"}):e.jsx(xt,{className:"w-6 h-6"})})]}),p&&e.jsx("div",{className:"md:hidden py-4 border-t border-slate-200 dark:border-slate-700 animate-fade-in",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-primary/5 rounded-lg",children:[e.jsx(je,{className:"w-5 h-5 text-primary animate-pulse"}),e.jsxs("span",{className:"text-sm font-semibold text-primary",children:[String(o.getHours()).padStart(2,"0"),":",String(o.getMinutes()).padStart(2,"0")]})]}),e.jsx("div",{className:"flex items-center justify-between px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(js,{className:"w-10 h-10",children:e.jsx(bs,{className:"bg-primary/10 text-primary font-semibold",children:P})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-800",children:t}),e.jsx("p",{className:"text-xs text-slate-500",children:"Peserta"})]})]})}),e.jsxs("div",{className:"flex gap-2 px-4 py-2 items-center",children:[e.jsx(Oa,{}),e.jsxs(he,{variant:"outline",size:"sm",className:"flex-1 relative",children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Notifikasi",e.jsx("span",{className:"absolute top-1 right-2 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsx(he,{variant:"outline",size:"sm",className:"flex-1",onClick:M,disabled:r,children:r?e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx(Ae,{size:"sm",className:"text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})]})})]})})}function Ha(){const{user:t}=re(),[s,a]=l.useState(!1);l.useEffect(()=>{a(!0)},[]),console.log("=== DASHBOARD DEBUG ==="),console.log("User data:",t),console.log("User name:",t?.name),console.log("User email:",t?.email),console.log("======================");const[,n]=l.useState(new Date),[i,r]=l.useState({days:2,hours:14,minutes:32,seconds:45});l.useEffect(()=>{const d=setInterval(()=>{n(new Date),r(o=>{let{days:x,hours:h,minutes:g,seconds:b}=o;return b>0?b--:(b=59,g>0?g--:(g=59,h>0?h--:(h=23,x>0&&x--))),{days:x,hours:h,minutes:g,seconds:b}})},1e3);return()=>clearInterval(d)},[]);const c=l.useMemo(()=>({scheme:"Skema Sertifikasi Teknisi Jaringan Komputer",schemeCode:"SJ.KTP.003.01.2024",unit:{title:"Unit Kompetensi: Instalasi Jaringan Local Area Network (LAN)",code:"K3.02.020.01"},schedule:{date:"Senin, 20 Januari 2025",time:"08:00 - 16:00 WIB",venue:"TUK LSP Gatensi - Gedung A Lt. 3",address:"Jl. Teknologi No. 123, Jakarta Selatan"},assessor:{name:"Bpk. Dr. Ir. Ahmad Rizki, M.Kom",nip:"19800515 200501 1 003",license:"ASM.2023.001234"},participant:{name:t?.name||"Peserta",email:t?.email||"",phone:t?.phone||"",noreg:t?.noreg||""},status:"scheduled",documents:[{name:"Aplikasi Uji Kompetensi",status:"completed"},{name:"FR.APL.01 - Permohonan Sertifikasi",status:"completed"},{name:"FR.APL.02 - Rekaman Asesor",status:"pending"}]}),[t]),p=[{id:1,text:"Membawa KTP/Identitas Asli",completed:!0},{id:2,text:"Membawa Alat Tulis",completed:!0},{id:3,text:"Berpakaian Formal (Kemeja)",completed:!0},{id:4,text:"Datang 30 Menit Sebelum Ujian",completed:!0}];return e.jsxs(e.Fragment,{children:[e.jsx(os,{videoSrc:ds}),e.jsxs("div",{className:`min-h-screen relative transition-opacity duration-300 ${s?"page-enter opacity-100":"opacity-0"}`,children:[e.jsx(me,{userName:c.participant.name}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx(oe,{className:"mb-8 shadow-lg animate-slide-down",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:["Selamat Datang, ",c.participant.name,"!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Persiapkan diri Anda untuk mengikuti Uji Kompetensi"})]})}),e.jsxs(oe,{className:"shadow-2xl animate-scale-in overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 text-white p-8 relative",children:[e.jsx("div",{className:"absolute inset-0 animate-shimmer"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Nt,{icon:ht,className:"w-8 h-8",autoHide:!1}),e.jsx("h3",{className:"text-2xl font-bold",children:"Ujian Akan Dimulai Dalam"})]}),e.jsx("p",{className:"text-white/80",children:"Pastikan semua persiapan sudah lengkap"})]}),e.jsx("div",{className:"flex gap-4",children:[{label:"Hari",value:i.days},{label:"Jam",value:i.hours},{label:"Menit",value:i.minutes},{label:"Detik",value:i.seconds}].map((d,o)=>e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 min-w-[80px] text-center animate-fade-in",style:{animationDelay:`${o*.1}s`},children:[e.jsx("p",{className:"text-4xl font-bold",children:String(d.value).padStart(2,"0")}),e.jsx("p",{className:"text-sm text-white/80",children:d.label})]},o))}),e.jsxs(he,{size:"lg",className:"bg-white text-primary hover:bg-white/90 font-semibold shadow-lg",children:["Lihat Persiapan",e.jsx(ws,{className:"w-5 h-5 ml-2"})]})]})})]}),e.jsx(ce,{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(oe,{className:"shadow-lg animate-slide-up",children:[e.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:e.jsxs(ye,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(gt,{className:"w-6 h-6 text-primary"}),"Detail Uji Kompetensi"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"animate-fade-in",style:{animationDelay:"0.1s"},children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Skema Sertifikasi"}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:c.scheme}),e.jsx(pe,{variant:"outline",className:"text-xs",children:c.schemeCode})]}),e.jsx(ys,{}),e.jsxs("div",{className:"animate-fade-in",style:{animationDelay:"0.2s"},children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Unit Kompetensi"}),e.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:c.unit.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Kode: ",c.unit.code]})]}),e.jsx(ys,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in",style:{animationDelay:"0.3s"},children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ve,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tanggal"}),e.jsx("p",{className:"font-semibold text-slate-800",children:c.schedule.date})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(je,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Waktu"}),e.jsx("p",{className:"font-semibold text-slate-800",children:c.schedule.time})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-xl md:col-span-2",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ss,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Lokasi"}),e.jsx("p",{className:"font-semibold text-slate-800",children:c.schedule.venue}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.schedule.address})]})]})]})]})})]}),e.jsxs(oe,{className:"shadow-lg animate-slide-up",style:{animationDelay:"0.2s"},children:[e.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:e.jsxs(ye,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(Le,{className:"w-6 h-6 text-primary"}),"Informasi Asesor"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(js,{className:"w-16 h-16",children:e.jsx(bs,{className:"bg-primary/10 text-primary text-xl font-semibold",children:"AR"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-800",children:c.assessor.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["NIP: ",c.assessor.nip]}),e.jsxs(pe,{variant:"info",className:"mt-2",children:[e.jsx(mt,{className:"w-3 h-3 mr-1"}),"No. Lisensi: ",c.assessor.license]})]}),e.jsxs(he,{variant:"outline",size:"sm",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Profil Asesor"]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(oe,{className:"shadow-lg animate-slide-up",style:{animationDelay:"0.1s"},children:[e.jsx(be,{children:e.jsx(ye,{className:"text-slate-800",children:"Aksi Cepat"})}),e.jsxs(ce,{className:"space-y-3",children:[e.jsxs(he,{className:"w-full justify-start",variant:"default",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Mulai Ujian"]}),e.jsxs(he,{className:"w-full justify-start",variant:"outline",children:[e.jsx(us,{className:"w-4 h-4 mr-2"}),"Lihat Soal Ujian"]}),e.jsxs(he,{className:"w-full justify-start",variant:"outline",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Dokumen Pendukung"]})]})]}),e.jsxs(oe,{className:"shadow-lg animate-slide-up",style:{animationDelay:"0.2s"},children:[e.jsxs(be,{children:[e.jsx(ye,{className:"text-slate-800",children:"Persyaratan"}),e.jsx(At,{children:"Ceklist persiapan ujian"})]}),e.jsx(ce,{className:"space-y-3",children:p.map(d=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${d.completed?"bg-emerald-500":"bg-slate-200"}`,children:d.completed&&e.jsx(Ve,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:`text-sm ${d.completed?"text-slate-700":"text-slate-500"}`,children:d.text})]},d.id))})]}),e.jsx(oe,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20 shadow-lg animate-slide-up",style:{animationDelay:"0.5s"},children:e.jsxs(ce,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(es,{className:"w-6 h-6 text-primary"})}),e.jsx("h5",{className:"font-semibold text-slate-800 mb-2",children:"Butuh Bantuan?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Hubungi admin jika ada pertanyaan"}),e.jsxs(he,{variant:"outline",size:"sm",className:"w-full",children:["Hubungi Admin",e.jsx(ut,{className:"w-4 h-4 ml-2"})]})]})})]})]})})]})]}),e.jsx("footer",{className:"bg-white/80 backdrop-blur-md border-t border-primary/10 mt-12 animate-slide-up",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:Tt,alt:"LSP Gatensi Logo",className:"w-8 h-8 object-contain"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"LSP Gatensi"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lembaga Sertifikasi Profesi"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 LSP Gatensi. All rights reserved."})]})})})]})]})}function Ja({isCollapsed:t=!1}){const{user:s}=re(),a=ot(),[n,i]=l.useState(!1),r=s?.role?.name,c=r?ba(r):[];return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(!n),className:"lg:hidden fixed top-20 left-4 z-50 p-2 bg-white rounded-lg shadow-lg",children:n?e.jsx(vs,{className:"w-6 h-6 text-slate-800"}):e.jsx(xt,{className:"w-6 h-6 text-slate-800"})}),e.jsx("aside",{className:`
          fixed lg:sticky top-16 left-0 z-30
          h-[calc(100vh-4rem)] flex flex-col
          transition-all duration-300
          ${t?"w-20":"w-72"}
          ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:e.jsxs("div",{className:"flex flex-col h-full bg-white/90 border-r border-slate-200/50  backdrop-blur-sm",children:[e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4",children:[!t&&e.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3 px-2",children:"Navigation"}),e.jsx("ul",{className:"space-y-1",children:c.map(p=>{const d=p.icon,o=a.pathname===p.path||a.pathname.startsWith(p.path+"/");return e.jsx("li",{children:e.jsxs(Lt,{to:p.path,className:`
                        flex items-center gap-3 px-3 py-2.5 rounded-lg
                        transition-all duration-200 group relative
                        ${o?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}
                        ${t?"justify-center":""}
                      `,onClick:()=>i(!1),children:[o&&!t&&e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-white rounded-r-full"}),e.jsx("div",{className:`
                        w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0
                        ${o?"bg-white/20":"bg-slate-100 group-hover:bg-slate-200"}
                      `,children:e.jsx(d,{className:`w-4 h-4 ${o?"text-white":"text-slate-600"}`})}),!t&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm font-medium",children:p.title}),o&&e.jsx(ws,{className:"w-4 h-4 ml-auto opacity-80"})]})]})},p.path)})})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100",children:[!t&&e.jsxs("div",{className:"flex items-center gap-3 px-2 py-2 bg-gradient-to-r from-primary/5 to-transparent rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary/80 rounded-lg flex items-center justify-center text-white text-xs font-bold shadow",children:s?.name?.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-800 truncate",children:s?.name||"User"}),e.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:r||"Guest"})]})]}),t&&e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary/80 rounded-lg flex items-center justify-center text-white text-xs font-bold shadow mx-auto",children:s?.name?.charAt(0).toUpperCase()||"U"})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden",onClick:()=>i(!1)})]})}function Xe({children:t}){const{user:s,isLoading:a}=re(),n=xe(),i=ot(),[r,c]=l.useState(!1),[p,d]=l.useState(!0);return l.useEffect(()=>{c(!0),d(!1);const o=setTimeout(()=>{c(!1),d(!0)},200);return()=>clearTimeout(o)},[i.pathname]),l.useEffect(()=>{if(!a&&s){const o=s?.role?.name,x=o?ps(o):null;window.location.pathname==="/dashboard"&&x&&n(x.defaultRoute,{replace:!0})}},[s,a,n]),a?e.jsxs(e.Fragment,{children:[e.jsx(os,{videoSrc:ds}),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(st,{text:"Memuat..."})})]}):s?e.jsxs(e.Fragment,{children:[e.jsx(os,{videoSrc:ds}),e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(me,{userName:s?.name||"User"}),r&&e.jsx("div",{className:"page-loading-overlay",children:e.jsx(st,{text:"Memuat..."})}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(Ja,{}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:`bg-white/95 dark:bg-slate-800 dark:text-slate-100 rounded-2xl backdrop-blur-sm shadow-xl border border-white dark:border-slate-700 p-6 min-h-[calc(100vh-120px)] transition-all duration-300 ${p?"page-enter opacity-100":"opacity-0"}`,children:t})})]})]})]}):null}function Ga(){const t=[{title:"Total Asesi",value:"1,234",change:"+12%",icon:Le,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Sertifikasi Aktif",value:"56",change:"+5%",icon:ke,color:"text-emerald-600",bgColor:"bg-emerald-50"},{title:"Asesmen Hari Ini",value:"23",change:"0%",icon:ve,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Tingkat Kelulusan",value:"87%",change:"+3%",icon:Qs,color:"text-amber-600",bgColor:"bg-amber-50"}],s=[{id:1,text:"Asesi John Doe menyelesaikan asesmen",time:"5 menit lalu",type:"success"},{id:2,text:"Sertifikasi baru dibuat",time:"15 menit lalu",type:"info"},{id:3,text:"Asesor Jane Smith memperbarui hasil",time:"1 jam lalu",type:"info"},{id:4,text:"3 asesi terdaftar untuk sertifikasi",time:"2 jam lalu",type:"success"}],a=[{id:1,title:"Asesmen Teknisi Jaringan",date:"20 Jan 2025",time:"08:00",location:"TUK 1",status:"scheduled"},{id:2,title:"Asesmen Administrator",date:"21 Jan 2025",time:"09:00",location:"TUK 2",status:"scheduled"},{id:3,title:"Asesmen Digital Marketing",date:"22 Jan 2025",time:"08:00",location:"TUK 3",status:"scheduled"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Dashboard Admin LSP"}),e.jsx("p",{className:"text-slate-600",children:"Overview aktivitas sertifikasi"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((n,i)=>{const r=n.icon;return e.jsx(oe,{className:"hover:shadow-lg transition-shadow",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:n.title}),e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:n.value}),e.jsxs("p",{className:`text-xs mt-1 ${n.change.startsWith("+")?"text-emerald-600":"text-red-600"}`,children:[n.change," dari bulan lalu"]})]}),e.jsx("div",{className:`w-12 h-12 ${n.bgColor} rounded-lg flex items-center justify-center`,children:e.jsx(r,{className:`w-6 h-6 ${n.color}`})})]})})},i)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(oe,{className:"lg:col-span-2",children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5 text-primary"}),"Aktivitas Terbaru"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:s.map(n=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n.type==="success"?"bg-emerald-500":"bg-blue-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-slate-800",children:n.text}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:n.time})]})]},n.id))})})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5 text-primary"}),"Jadwal Mendatang"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-3",children:a.map(n=>e.jsxs("div",{className:"p-3 border border-slate-200 rounded-lg hover:border-primary transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-800",children:n.title}),e.jsx(pe,{variant:"outline",className:"text-xs",children:"Scheduled"})]}),e.jsxs("p",{className:"text-xs text-slate-600",children:[n.date,"  ",n.time]}),e.jsx("p",{className:"text-xs text-slate-500",children:n.location})]},n.id))})})]})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5 text-primary"}),"Statistik Sertifikasi"]})}),e.jsx(ce,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-slate-50 rounded-lg",children:e.jsx("p",{className:"text-slate-500",children:"Chart akan ditampilkan di sini"})})})]})]})}function ls({value:t,label:s,icon:a,iconColor:n,bgColor:i}){return e.jsx(oe,{children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 ${i} rounded-lg flex items-center justify-center`,children:e.jsx(a,{className:`w-6 h-6 ${n}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t}),e.jsx("p",{className:"text-sm text-slate-600",children:s})]})]})})})}function xs({nomorKegiatan:t,skemaSertifikasi:s,documentInfo:a,jenisAsesmen:n,badges:i=[],actions:r=[],cardClassName:c=""}){return e.jsxs("div",{className:`p-5 border border-slate-200 rounded-lg hover:border-primary transition-all hover:shadow-md ${c}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-slate-800",children:t}),i]}),e.jsx("p",{className:"text-lg font-medium text-primary mb-3",children:s}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:a.map((p,d)=>{const o=p.icon;return e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsxs("span",{children:[p.label,": ",p.value]})]},d)})}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Jenis Asesmen: ",n]})]})}),r.length>0&&e.jsx("div",{className:"flex items-center justify-end gap-3 pt-3 border-t border-slate-100",children:r})]})}function hs({icon:t,title:s,description:a,iconClassName:n="text-slate-400"}){return e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(t,{className:`w-12 h-12 mx-auto mb-4 ${n}`}),e.jsx("p",{className:"font-medium",children:s}),a&&e.jsx("p",{className:"text-sm",children:a})]})}const Ya="https://backend.devgatensi.site/api";class qa{baseUrl;constructor(s=Ya){this.baseUrl=s}getToken(){return localStorage.getItem("access_token")}async getAllKegiatan(){const s=this.getToken(),a=await fetch(`${this.baseUrl}/kegiatan`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${s}`}});if(!a.ok){const n=await a.json().catch(()=>({message:"Failed to fetch kegiatan"}));throw new Error(n.message||"Failed to fetch kegiatan")}return a.json()}async getKegiatanByStatus(s){return(await this.getAllKegiatan()).data.filter(n=>n.is_started===(s?"1":"0"))}async getKegiatanByTUK(s){return(await this.getAllKegiatan()).data.filter(n=>n.tuk_id===s)}async getKegiatanByAsesor(s){return(await this.getAllKegiatan()).data.filter(n=>n.asesor_id===s||n.asesor2_id===s)}async getUpcomingKegiatan(){const s=await this.getAllKegiatan(),a=new Date;return s.data.filter(n=>new Date(n.tanggal_uji)>=a).sort((n,i)=>new Date(n.tanggal_uji).getTime()-new Date(i.tanggal_uji).getTime())}async getTodayKegiatan(){const s=await this.getAllKegiatan(),a=new Date;return a.setHours(0,0,0,0),s.data.filter(n=>{const i=new Date(n.tanggal_uji);return i.setHours(0,0,0,0),i.getTime()===a.getTime()})}async getKegiatanAsesor(){const s=this.getToken(),a=await fetch(`${this.baseUrl}/kegiatan/asesor`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${s}`}});if(!a.ok){const i=await a.json().catch(()=>({message:"Failed to fetch kegiatan asesor"}));throw new Error(i.message||"Failed to fetch kegiatan asesor")}return await a.json()}async getKegiatanAsesi(){const s=this.getToken(),a=await fetch(`${this.baseUrl}/kegiatan/asesi`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${s}`}});if(!a.ok){const n=await a.json().catch(()=>({message:"Failed to fetch kegiatan asesi"}));throw new Error(n.message||"Failed to fetch kegiatan asesi")}return a.json()}async getKegiatanAdminTUK(s){const a=this.getToken(),n=await fetch(`${this.baseUrl}/kegiatan/admin-tuk?tanggal_uji=${s}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!n.ok){const i=await n.json().catch(()=>({message:"Failed to fetch kegiatan admin TUK"}));throw new Error(i.message||"Failed to fetch kegiatan admin TUK")}return n.json()}async getKegiatanDirektur(s){const a=this.getToken(),n=await fetch(`${this.baseUrl}/kegiatan/direktur?ttd=${s}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!n.ok){const i=await n.json().catch(()=>({message:"Failed to fetch kegiatan direktur"}));throw new Error(i.message||"Failed to fetch kegiatan direktur")}return n.json()}async getKegiatanKomtek(s){const a=this.getToken(),n=await fetch(`${this.baseUrl}/kegiatan/komtek?ttd=${s}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!n.ok){const i=await n.json().catch(()=>({message:"Failed to fetch kegiatan komtek"}));throw new Error(i.message||"Failed to fetch kegiatan komtek")}return n.json()}async startAssessment(s){const a=this.getToken(),n=await fetch(`${this.baseUrl}/kegiatan/${s}/start`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!n.ok){const i=await n.json().catch(()=>({message:"Failed to start assessment"}));throw new Error(i.message||"Failed to start assessment")}return n.json()}async startPraAsesmen(s){const a=this.getToken(),n=await fetch(`${this.baseUrl}/kegiatan/${s}/start-praasesmen`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!n.ok){const i=await n.json().catch(()=>({message:"Failed to start pra-asesmen"}));throw new Error(i.message||"Failed to start pra-asesmen")}return n.json()}async getListAsesi(s){const a=this.getToken(),n=await fetch(`${this.baseUrl}/kegiatan/${s}/list-asesi`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${a}`}});if(!n.ok){const i=await n.json().catch(()=>({message:"Failed to fetch list asesi"}));throw new Error(i.message||"Failed to fetch list asesi")}return n.json()}async saveApl01DataPekerjaan(s,a){const n=this.getToken(),i=await fetch(`${this.baseUrl}/praasesmen/${s}/apl01`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok){const r=await i.json().catch(()=>({message:"Failed to save APL 01 data pekerjaan"}));throw new Error(r.message||"Failed to save APL 01 data pekerjaan")}return i.json()}async saveApl02(s,a){const n=this.getToken(),i=await fetch(`${this.baseUrl}/praasesmen/${s}/apl02`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok){const r=await i.json().catch(()=>({message:"Failed to save APL 02"}));throw new Error(r.message||"Failed to save APL 02")}return i.json()}async generateQRApl01(s){const a=this.getToken(),n=await fetch(`${this.baseUrl}/qr/apl02`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({id_jadwal:s})});if(!n.ok){const i=await n.json().catch(()=>({message:"Failed to generate QR APL 01"}));throw new Error(i.message||"Failed to generate QR APL 01")}return n.json()}}const Ee=new qa;function Ys(t=!0){const[s,a]=l.useState(null),[n,i]=l.useState(t),[r,c]=l.useState(null),p=l.useRef(a);return p.current=a,l.useEffect(()=>{if(!t){i(!1);return}(async()=>{i(!0),c(null);try{const o=await Ee.getKegiatanAsesor();console.log("Kegiatan Asesor Response:",o),console.log("Kegiatan Data:",o.data),p.current?.(o.data)}catch(o){console.error("Error fetching kegiatan asesor:",o),c(o instanceof Error?o.message:"Failed to fetch kegiatan asesor")}finally{i(!1)}})()},[t]),{kegiatan:s,isLoading:n,error:r}}function as(t=!0){const[s,a]=l.useState(null),[n,i]=l.useState(t),[r,c]=l.useState(null),p=l.useRef(a);return p.current=a,l.useEffect(()=>{if(!t){i(!1);return}(async()=>{i(!0),c(null);try{const o=await Ee.getKegiatanAsesi();console.log("Kegiatan Asesi Response:",o),console.log("Kegiatan Asesi Data:",o.data),p.current?.(o.data)}catch(o){c(o instanceof Error?o.message:"Failed to fetch kegiatan asesi")}finally{i(!1)}})()},[t]),{kegiatan:s,isLoading:n,error:r}}function Va(){const[t,s]=l.useState([]),[a,n]=l.useState(!0),[i,r]=l.useState(null),c=l.useRef(s);return c.current=s,l.useEffect(()=>{(async()=>{n(!0),r(null);try{const d=new Date,o=d.getFullYear(),x=String(d.getMonth()+1).padStart(2,"0"),h=String(d.getDate()).padStart(2,"0"),g=`${o}-${x}-${h}`,b=await Ee.getKegiatanAdminTUK(g);console.log("Kegiatan Admin TUK Response:",b),console.log("Kegiatan Admin TUK Data:",b.data.data),c.current?.(b.data.data)}catch(d){console.error("Error fetching kegiatan admin TUK:",d),r(d instanceof Error?d.message:"Failed to fetch kegiatan admin TUK")}finally{n(!1)}})()},[]),{kegiatans:t,isLoading:a,error:i}}function Ds(t){const[s,a]=l.useState([]),[n,i]=l.useState(!0),[r,c]=l.useState(null),p=l.useRef(a);return p.current=a,l.useEffect(()=>{(async()=>{i(!0),c(null);try{const o=await Ee.getKegiatanDirektur(t);console.log(`Kegiatan Direktur Response (ttd=${t}):`,o),console.log(`Kegiatan Direktur Data (ttd=${t}):`,o.data.data),p.current?.(o.data.data)}catch(o){console.error("Error fetching kegiatan direktur:",o),c(o instanceof Error?o.message:"Failed to fetch kegiatan direktur")}finally{i(!1)}})()},[t]),{kegiatans:s,isLoading:n,error:r}}function Ps(t){const[s,a]=l.useState([]),[n,i]=l.useState(!0),[r,c]=l.useState(null),p=l.useRef(a);return p.current=a,l.useEffect(()=>{(async()=>{if(!t){i(!1);return}i(!0),c(null);try{const o=await Ee.getListAsesi(t);console.log("List Asesi Response:",o),p.current?.(o.list_asesi)}catch(o){console.error("Error fetching list asesi:",o),c(o instanceof Error?o.message:"Failed to fetch list asesi")}finally{i(!1)}})()},[t]),{asesiList:s,isLoading:n,error:r}}function Is(t){const[s,a]=l.useState([]),[n,i]=l.useState(!0),[r,c]=l.useState(null),p=l.useRef(a);return p.current=a,l.useEffect(()=>{(async()=>{i(!0),c(null);try{const o=await Ee.getKegiatanKomtek(t);console.log(`Kegiatan Komtek Response (ttd=${t}):`,o),console.log(`Kegiatan Komtek Data (ttd=${t}):`,o.data.data),p.current?.(o.data.data)}catch(o){console.error("Error fetching kegiatan komtek:",o),c(o instanceof Error?o.message:"Failed to fetch kegiatan komtek")}finally{i(!1)}})()},[t]),{kegiatans:s,isLoading:n,error:r}}function Qa(){const{kegiatans:t,isLoading:s}=Ds(!1),{kegiatans:a,isLoading:n}=Ds(!0),[i,r]=l.useState(null),c=async h=>{r(h),await new Promise(g=>setTimeout(g,1500)),r(null),window.location.reload()},p=h=>new Date(h).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),d=h=>new Date(h).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),o=s||n,x=t.length+a.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Tandatangan Dokumen"}),e.jsx("p",{className:"text-slate-600",children:"Tandatangani dokumen kegiatan sertifikasi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ls,{value:o?"...":t.length,label:"Menunggu Tandatangan",icon:je,iconColor:"text-amber-600",bgColor:"bg-amber-50"}),e.jsx(ls,{value:o?"...":a.length,label:"Sudah Ditandatangani",icon:Ve,iconColor:"text-emerald-600",bgColor:"bg-emerald-50"}),e.jsx(ls,{value:o?"...":x,label:"Total Dokumen",icon:ke,iconColor:"text-blue-600",bgColor:"bg-blue-50"})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"w-5 h-5 text-primary"}),"Dokumen Perlu Tandatangan",s&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsx(ce,{children:!o&&t.length===0?e.jsx(hs,{icon:Ve,title:"Semua dokumen telah ditandatangani",description:"Tidak ada dokumen yang menunggu tandatangan",iconClassName:"text-emerald-500"}):e.jsx("div",{className:"space-y-4",children:t.map(h=>e.jsx(xs,{nomorKegiatan:h.nama_kegiatan,skemaSertifikasi:h.skema.nama,jenisAsesmen:h.jenis_kelas==="luring"?"Luring":"Daring",documentInfo:[{icon:cs,label:"Asesor",value:h.asesor.nama},{icon:ke,label:"TUK",value:h.tuk.nama},{icon:ve,label:"Tanggal",value:p(h.tanggal_uji)},{icon:je,label:"Waktu",value:d(h.tanggal_uji)}],badges:[e.jsx(pe,{className:"bg-amber-100 text-amber-700",children:"Menunggu"},"status")],actions:[e.jsxs(he,{variant:"outline",size:"sm",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]},"detail"),e.jsx(he,{size:"sm",onClick:()=>c(h.jadwal_id),disabled:i===h.jadwal_id,className:"bg-primary hover:bg-primary/90",children:i===h.jadwal_id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{size:"sm",className:"text-white"}),e.jsx("span",{children:"Memproses..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"Tandatangani"]})},"sign")]},h.jadwal_id))})})]})]})}function Xa(){const{kegiatans:t,isLoading:s,error:a}=Ds(!0),n=i=>new Date(i).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Sudah Ditandatangani"}),e.jsx("p",{className:"text-slate-600",children:"Daftar dokumen yang telah ditandatangani"})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"w-5 h-5 text-emerald-500"}),"Dokumen Sudah Ditandatangani",s&&e.jsx(Ae,{size:"sm",className:"ml-2 text-emerald-500"})]})}),e.jsxs(ce,{children:[a&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat data: ",a]}),!s&&!a&&t.length===0&&e.jsx(hs,{icon:ke,title:"Belum ada dokumen ditandatangani"}),e.jsx("div",{className:"space-y-4",children:t.map(i=>e.jsx(xs,{nomorKegiatan:i.nama_kegiatan,skemaSertifikasi:i.skema.nama,jenisAsesmen:i.jenis_kelas==="luring"?"Luring":"Daring",documentInfo:[{icon:cs,label:"Asesor",value:i.asesor.nama},{icon:ke,label:"TUK",value:i.tuk.nama},{icon:ve,label:"Tanggal Uji",value:n(i.tanggal_uji)}],badges:[e.jsx(pe,{className:"bg-emerald-100 text-emerald-700",children:"Ditandatangani"},"status")],cardClassName:"bg-gradient-to-r from-emerald-50/50 to-transparent",actions:[e.jsxs(he,{variant:"outline",size:"sm",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]},"detail"),e.jsxs(he,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Unduh"]},"download")]},i.jadwal_id))})]})]})]})}function Za(){const{kegiatans:t,isLoading:s,error:a}=Ds(!1),n=r=>new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),i=r=>new Date(r).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Belum Ditandatangani"}),e.jsx("p",{className:"text-slate-600",children:"Daftar dokumen yang belum ditandatangani"})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-5 h-5 text-amber-500"}),"Dokumen Belum Ditandatangani",s&&e.jsx(Ae,{size:"sm",className:"ml-2 text-amber-500"})]})}),e.jsxs(ce,{children:[a&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat data: ",a]}),!s&&!a&&t.length===0&&e.jsx(hs,{icon:ke,title:"Tidak ada dokumen yang menunggu",description:"Semua dokumen telah ditandatangani"}),e.jsx("div",{className:"space-y-4",children:t.map(r=>e.jsx(xs,{nomorKegiatan:r.nama_kegiatan,skemaSertifikasi:r.skema.nama,jenisAsesmen:r.jenis_kelas==="luring"?"Luring":"Daring",documentInfo:[{icon:cs,label:"Asesor",value:r.asesor.nama},{icon:ke,label:"TUK",value:r.tuk.nama},{icon:ve,label:"Tanggal",value:n(r.tanggal_uji)},{icon:je,label:"Waktu",value:i(r.tanggal_uji)}],badges:[e.jsx(pe,{variant:"outline",className:"border-amber-200 text-amber-700",children:"Menunggu"},"status")],cardClassName:"border-l-4 border-l-amber-400",actions:[e.jsxs(he,{variant:"outline",size:"sm",children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]},"detail"),e.jsxs(he,{size:"sm",className:"bg-primary hover:bg-primary/90",children:[e.jsx(es,{className:"w-4 h-4 mr-2"}),"Tandatangani Sekarang"]},"sign")]},r.jadwal_id))})]})]})]})}function en(){const t=xe(),{kegiatans:s,isLoading:a}=Is(!1),{kegiatans:n,isLoading:i}=Is(!0),r=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),c=o=>new Date(o).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),p=a||i,d=s.length+n.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Tandatangan Dokumen"}),e.jsx("p",{className:"text-slate-600",children:"Daftar dokumen yang belum ditandatangani"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ls,{value:p?"...":s.length,label:"Menunggu Tandatangan",icon:je,iconColor:"text-amber-600",bgColor:"bg-amber-50"}),e.jsx(ls,{value:p?"...":n.length,label:"Sudah Ditandatangani",icon:Ve,iconColor:"text-emerald-600",bgColor:"bg-emerald-50"}),e.jsx(ls,{value:p?"...":d,label:"Total Dokumen",icon:ke,iconColor:"text-blue-600",bgColor:"bg-blue-50"})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"w-5 h-5 text-primary"}),"Dokumen Perlu Tandatangan",p&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsx(ce,{children:!p&&s.length===0?e.jsx(hs,{icon:Ve,title:"Semua dokumen telah ditandatangani",description:"Tidak ada dokumen yang menunggu tandatangan",iconClassName:"text-emerald-500"}):e.jsx("div",{className:"space-y-4",children:s.map(o=>e.jsx(xs,{nomorKegiatan:o.nama_kegiatan,skemaSertifikasi:o.skema.nama,jenisAsesmen:o.jenis_kelas==="luring"?"Luring":"Daring",documentInfo:[{icon:cs,label:"Asesor",value:o.asesor.nama},{icon:ke,label:"TUK",value:o.tuk.nama},{icon:ve,label:"Tanggal",value:r(o.tanggal_uji)},{icon:je,label:"Waktu",value:c(o.tanggal_uji)}],badges:[e.jsx(pe,{className:"bg-amber-100 text-amber-700",children:"Menunggu"},"status")],actions:[e.jsxs(he,{variant:"outline",size:"sm",onClick:()=>t(`/komtek/belum-ditandatangani/${o.jadwal_id}`),children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]},"detail")]},o.jadwal_id))})})]})]})}function sn(){const{kegiatans:t,isLoading:s,error:a}=Is(!0),n=i=>new Date(i).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Sudah Ditandatangani"}),e.jsx("p",{className:"text-slate-600",children:"Daftar dokumen yang telah ditandatangani"})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"w-5 h-5 text-emerald-500"}),"Dokumen Sudah Ditandatangani",s&&e.jsx(Ae,{size:"sm",className:"ml-2 text-emerald-500"})]})}),e.jsxs(ce,{children:[a&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat data: ",a]}),!s&&!a&&t.length===0&&e.jsx(hs,{icon:ke,title:"Belum ada dokumen ditandatangani"}),e.jsx("div",{className:"space-y-4",children:t.map(i=>e.jsx(xs,{nomorKegiatan:i.nama_kegiatan,skemaSertifikasi:i.skema.nama,jenisAsesmen:i.jenis_kelas==="luring"?"Luring":"Daring",documentInfo:[{icon:cs,label:"Asesor",value:i.asesor.nama},{icon:ke,label:"TUK",value:i.tuk.nama},{icon:ve,label:"Tanggal Uji",value:n(i.tanggal_uji)}],badges:[e.jsx(pe,{className:"bg-emerald-100 text-emerald-700",children:"Ditandatangani"},"status")],cardClassName:"bg-gradient-to-r from-emerald-50/50 to-transparent",actions:[e.jsxs(he,{variant:"outline",size:"sm",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]},"detail"),e.jsxs(he,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Unduh"]},"download")]},i.jadwal_id))})]})]})]})}function tn(){const{kegiatans:t,isLoading:s,error:a}=Is(!1),[n,i]=l.useState(!1),[r,c]=l.useState(null),[p,d]=l.useState(null),[o,x]=l.useState([]),[h,g]=l.useState(!1),[b,M]=l.useState(null),[P,C]=l.useState(!1),j=R=>new Date(R).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),f=R=>new Date(R).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});l.useEffect(()=>{(async()=>{if(!(!n||!r)){g(!0);try{const Q=localStorage.getItem("access_token"),A=await fetch(`https://backend.devgatensi.site/api/kegiatan/${r.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${Q}`}});if(A.ok){const G=await A.json();x(G.list_asesi)}}catch(Q){console.error("Error fetching asesi:",Q)}finally{g(!1)}}})()},[n,r]),l.useEffect(()=>{(async()=>{if(p){C(!0);try{const Q=localStorage.getItem("access_token"),A=await fetch(`https://backend.devgatensi.site/api/dokumen/asesi/${p.id_izin}`,{headers:{Accept:"application/json",Authorization:`Bearer ${Q}`}});if(A.ok){const G=await A.json();M(G)}}catch(Q){console.error("Error fetching dokumen:",Q)}finally{C(!1)}}})()},[p]);const N=b?.list_asesi?.map(R=>({key:`${R.id_izin}-${R.kompeten}`,label:R.kompeten.toUpperCase(),url:null,kompeten:R.kompeten,is_started:R.is_started}))||[],B=R=>{c(R),d(null),M(null),i(!0)},Z=()=>{i(!1),c(null),d(null),M(null)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Belum Ditandatangani"}),e.jsx("p",{className:"text-slate-600",children:"Daftar dokumen yang belum ditandatangani"})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-5 h-5 text-amber-500"}),"Dokumen Belum Ditandatangani",s&&e.jsx(Ae,{size:"sm",className:"ml-2 text-amber-500"})]})}),e.jsxs(ce,{children:[a&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat data: ",a]}),!s&&!a&&t.length===0&&e.jsx(hs,{icon:ke,title:"Tidak ada dokumen yang menunggu",description:"Semua dokumen telah ditandatangani"}),e.jsx("div",{className:"space-y-4",children:t.map(R=>e.jsx(xs,{nomorKegiatan:R.nama_kegiatan,skemaSertifikasi:R.skema.nama,jenisAsesmen:R.jenis_kelas==="luring"?"Luring":"Daring",documentInfo:[{icon:cs,label:"Asesor",value:R.asesor.nama},{icon:ke,label:"TUK",value:R.tuk.nama},{icon:ve,label:"Tanggal",value:j(R.tanggal_uji)},{icon:je,label:"Waktu",value:f(R.tanggal_uji)}],badges:[e.jsx(pe,{variant:"outline",className:"border-amber-200 text-amber-700",children:"Menunggu"},"status")],cardClassName:"border-l-4 border-l-amber-400",actions:[e.jsxs(he,{variant:"outline",size:"sm",onClick:()=>B(R),children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]},"detail")]},R.jadwal_id))})]})]})]}),n&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"16px"},onClick:Z,children:e.jsxs("div",{style:{backgroundColor:"#f5f5f5",borderRadius:"16px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",animation:"modalSlideIn 0.3s ease-out",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:R=>R.stopPropagation(),children:[e.jsx("style",{children:`
              @keyframes modalSlideIn {
                from { opacity: 0; transform: translateY(-20px) scale(0.95); }
                to { opacity: 1; transform: translateY(0) scale(1); }
              }
            `}),e.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e5e7eb",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:p?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>d(null),style:{background:"none",border:"none",padding:"8px",cursor:"pointer",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px",color:"#6b7280"},onMouseEnter:R=>R.currentTarget.style.background="#f3f4f6",onMouseLeave:R=>R.currentTarget.style.background="transparent",children:[e.jsx(Ls,{className:"w-4 h-4"}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:"Kembali ke Daftar"})]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e5e7eb"}}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#111827",margin:0},children:p.nama})]}):e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#111827",margin:0},children:"Daftar Asesi"})]})}),e.jsx("button",{onClick:Z,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",color:"#6b7280",transition:"all 0.2s"},onMouseEnter:R=>R.currentTarget.style.background="#f3f4f6",onMouseLeave:R=>R.currentTarget.style.background="transparent",children:e.jsx(vs,{className:"w-5 h-5"})})]}),e.jsx("div",{style:{padding:"24px",overflowY:"auto",flex:1},children:p?e.jsx(e.Fragment,{children:P?e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:e.jsx(Ae,{size:"sm"})}):e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Daftar Dokumen"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:N.map(R=>e.jsx("div",{style:{padding:"12px",background:"#fff",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"13px",color:"#374151"},children:e.jsx("span",{style:{fontWeight:"500"},children:R.label})},R.key))})]}),e.jsx("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",padding:"20px",minHeight:"400px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(ke,{className:"w-16 h-16 mx-auto mb-4",style:{color:"#d1d5db"}}),e.jsx("p",{style:{fontSize:"14px",fontWeight:"500"},children:"Preview dokumen akan ditampilkan di sini"})]})})]})}):e.jsxs(e.Fragment,{children:[r&&e.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:e.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",margin:0},children:r.skema.nama})}),e.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"13px",color:"#6b7280"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(ve,{className:"w-4 h-4 text-primary"}),j(r.tanggal_uji)]}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(je,{className:"w-4 h-4 text-primary"}),f(r.tanggal_uji)]}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(ss,{className:"w-4 h-4 text-primary"}),r.tuk.alamat]})]})]}),h?e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:e.jsx(Ae,{size:"sm"})}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:o.map((R,Q)=>e.jsx("div",{onClick:()=>d(R),style:{padding:"16px",background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:A=>{A.currentTarget.style.borderColor="#10b981",A.currentTarget.style.boxShadow="0 4px 12px rgba(16, 185, 129, 0.15)"},onMouseLeave:A=>{A.currentTarget.style.borderColor="#e5e7eb",A.currentTarget.style.boxShadow="none"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"#ecfdf5",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#10b981"},children:Q+1})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{fontSize:"15px",fontWeight:"600",color:"#111827",margin:0},children:R.nama}),e.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"2px",margin:0},children:R.kompeten})]})]})},R.id_izin))})]})})]})})]})}function an(){const{jadwalId:t}=we(),s=xe(),{asesiList:a,isLoading:n,error:i}=Ps(t||""),[r,c]=l.useState(null),[p,d]=l.useState(!0),{openModal:o}=wt();l.useEffect(()=>{(async()=>{try{const P=(await Ee.getKegiatanKomtek(!1)).data.data.find(C=>C.jadwal_id===t);P&&c(P)}catch(M){console.error("Error fetching kegiatan:",M)}finally{d(!1)}})()},[t]);const x=b=>new Date(b).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),h=b=>new Date(b).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),g=b=>{o(b.id_izin,b.nama)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(he,{variant:"ghost",size:"icon",onClick:()=>s("/komtek/belum-ditandatangani"),className:"hover:bg-primary/10",children:e.jsx(Ls,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Daftar Asesi"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Pilih asesi untuk melihat detail dokumen"})]})]}),r&&e.jsx("div",{className:"p-6 border border-slate-200 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:r.skema.nama}),r.is_started==="0"&&e.jsx(pe,{className:"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300",children:"Belum Mulai"}),r.is_started==="1"&&e.jsx(pe,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300",children:"Sedang Berjalan"})]}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:[r.tuk.nama,"  ",r.asesor.nama]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4 text-primary"}),x(r.tanggal_uji)]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(je,{className:"w-4 h-4 text-primary"}),h(r.tanggal_uji)]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ss,{className:"w-4 h-4 text-primary"}),r.tuk.alamat]})]})]}),e.jsx("div",{className:"w-[18%] flex flex-col items-center justify-center",children:e.jsx("div",{className:"p-5 bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl border border-primary/10 shadow-lg shadow-primary/5",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Le,{className:"w-8 h-8 text-primary mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-black text-primary",children:a.length}),e.jsx("div",{className:"text-xs font-medium text-primary/70 uppercase tracking-wider",children:"Asesi"})]})})})]})}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-primary"}),"Daftar Asesi",n&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsxs(ce,{children:[i&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat daftar asesi: ",i]}),!n&&!i&&a.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"Tidak ada asesi untuk jadwal ini"}),e.jsx("div",{className:"space-y-3",children:a.map((b,M)=>e.jsx("div",{onClick:()=>g({id_izin:b.id_izin,nama:b.nama}),className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:border-primary hover:shadow-md transition-all cursor-pointer bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary",children:M+1})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:b.nama}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["ID: ",b.id_izin]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{variant:"outline",className:"border-slate-300 dark:border-slate-600",children:b.kompeten}),b.is_started&&e.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-600",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-xs font-medium",children:"Aktif"})]}),e.jsx(ke,{className:"w-5 h-5 text-primary"})]})]})},b.id_izin))})]})]})]})})}function nn(){const t=[{title:"Asesmen Aktif",value:"12",subtitle:"sedang berlangsung",icon:Cs,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Asesi Menunggu",value:"45",subtitle:"perlu verifikasi",icon:je,color:"text-amber-600",bgColor:"bg-amber-50"},{title:"Jadwal Hari Ini",value:"8",subtitle:"asesmen terjadwal",icon:ve,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Asesor",value:"23",subtitle:"asesor aktif",icon:Le,color:"text-emerald-600",bgColor:"bg-emerald-50"}],s=[{id:1,scheme:"Teknisi Jaringan Komputer",asesor:"Bpk. Ahmad Rizki",tuk:"TUK 1 - Gedung A",startTime:"08:00",progress:65,status:"in-progress"},{id:2,scheme:"Administrasi Perkantoran",asesor:"Ibu Sarah Wijaya",tuk:"TUK 2 - Gedung B",startTime:"09:00",progress:40,status:"in-progress"},{id:3,scheme:"Digital Marketing",asesor:"Bpk. Budi Santoso",tuk:"TUK 3 - Gedung C",startTime:"10:00",progress:15,status:"in-progress"}],a=[{id:1,name:"John Doe",scheme:"Teknisi Jaringan",documents:"5/8",time:"2 jam"},{id:2,name:"Jane Smith",scheme:"Administrasi",documents:"6/8",time:"3 jam"},{id:3,name:"Bob Johnson",scheme:"Digital Marketing",documents:"4/8",time:"5 jam"}],n=i=>{switch(i){case"in-progress":return"bg-blue-100 text-blue-700";case"completed":return"bg-emerald-100 text-emerald-700";case"pending":return"bg-amber-100 text-amber-700";default:return"bg-slate-100 text-slate-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Dashboard Manajer Sertifikasi"}),e.jsx("p",{className:"text-slate-600",children:"Monitoring aktivitas sertifikasi"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((i,r)=>{const c=i.icon;return e.jsx(oe,{className:"hover:shadow-lg transition-shadow",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-14 h-14 ${i.bgColor} rounded-xl flex items-center justify-center`,children:e.jsx(c,{className:`w-7 h-7 ${i.color}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:i.value}),e.jsx("p",{className:"text-sm text-slate-600",children:i.title}),e.jsx("p",{className:"text-xs text-slate-500",children:i.subtitle})]})]})})},r)})}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5 text-primary"}),"Asesmen Sedang Berlangsung"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:s.map(i=>e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg hover:border-primary transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-800",children:i.scheme}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Asesor: ",i.asesor,"  ",i.tuk]})]}),e.jsx(pe,{className:n(i.status),children:"In Progress"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Progress"}),e.jsxs("span",{className:"text-xs font-medium text-slate-800",children:[i.progress,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/80 rounded-full transition-all",style:{width:`${i.progress}%`}})})]}),e.jsxs("span",{className:"text-xs text-slate-500",children:["Mulai ",i.startTime]})]})]},i.id))})})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5 text-amber-500"}),"Verifikasi Pending"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-3",children:a.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:e.jsx(es,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-800",children:i.name}),e.jsx("p",{className:"text-sm text-slate-600",children:i.scheme})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-amber-700",children:[i.documents," dokumen"]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[i.time," yang lalu"]})]})]},i.id))})})]})]})}function rn(){const t=xe(),{kegiatans:s,isLoading:a,error:n}=Va();a||s.length.toString(),ve,Le,Yt,Ve;const i=(p,d)=>d==="0"?e.jsx(pe,{className:"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300",children:"Belum Mulai"}):d==="1"?e.jsx(pe,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300",children:"Pra-Asesmen"}):e.jsx(pe,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300",children:"Asesmen"}),r=p=>{const d=new Date(p),o=d.getHours().toString().padStart(2,"0"),x=d.getMinutes().toString().padStart(2,"0");return`${o}:${x}`},c=p=>{const d=new Date(p),o={weekday:"long",year:"numeric",month:"long",day:"numeric"};return d.toLocaleDateString("id-ID",o)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Dashboard Admin TUK"}),e.jsx("p",{className:"text-slate-600",children:"Kelola verifikasi asesi dan kegiatan asesmen"})]}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5 text-primary"}),"Jadwal Mendatang",a&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsx(ce,{children:a?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(p=>e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg animate-pulse",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-5 bg-slate-200 rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-64 mb-1"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-96"})]}),e.jsx("div",{className:"h-6 bg-slate-200 rounded w-20"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded w-16"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-16"})]}),e.jsx("div",{className:"h-9 bg-slate-200 rounded w-28"})]})]},p))}):n?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat jadwal: ",n]}):s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Tidak ada jadwal mendatang"}):e.jsx("div",{className:"space-y-3",children:s.map(p=>e.jsxs("div",{onClick:()=>t(`/admin-tuk/list-asesi/${p.jadwal_id}`),className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:border-primary cursor-pointer transition-all hover:shadow-md bg-white dark:bg-slate-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:p.skema.nama}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[p.asesor.nama,"  ",p.tuk.nama]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:p.tuk.alamat})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i(p.is_started,p.is_started_praasesmen||"0"),e.jsx(ws,{className:"w-5 h-5 text-slate-400"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(je,{className:"w-4 h-4"}),r(p.tanggal_uji)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"w-4 h-4"}),c(p.tanggal_uji)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-4 h-4"}),p.jenis_kelas==="luring"?"Luring":"Daring"]})]})]},p.jadwal_id))})})]})]})}function ln(t){const[s,a]=l.useState({days:0,hours:0,minutes:0,seconds:0,isPast:!1});return l.useEffect(()=>{if(!t){a({days:0,hours:0,minutes:0,seconds:0,isPast:!1});return}const n=new Date(t).getTime(),i=()=>{const c=new Date().getTime(),p=n-c;return p<=0?{days:0,hours:0,minutes:0,seconds:0,isPast:!0}:{days:Math.floor(p/(1e3*60*60*24)),hours:Math.floor(p%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(p%(1e3*60*60)/(1e3*60)),seconds:Math.floor(p%(1e3*60)/1e3),isPast:!1}};a(i());const r=setInterval(()=>{a(i())},1e3);return()=>clearInterval(r)},[t]),s}function dn(){const{jadwalId:t}=we(),s=xe(),{asesiList:a,isLoading:n,error:i}=Ps(t||""),[r,c]=l.useState(null),[p,d]=l.useState(!0),[o,x]=l.useState(!1),[h,g]=l.useState(!1);l.useEffect(()=>{(async()=>{try{const f=(await Ee.getKegiatanAdminTUK(new Date().toISOString().split("T")[0])).data.data.find(N=>N.jadwal_id===t);f&&c(f)}catch(j){console.error("Error fetching kegiatan:",j)}finally{d(!1)}})()},[t]);const b=ln(r?.tanggal_uji||""),M=async()=>{if(r){x(!0);try{await Ee.startPraAsesmen(r.jadwal_id),Ye("Pra-asesmen berhasil dimulai!","success"),setTimeout(()=>s(-1),1e3)}catch(C){console.error("Error starting pra-asesmen:",C),Ye(C instanceof Error?C.message:"Gagal memulai pra-asesmen","error"),x(!1)}}},P=async()=>{if(r){g(!0);try{await Ee.startAssessment(r.jadwal_id),Ye("Asesmen berhasil dimulai!","success"),setTimeout(()=>s(-1),1e3)}catch(C){console.error("Error starting asesmen:",C),Ye(C instanceof Error?C.message:"Gagal memulai asesmen","error"),g(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(he,{variant:"ghost",size:"icon",onClick:()=>s(-1),className:"hover:bg-primary/10",children:e.jsx(Ls,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Daftar Asesi"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Kelola asesi pada jadwal ini"})]})]}),r&&e.jsx("div",{className:"p-6 border border-slate-200 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:r.skema.nama}),r.is_started_praasesmen==="0"&&e.jsx(pe,{className:"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300",children:"Belum Mulai"}),r.is_started_praasesmen==="1"&&e.jsx(pe,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300",children:"Pra-Asesmen"}),r.is_started==="1"&&e.jsx(pe,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300",children:"Asesmen"})]}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:[r.tuk.nama,"  ",r.asesor.nama]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4 text-primary"}),new Date(r.tanggal_uji).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(je,{className:"w-4 h-4 text-primary"}),new Date(r.tanggal_uji).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ss,{className:"w-4 h-4 text-primary"}),r.tuk.alamat]})]})]}),e.jsxs("div",{className:"w-[18%] flex flex-col items-center justify-center gap-3",children:[r&&b&&!b.isPast&&r?.is_started==="0"&&e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl border border-primary/10 shadow-lg shadow-primary/5",children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-primary/30 animate-pulse"}),e.jsxs("div",{className:"relative text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[e.jsx(je,{className:"w-3 h-3 text-primary animate-pulse"}),e.jsx("span",{className:"text-[10px] font-medium text-primary/80 uppercase tracking-wider",children:"Countdown"})]}),e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[b.days>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:b.days}),e.jsx("span",{className:"text-sm font-bold text-primary/60",children:"d"}),e.jsx("span",{className:"text-2xl font-bold text-primary/40",children:":"})]}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(b.hours).padStart(2,"0")}),e.jsx("span",{className:"text-lg font-bold text-primary/40 animate-pulse",children:":"}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(b.minutes).padStart(2,"0")}),e.jsx("span",{className:"text-lg font-bold text-primary/40 animate-pulse",children:":"}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(b.seconds).padStart(2,"0")})]}),e.jsx("div",{className:"mt-2 h-1 bg-primary/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 transition-all duration-1000 ease-linear",style:{width:`${(60-b.seconds)/60*100}%`}})})]})]})}),r?.is_started_praasesmen==="0"&&e.jsx(he,{onClick:M,disabled:o,className:"w-full bg-primary hover:bg-primary/90",children:o?e.jsxs(e.Fragment,{children:[e.jsx(Ae,{size:"sm",className:"text-white mr-2"}),"Memulai..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Mulai Pra-Asesmen"]})}),r?.is_started_praasesmen==="1"&&e.jsx(he,{onClick:P,disabled:h,className:"w-full bg-emerald-600 hover:bg-emerald-700",children:h?e.jsxs(e.Fragment,{children:[e.jsx(Ae,{size:"sm",className:"text-white mr-2"}),"Memulai..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Mulai Asesmen"]})}),r?.is_started==="1"&&e.jsxs(he,{disabled:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Asesmen Berjalan"]}),r&&b&&b.isPast&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10 rounded-2xl border border-emerald-200 dark:border-emerald-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center",children:e.jsx(je,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400 animate-ping opacity-30"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-emerald-700 dark:text-emerald-300",children:"Sedang Berjalan"}),e.jsx("div",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Asesmen dimulai"})]})]})})})]})]})}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-primary"}),"Daftar Asesi",n&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsxs(ce,{children:[i&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat daftar asesi: ",i]}),!n&&!i&&a.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"Tidak ada asesi untuk jadwal ini"}),e.jsx("div",{className:"space-y-3",children:a.map((C,j)=>e.jsx("div",{className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:border-primary transition-colors bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary",children:j+1})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:C.nama}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["ID: ",C.id_izin]})]})]}),C.kompeten==="K"&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400 blur-md opacity-50 animate-pulse"}),e.jsx("div",{className:"relative w-4 h-4 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/50"})]})]})},C.id_izin))})]})]})]})}function on(){const t=xe(),{kegiatan:s,isLoading:a,error:n}=Ys();return console.log("=== Dashboard Asesor ==="),console.log("isLoading:",a),console.log("error:",n),console.log("kegiatan:",s),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Dashboard Asesor"}),e.jsx("p",{className:"text-slate-600",children:"Kelola jadwal dan penilaian asesmen"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5 text-primary"}),"Jadwal Mendatang",a&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsxs(ce,{children:[n&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat jadwal: ",n]}),!a&&!n&&!s&&e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Tidak ada jadwal mendatang"}),s&&e.jsxs("div",{className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:border-primary cursor-pointer transition-all hover:shadow-md bg-white dark:bg-slate-800",onClick:()=>t("/asesor/asesi"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-800",children:s.skema.nama}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:s.tuk.nama}),e.jsx("p",{className:"text-xs text-slate-500",children:s.tuk.alamat})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.is_started_praasesmen==="0"&&s.tahap==="0"&&e.jsx(pe,{className:"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300",children:"Belum Mulai"}),s.is_started_praasesmen==="1"&&s.tahap==="1"&&e.jsx(pe,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300",children:"Pra-Asesmen"}),s.is_started==="1"&&s.tahap==="2"&&e.jsx(pe,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300",children:"Asesmen"}),e.jsx(ws,{className:"w-5 h-5 text-slate-400"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"w-4 h-4"}),new Date(s.tanggal_uji).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(je,{className:"w-4 h-4"}),new Date(s.tanggal_uji).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-4 h-4"}),s.jenis_kelas==="luring"?"Luring":"Daring"]})]})]})]})]})})]})}function cn(t){const[s,a]=l.useState({days:0,hours:0,minutes:0,seconds:0,isPast:!1});return l.useEffect(()=>{if(!t){a({days:0,hours:0,minutes:0,seconds:0,isPast:!1});return}const n=new Date(t).getTime(),i=()=>{const c=new Date().getTime(),p=n-c;return p<=0?{days:0,hours:0,minutes:0,seconds:0,isPast:!0}:{days:Math.floor(p/(1e3*60*60*24)),hours:Math.floor(p%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(p%(1e3*60*60)/(1e3*60)),seconds:Math.floor(p%(1e3*60)/1e3),isPast:!1}};a(i());const r=setInterval(()=>{a(i())},1e3);return()=>clearInterval(r)},[t]),s}function pn(){const{jadwalId:t}=we(),s=xe(),{asesiList:a,isLoading:n,error:i}=Ps(t||""),[r,c]=l.useState(null),[p,d]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const h=await Ee.getKegiatanAsesor();h.data.jadwal_id===t&&c(h.data)}catch(h){console.error("Error fetching kegiatan:",h)}finally{d(!1)}})()},[t]);const o=cn(r?.tanggal_uji||"");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(he,{variant:"ghost",size:"icon",onClick:()=>s(-1),className:"hover:bg-primary/10",children:e.jsx(Ls,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Daftar Asesi"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Kelola penilaian asesi pada jadwal ini"})]})]}),r&&e.jsx("div",{className:"p-6 border border-slate-200 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:r.skema.nama}),r.is_started_praasesmen==="0"&&e.jsx(pe,{className:"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300",children:"Belum Mulai"}),r.is_started_praasesmen==="1"&&e.jsx(pe,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300",children:"Pra-Asesmen"}),r.is_started==="1"&&e.jsx(pe,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300",children:"Asesmen"})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:r.tuk.nama}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4 text-primary"}),new Date(r.tanggal_uji).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(je,{className:"w-4 h-4 text-primary"}),new Date(r.tanggal_uji).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ss,{className:"w-4 h-4 text-primary"}),r.tuk.alamat]})]})]}),e.jsxs("div",{className:"w-[18%] flex items-center justify-center",children:[o&&!o.isPast&&e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl border border-primary/10 shadow-lg shadow-primary/5",children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-primary/30 animate-pulse"}),e.jsxs("div",{className:"relative text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[e.jsx(je,{className:"w-3 h-3 text-primary animate-pulse"}),e.jsx("span",{className:"text-[10px] font-medium text-primary/80 uppercase tracking-wider",children:"Countdown"})]}),e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[o.days>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:o.days}),e.jsx("span",{className:"text-sm font-bold text-primary/60",children:"d"}),e.jsx("span",{className:"text-2xl font-bold text-primary/40",children:":"})]}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(o.hours).padStart(2,"0")}),e.jsx("span",{className:"text-lg font-bold text-primary/40 animate-pulse",children:":"}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(o.minutes).padStart(2,"0")}),e.jsx("span",{className:"text-lg font-bold text-primary/40 animate-pulse",children:":"}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(o.seconds).padStart(2,"0")})]}),e.jsx("div",{className:"mt-2 h-1 bg-primary/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 transition-all duration-1000 ease-linear",style:{width:`${(60-o.seconds)/60*100}%`}})})]})]})}),o&&o.isPast&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-900/20 dark:to-emerald-800/10 rounded-2xl border border-emerald-200 dark:border-emerald-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center",children:e.jsx(je,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400 animate-ping opacity-30"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-emerald-700 dark:text-emerald-300",children:"Sedang Berjalan"}),e.jsx("div",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Asesmen dimulai"})]})]})})})]})]})}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-primary"}),"Daftar Asesi",n&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsxs(ce,{children:[i&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat daftar asesi: ",i]}),!n&&!i&&a.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"Tidak ada asesi untuk jadwal ini"}),e.jsx("div",{className:"space-y-3",children:a.map((x,h)=>e.jsx("div",{className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:border-primary transition-colors bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary",children:h+1})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:x.nama}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["ID: ",x.id_izin]})]})]}),x.kompeten==="K"&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400 blur-md opacity-50 animate-pulse"}),e.jsx("div",{className:"relative w-4 h-4 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/50"})]})]})},x.id_izin))})]})]})]})}function xn(t){const[s,a]=l.useState({days:0,hours:0,minutes:0,seconds:0,isPast:!1});return l.useEffect(()=>{if(!t){a({days:0,hours:0,minutes:0,seconds:0,isPast:!1});return}const n=new Date(t).getTime(),i=()=>{const c=new Date().getTime(),p=n-c;return p<=0?{days:0,hours:0,minutes:0,seconds:0,isPast:!0}:{days:Math.floor(p/(1e3*60*60*24)),hours:Math.floor(p%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(p%(1e3*60*60)/(1e3*60)),seconds:Math.floor(p%(1e3*60)/1e3),isPast:!1}};a(i());const r=setInterval(()=>{a(i())},1e3);return()=>clearInterval(r)},[t]),s}function hn(){const t=xe(),{kegiatan:s,isLoading:a,error:n}=Ys(),i=s?.jadwal_id,{asesiList:r,isLoading:c,error:p}=Ps(i||""),d=xn(s?.tanggal_uji||""),o=s?.tahap==="1",x=s?.tahap==="2",h=g=>{if(x){const b=`/asesi/asesmen/${g}/ia04a`;console.log("[AsesiPage] Navigating to:",b),t(b)}else if(o){const b=`/asesi/praasesmen/${g}/apl01`;console.log("[AsesiPage] Navigating to:",b),t(b)}else{const b=`/asesi/praasesmen/${g}/apl01`;console.log("[AsesiPage] Navigating to:",b),t(b)}};return a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ae,{size:"lg",className:"mx-auto mb-4 text-primary"}),e.jsx("p",{className:"text-slate-600",children:"Memuat data kegiatan..."})]})}):n&&!s?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-red-500 mb-4",children:["Gagal memuat kegiatan: ",n]}),e.jsx(he,{onClick:()=>window.location.reload(),children:"Coba Lagi"})]}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Daftar Asesi"}),e.jsx("p",{className:"text-slate-600",children:"Asesi yang ditugaskan pada jadwal asesmen ini"})]}),e.jsx("div",{className:"p-6 border border-slate-200 rounded-xl bg-white",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:s.skema.nama}),s.is_started==="0"&&e.jsx(pe,{className:"bg-slate-100 text-slate-700 hover:bg-slate-200",children:"Belum Mulai"}),s.is_started_praasesmen==="1"&&s.tahap==="1"&&e.jsx(pe,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200",children:"Pra-Asesmen"}),s.is_started==="1"&&s.tahap==="2"&&e.jsx(pe,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200",children:"Asesmen"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:s.tuk.nama}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ve,{className:"w-4 h-4 text-primary"}),new Date(s.tanggal_uji).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(je,{className:"w-4 h-4 text-primary"}),new Date(s.tanggal_uji).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ss,{className:"w-4 h-4 text-primary"}),s.tuk.alamat]})]})]}),e.jsx("div",{className:"w-[18%] flex items-center justify-center",children:d.isPast?e.jsx("div",{className:"relative",children:e.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-50 to-emerald-100/50 rounded-2xl border border-emerald-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center",children:e.jsx(je,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400 animate-ping opacity-30"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-emerald-700",children:"Sedang Berjalan"}),e.jsx("div",{className:"text-xs text-emerald-600",children:"Asesmen dimulai"})]})]})})}):e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl border border-primary/10 shadow-lg shadow-primary/5",children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-primary/30 animate-pulse"}),e.jsxs("div",{className:"relative text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[e.jsx(je,{className:"w-3 h-3 text-primary animate-pulse"}),e.jsx("span",{className:"text-[10px] font-medium text-primary/80 uppercase tracking-wider",children:"Countdown"})]}),e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[d.days>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:d.days}),e.jsx("span",{className:"text-sm font-bold text-primary/60",children:"d"}),e.jsx("span",{className:"text-2xl font-bold text-primary/40",children:":"})]}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(d.hours).padStart(2,"0")}),e.jsx("span",{className:"text-lg font-bold text-primary/40 animate-pulse",children:":"}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(d.minutes).padStart(2,"0")}),e.jsx("span",{className:"text-lg font-bold text-primary/40 animate-pulse",children:":"}),e.jsx("span",{className:"text-3xl font-black bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent tabular-nums",children:String(d.seconds).padStart(2,"0")})]}),e.jsx("div",{className:"mt-2 h-1 bg-primary/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 transition-all duration-1000 ease-linear",style:{width:`${(60-d.seconds)/60*100}%`}})})]})]})})})]})}),e.jsxs(oe,{children:[e.jsx(be,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5 text-primary"}),"Daftar Asesi",c&&e.jsx(Ae,{size:"sm",className:"ml-2 text-primary"})]})}),e.jsxs(ce,{children:[p&&e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Gagal memuat daftar asesi: ",p]}),!c&&!p&&r.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Tidak ada asesi untuk jadwal ini"}),e.jsx("div",{className:"space-y-3",children:r.map((g,b)=>e.jsx("div",{className:"p-4 border border-slate-200 rounded-lg bg-white hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary",children:b+1})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-800",children:g.nama}),e.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",g.id_izin]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(he,{size:"sm",onClick:()=>h(g.id_izin),className:"gap-2",children:[e.jsx(zs,{className:"w-4 h-4"}),o&&!x&&"Lihat PraAsesmen",x&&"Lihat Asesmen",!o&&!x&&"Lihat Data"]}),g.is_started&&e.jsx(pe,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:"Sedang Mengerjakan"}),g.kompeten==="K"&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-emerald-400 blur-md opacity-50 animate-pulse"}),e.jsx("div",{className:"relative w-4 h-4 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/50"})]}),g.kompeten==="BK"&&e.jsx(pe,{className:"bg-red-100 text-red-700 hover:bg-red-200",children:"Belum Kompeten"})]})]})},g.id_izin))})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ct,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Tidak Ada Kegiatan"}),e.jsx("p",{className:"text-slate-600",children:"Anda belum memiliki jadwal asesmen yang ditugaskan"})]})}function gn(){const{user:t}=re(),{kegiatan:s,isLoading:a,error:n}=as(),i=xe(),[r,c]=l.useState(!1),[p,d]=l.useState(null);l.useEffect(()=>{(async()=>{if(!(!s?.jadwal_id||!t?.name))try{const N=localStorage.getItem("access_token"),B=await fetch(`https://backend.devgatensi.site/api/kegiatan/${s.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${N}`}});if(B.ok){const R=(await B.json()).list_asesi?.find(Q=>Q.nama===t.name);R?.id_izin&&(console.log("Found matching asesi:",R),d(R.id_izin))}}catch(N){console.error("Error fetching id_izin:",N)}})()},[s?.jadwal_id,t?.name]),console.log("=== ASESI DASHBOARD DEBUG ==="),console.log("User data:",t),console.log("kegiatan:",s),console.log("kegiatan?.jadwal_id:",s?.jadwal_id),console.log("id_izin from list-asesi:",p),console.log("isLoading:",a),console.log("error:",n),console.log("=============================="),l.useEffect(()=>{c(!0)},[]),console.log("=== ASESI DASHBOARD DEBUG ==="),console.log("User data:",t),console.log("==============================");const[,o]=l.useState(new Date),[x,h]=l.useState({days:0,hours:0,minutes:0,seconds:0,isLate:!1});l.useEffect(()=>{if(!s?.tanggal_uji)return;const f=()=>{const G=new Date,Y=new Date(s.tanggal_uji).getTime()-G.getTime();if(Y<=0){const W=Math.abs(Y),F=Math.floor(W/(1e3*60)),K=Math.floor(W%(1e3*60)/1e3);h({days:0,hours:0,minutes:F,seconds:K,isLate:!0});return}const H=Math.floor(Y/(1e3*60*60*24)),I=Math.floor(Y%(1e3*60*60*24)/(1e3*60*60)),T=Math.floor(Y%(1e3*60*60)/(1e3*60)),S=Math.floor(Y%(1e3*60)/1e3);h({days:H,hours:I,minutes:T,seconds:S,isLate:!1})};f();const N=new Date,Q=(new Date(s.tanggal_uji).getTime()-N.getTime())/(1e3*60*60)>1?6e4:1e3,A=setInterval(f,Q);return()=>clearInterval(A)},[s?.tanggal_uji]);const g=l.useMemo(()=>{if(!s)return{scheme:"Tidak ada sertifikasi aktif",schemeCode:"-",unit:{title:"-",code:"-"},schedule:{date:"-",time:"-",venue:"-",address:"-"},assessors:[],status:"none"};const f=new Date(s.tanggal_uji),N=[];s.asesor?.nama&&N.push({name:s.asesor.nama,nip:s.asesor.noreg||"-",license:s.asesor.noreg||"-"}),s.asesor2?.nama&&N.push({name:s.asesor2.nama,nip:s.asesor2.noreg||"-",license:s.asesor2.noreg||"-"});let B={title:"Belum Dimulai",variant:"secondary",color:"text-slate-600"};return s.tahap==="1"?B={title:"Pra-Asesmen",variant:"default",color:"text-primary"}:s.tahap==="2"&&(B={title:"Asesmen",variant:"default",color:"text-emerald-600"}),{scheme:s.skema.nama,schemeCode:`SK-${s.skema_id}`,unit:{title:"Unit Kompetensi",code:s.skema_id},phase:B,schedule:{date:f.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:`${f.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})} WIB`,venue:s.tuk.nama,address:s.tuk.alamat},assessors:N,status:s.is_started==="1"?"in-progress":"scheduled"}},[s]),b=f=>f.isLate?f.minutes*60+f.seconds<=3600:f.days*86400+f.hours*3600+f.minutes*60+f.seconds<900,[M,P]=l.useState("Lihat Persiapan"),[C,j]=l.useState(!1);return l.useEffect(()=>{if(C||s?.is_started==="1")return;b(x)&&(j(!0),s?.is_started_praasesmen==="1"?P("Masuk Pra-Asesmen"):s?.is_started==="1"?P("Masuk Asesmen"):P("Masuk ke Ujian"))},[x,C,s?.is_started,s?.tahap]),e.jsxs(e.Fragment,{children:[e.jsx(os,{videoSrc:ds}),e.jsxs("div",{className:`min-h-screen relative transition-opacity duration-300 ${r?"page-enter opacity-100":"opacity-0"}`,children:[e.jsx(me,{userName:t?.name}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx(oe,{className:"mb-8 shadow-lg animate-slide-down",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:["Selamat Datang, ",t?.name||"Asesi","!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Persiapkan diri Anda untuk mengikuti Uji Kompetensi"})]})}),e.jsxs(oe,{className:"animate-scale-in overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 text-white p-8 relative",children:[e.jsx("div",{className:"absolute inset-0 animate-shimmer"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Nt,{icon:ht,className:"w-8 h-8",autoHide:!1}),e.jsx("h3",{className:"text-2xl font-bold",children:x.isLate&&g.phase?.title==="Asesmen"?"Waktu Pengerjaan Asesi Telah Dimulai":x.isLate?"Ayo Kerjakan Ujian Waktu Sudah Berjalan":"Ujian Akan Dimulai Dalam"})]}),e.jsx("p",{className:"text-white/80",children:x.isLate?e.jsxs(e.Fragment,{children:["Anda terlambat ",x.minutes," menit ",x.seconds," detik.",e.jsx("br",{}),e.jsx("span",{className:"text-white font-semibold",children:"Segera masuk ujian!"})]}):"Pastikan semua persiapan sudah lengkap"})]}),e.jsx("div",{className:"flex gap-4",children:[{label:"Hari",value:x.days},{label:"Jam",value:x.hours},{label:"Menit",value:x.minutes},{label:"Detik",value:x.seconds}].map((f,N)=>e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 min-w-[80px] text-center animate-fade-in",style:{animationDelay:`${N*.1}s`},children:[e.jsx("p",{className:"text-4xl font-bold",children:String(f.value).padStart(2,"0")}),e.jsx("p",{className:"text-sm text-white/80",children:f.label})]},N))}),e.jsxs(he,{size:"lg",className:"bg-white text-primary hover:bg-white/90 font-semibold shadow-lg",onClick:()=>{if(console.log("Navigating with id_izin:",p),!p){Ye("ID Izin tidak ditemukan","error");return}s?.tahap==="1"&&i("/asesi/praasesmen"),s?.tahap==="2"&&i(`/asesi/asesmen/${p}/ia04a`)},children:[M,e.jsx(ws,{className:"w-5 h-5 ml-2"})]})]})})]}),e.jsx(ce,{className:"p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(oe,{className:"shadow-lg animate-slide-up",children:[e.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:e.jsxs(ye,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(gt,{className:"w-6 h-6 text-primary"}),"Detail Uji Kompetensi"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"animate-fade-in",style:{animationDelay:"0.1s"},children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Skema Sertifikasi"}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:g.scheme}),e.jsx(pe,{variant:"outline",className:"text-xs",children:g.schemeCode})]}),e.jsx(ys,{}),e.jsxs("div",{className:"animate-fade-in",style:{animationDelay:"0.2s"},children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Fase Ujian"}),e.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[g.phase?.title,e.jsxs("span",{className:`text-xs font-semibold ${g.phase?.color}`,children:[g.phase?.title==="Belum Dimulai"&&"Menunggu jadwal",g.phase?.title==="Pra-Asesmen"&&"Persiapan dokumen"]})]})]}),e.jsx(ys,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in",style:{animationDelay:"0.3s"},children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ve,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tanggal"}),e.jsx("p",{className:"font-semibold text-slate-800",children:g.schedule.date})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(je,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Waktu"}),e.jsx("p",{className:"font-semibold text-slate-800",children:g.schedule.time})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 rounded-xl md:col-span-2",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ss,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Lokasi"}),e.jsx("p",{className:"font-semibold text-slate-800",children:g.schedule.venue}),e.jsx("p",{className:"text-sm text-muted-foreground",children:g.schedule.address})]})]})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(oe,{className:"shadow-lg animate-slide-up",style:{animationDelay:"0.2s"},children:[e.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:e.jsxs(ye,{className:"flex items-center gap-2 text-slate-800",children:[e.jsx(us,{className:"w-6 h-6 text-primary"}),"Informasi Asesor"]})}),e.jsx(ce,{className:"p-6",children:g.assessors.length>0?e.jsx("div",{className:"space-y-4",children:g.assessors.map((f,N)=>{const B=f.name.split(" ").map(Z=>Z[0]).join("").toUpperCase().substring(0,2);return e.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"w-16 h-16",children:e.jsx(bs,{className:"bg-primary/10 text-primary text-xl font-semibold",children:B})}),e.jsx(pe,{variant:"default",className:"absolute -top-1 -left-1 text-xs px-3 py-1",children:N+1})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-800",children:f.name.toUpperCase()}),e.jsxs(pe,{variant:"info",className:"mt-2",children:[e.jsx(mt,{className:"w-3 h-3 mr-1"}),"No. Lisensi: ",f.license]})]})]},N)})}):e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Belum ada informasi asesor"})})]}),e.jsx(oe,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20 shadow-lg animate-slide-up",style:{animationDelay:"0.5s"},children:e.jsxs(ce,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(es,{className:"w-6 h-6 text-primary"})}),e.jsx("h5",{className:"font-semibold text-slate-800 mb-2",children:"Butuh Bantuan?"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Hubungi admin jika ada pertanyaan"}),e.jsxs(he,{variant:"outline",size:"sm",className:"w-full",children:["Hubungi Admin",e.jsx(ut,{className:"w-4 h-4 ml-2"})]})]})})]})]})})]})]})]})]})}const Ks=[{number:1,label:"Konfirmasi"},{number:2,label:"APL 01"},{number:3,label:"APL 02"},{number:4,label:"MAPA 01"},{number:5,label:"MAPA 02"},{number:6,label:"AK.07"},{number:7,label:"AK.04"},{number:8,label:"K3"},{number:9,label:"AK.01"},{number:10,label:"Selesai"}];function mn({currentStep:t}){const s=i=>i==="active"?"animate-blue-pulse":"",a=i=>i<t?"completed":i===t?"active":"pending",n=i=>{switch(i){case"completed":return{background:"#4caf50",iconColor:"#fff",borderColor:"#4caf5000"};case"active":return{background:"#0066cc",iconColor:"#fff",borderColor:"#0066cc"};default:return{background:"#f5f5f5",iconColor:"#aaa",borderColor:"#ddd"}}};return e.jsxs("div",{style:{position:"sticky",top:"80px",width:"180px",flexShrink:0},children:[e.jsx("br",{}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"16px",textTransform:"uppercase"},children:"Proses Pra-Asesmen"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"14px",top:"12px",bottom:"12px",width:"3px",background:"#ddd"}}),Ks.map((i,r)=>{const c=a(i.number),p=n(c);return e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:r<Ks.length-1?"24px":"0",position:"relative"},children:[e.jsx("div",{className:s(c),style:{width:"30px",height:"30px",borderRadius:"50%",background:p.background,color:p.iconColor,border:"3px solid",borderColor:c==="completed"?"#4caf50":p.borderColor,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"15px",fontWeight:c==="pending"?"normal":"bold",flexShrink:0,zIndex:1},children:c==="completed"?"":i.number}),e.jsx("span",{style:{marginLeft:"14px",fontSize:"14px",color:"#333",fontWeight:c==="pending"?"normal":"600",paddingTop:"6px"},children:i.label}),c!=="pending"&&r<Ks.length-1&&e.jsx("div",{style:{position:"absolute",left:"18px",top:"36px",width:"3px",height:"calc(100% - 36px)",background:"#0066cc",zIndex:0}})]},i.number)})]})]})}function Fe({children:t,currentStep:s}){return e.jsxs("div",{style:{display:"flex",gap:"30px",padding:"20px",maxWidth:"1100px",margin:"0 auto",alignItems:"flex-start"},children:[e.jsx("div",{style:{position:"sticky",top:"80px",alignSelf:"flex-start"},children:e.jsx(mn,{currentStep:s})}),e.jsx("div",{style:{flex:1,minWidth:0,backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:t})]})}function le({children:t,variant:s="primary",disabled:a=!1,onClick:n,type:i="button",style:r}){const c=s==="primary";return e.jsx("button",{type:i,onClick:n,disabled:a,style:{padding:"10px 20px",border:c?"none":"1px solid #e2e8f0",backgroundColor:a?"#cbd5e1":c?"#00488f":"#fff",color:a||c?"#fff":"#64748b",fontSize:"14px",fontWeight:"600",borderRadius:"8px",cursor:a?"not-allowed":"pointer",transition:"all 0.2s",opacity:a?.5:1,...r},onMouseEnter:p=>{a||(c?p.currentTarget.style.backgroundColor="#0066cc":(p.currentTarget.style.backgroundColor="#f8fafc",p.currentTarget.style.borderColor="#cbd5e1"))},onMouseLeave:p=>{a||(c?p.currentTarget.style.backgroundColor="#00488f":(p.currentTarget.style.backgroundColor="#fff",p.currentTarget.style.borderColor="#e2e8f0"))},children:t})}const un=[{key:"npwp",label:"NPWP"},{key:"ktp",label:"Kartu Tanda Penduduk"},{key:"pas_foto",label:"Pas Foto 3x4"},{key:"referensi_kerja",label:"Surat Referensi Kerja"},{key:"ijazah",label:"Ijazah Terakhir"}];function tt(t){const s=new Date(t),a=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],n=s.getDate(),i=a[s.getMonth()],r=s.getFullYear();return`${n}-${i}-${r}`}function fn(){const t=xe(),{user:s}=re(),[a,n]=l.useState(null),[i,r]=l.useState(!0),{kegiatan:c}=as(),{idIzin:p}=we(),[d,o]=l.useState(null),[x,h]=l.useState(1),g=s?.role?.name?.toLowerCase()==="asesor";l.useEffect(()=>{window.scrollTo(0,0),(async()=>{try{const N=localStorage.getItem("access_token"),B=await fetch("https://backend.devgatensi.site/api/praasesmen/kebenaran-data",{headers:{Accept:"application/json",Authorization:`Bearer ${N}`}});if(!B.ok)throw new Error("Gagal memuat data");const Z=await B.json();if(Z.success)n(Z.data);else throw new Error("Data tidak ditemukan")}catch(N){Ye(N instanceof Error?N.message:"Gagal memuat data","error")}finally{r(!1)}})()},[]);const b=async()=>{if(g&&p){t(`/asesi/praasesmen/${p}/apl01`);return}if(!c){Ye("Tidak ada kegiatan aktif","error");return}try{const f=localStorage.getItem("access_token"),N=await fetch(`https://backend.devgatensi.site/api/kegiatan/${c.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${f}`}});if(N.ok){const B=await N.json();if(B.message==="Success"&&B.list_asesi&&B.list_asesi.length>0){const Z=B.list_asesi.find(R=>R.nama===s?.name);if(Z?.id_izin){t(`/asesi/praasesmen/${Z.id_izin}/apl01`);return}}}t(`/asesi/praasesmen/${c.jadwal_id}/apl01`)}catch{Ye("Gagal mengambil data kegiatan","error")}},M=(f,N)=>{const B=f.split(".").pop()?.toLowerCase(),Z=["png","jpg","jpeg","gif","webp"].includes(B||"")?"image":"pdf";o({url:f,label:N,type:Z})},P=()=>{o(null),h(1)},C=()=>{h(f=>Math.min(f+.25,3))},j=()=>{h(f=>Math.max(f-.25,.5))};return i?e.jsx(Ce,{text:"Memuat data..."}):a?e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{style:{fontWeight:"normal"},children:"Konfirmasi"})]})})}),e.jsxs(Fe,{currentStep:1,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",marginBottom:"4px"},children:"Konfirmasi Data Diri"}),e.jsx("p",{style:{fontSize:"13px",color:"#666"},children:"Mohon periksa kembali data Anda sebelum memulai pra-asesmen"})]}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #999",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Nama"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:a.nama})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"No. NIK"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:a.nik})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Tempat/tgl. Lahir"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsxs("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:[a.tempat_lahir.toUpperCase(),", ",tt(a.tanggal_lahir)]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Jenis kelamin"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:a.jenis_kelamin})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Alamat rumah"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:a.alamat})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"No. Telp/E-mail"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{width:"90px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Rumah"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{width:"180px",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:"-"}),e.jsx("td",{style:{width:"90px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Kantor"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"}}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"}}),e.jsx("td",{style:{width:"90px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"HP"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{width:"180px",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:a.telepon}),e.jsx("td",{style:{width:"90px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Email"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:a.email})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Kualifikasi/Pendidikan"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:a.pendidikan})]})]})}),c&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"12px"},children:"Jadwal Pra-Asesmen"}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #999",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Skema Sertifikasi"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:c.skema.nama})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Tempat Uji Kompetensi"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:c.tuk.nama})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Tanggal"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:tt(c.tanggal_uji)})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:"Waktu"}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:new Date(c.tanggal_uji).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]})})]}),e.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"12px"},children:"Dokumen Pendukung"}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #999",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:e.jsx("tbody",{children:un.map(f=>{const N=a[f.key];return e.jsxs("tr",{children:[e.jsx("td",{style:{width:"180px",background:"#fff",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderRight:"none"},children:f.label}),e.jsx("td",{style:{width:"10px",textAlign:"center",border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #999",padding:"6px 8px",verticalAlign:"middle",borderLeft:"none"},colSpan:8,children:e.jsx("button",{onClick:()=>M(N,f.label),style:{background:"none",border:"none",color:"#0066cc",cursor:"pointer",textDecoration:"underline",padding:0,fontSize:"13px"},children:"Lihat Dokumen"})})]},f.key)})})}),e.jsx("div",{style:{background:"#fff9e6",border:"1px solid #e6b800",marginBottom:"20px",padding:"12px"},children:e.jsxs("p",{style:{fontSize:"13px",color:"#000",margin:0},children:[e.jsx("strong",{children:"Penting:"})," Data yang Anda masukkan bersifat resmi dan dapat dipertanggungjawabkan secara hukum."]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t(-1),children:"Kembali"}),e.jsx(le,{variant:"primary",onClick:b,children:"Data Sudah Benar, Lanjut ke APL 01"})]})]}),d&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",background:"rgba(0,0,0,0.5)"},onClick:P,children:e.jsxs("div",{style:{background:"#fff",borderRadius:"4px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",maxWidth:"900px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column"},onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",borderBottom:"1px solid #999",background:"#f0f0f0"},children:[e.jsx("h3",{style:{fontWeight:"bold",color:"#000",margin:0},children:d.label}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[d.type==="pdf"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,disabled:x<=.5,style:{padding:"4px",border:"1px solid #999",background:"#fff",cursor:x<=.5?"not-allowed":"pointer",opacity:x<=.5?.5:1},children:e.jsx(Vt,{style:{width:"16px",height:"16px"}})}),e.jsxs("span",{style:{fontSize:"13px",fontWeight:"normal",color:"#000",minWidth:"48px",textAlign:"center"},children:[Math.round(x*100),"%"]}),e.jsx("button",{onClick:C,disabled:x>=3,style:{padding:"4px",border:"1px solid #999",background:"#fff",cursor:x>=3?"not-allowed":"pointer",opacity:x>=3?.5:1},children:e.jsx(Qt,{style:{width:"16px",height:"16px"}})})]}),e.jsx("button",{onClick:()=>window.open(d.url,"_blank"),style:{padding:"4px",border:"1px solid #999",background:"#fff",cursor:"pointer"},children:e.jsx(Xt,{style:{width:"16px",height:"16px"}})}),e.jsx("button",{onClick:P,style:{padding:"4px",border:"1px solid #999",background:"#fff",cursor:"pointer"},children:e.jsx(vs,{style:{width:"16px",height:"16px"}})})]})]}),e.jsx("div",{style:{flex:1,overflow:"auto",background:"#f5f5f5"},children:d.type==="image"?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100%",padding:"16px"},children:e.jsx("img",{src:d.url,alt:d.label,style:{maxWidth:"100%",objectFit:"contain",transform:`scale(${x})`,transformOrigin:"center"}})}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100%",padding:"16px"},children:e.jsx("iframe",{src:`${d.url}#view=fitH`,title:d.label,style:{border:"none",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",width:"100%",height:"80vh",transform:`scale(${x})`,transformOrigin:"top center"}})})})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"#f5f5f5"},children:e.jsxs("div",{className:"p-8 text-center max-w-md w-full",style:{background:"#fff",border:"1px solid #999"},children:[e.jsx(qt,{className:"w-12 h-12 mx-auto mb-4",style:{color:"#999"}}),e.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"#000"},children:"Data Tidak Ditemukan"}),e.jsx("p",{className:"text-sm mb-6",style:{color:"#666"},children:"Silakan coba kembali atau hubungi admin"}),e.jsx("button",{onClick:()=>t(-1),className:"w-full px-4 py-2 text-sm",style:{border:"1px solid #999",background:"#fff",color:"#000"},children:"Kembali"})]})})}function jn(){const t=xe(),{user:s}=re();return l.useEffect(()=>{s?.role?.name==="asesor"?t("/asesi/asesmen/ia04a",{replace:!0}):t("/asesi/asesmen/ia04a",{replace:!0})},[t,s]),null}function bn({currentStep:t,steps:s,id:a}){const n=xe(),i=d=>d==="active"?"animate-blue-pulse":"",r=d=>{if(d){if(a&&d.startsWith("/asesi/asesmen/")){const o=d.split("/");if(o[3]==="asesmen")return o.splice(4,0,a),o.join("/")}return d}},c=d=>d<t?"completed":d===t?"active":"pending",p=d=>{switch(d){case"completed":return{background:"#4caf50",iconColor:"#fff",borderColor:"#4caf5000"};case"active":return{background:"#0066cc",iconColor:"#fff",borderColor:"#0066cc"};default:return{background:"#f5f5f5",iconColor:"#aaa",borderColor:"#ddd"}}};return e.jsxs("div",{style:{position:"sticky",top:"80px",width:"200px",flexShrink:0},children:[e.jsx("br",{}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"16px",textTransform:"uppercase"},children:"Progress"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"18px",top:"12px",bottom:"12px",width:"3px",background:"#ddd"}}),s.map((d,o)=>{const x=c(d.number),h=p(x);return e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:o<s.length-1?"24px":"0",position:"relative"},children:[e.jsx("div",{className:i(x),style:{width:"36px",height:"36px",borderRadius:"50%",background:h.background,color:h.iconColor,border:"3px solid",borderColor:x==="completed"?"#4caf50":h.borderColor,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"15px",fontWeight:x==="pending"?"normal":"bold",flexShrink:0,zIndex:1,cursor:x!=="pending"&&d.href?"pointer":"default"},onClick:()=>{if(x!=="pending"&&d.href){const g=r(d.href);g&&n(g)}},children:x==="completed"?"":d.number}),e.jsx("span",{style:{marginLeft:"14px",fontSize:"14px",color:"#333",fontWeight:x==="pending"?"normal":"600",paddingTop:"6px"},children:d.label}),x!=="pending"&&o<s.length-1&&e.jsx("div",{style:{position:"absolute",left:"18px",top:"36px",width:"3px",height:"calc(100% - 36px)",background:"#0066cc",zIndex:0}})]},d.number)})]})]})}function Ue({children:t,currentStep:s,steps:a,id:n}){return e.jsxs(e.Fragment,{children:[e.jsx(os,{videoSrc:ds}),e.jsxs("div",{style:{display:"flex",gap:"30px",padding:"20px",maxWidth:"1100px",margin:"0 auto",alignItems:"flex-start",position:"relative",zIndex:1},children:[e.jsx("div",{style:{position:"sticky",top:"80px",alignSelf:"flex-start"},children:e.jsx(bn,{currentStep:s,steps:a,id:n})}),e.jsx("div",{style:{flex:1,minWidth:0,backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:t})]})]})}function Me(t){const[s,a]=l.useState({jabatanKerja:"",nomorSkema:"",tuk:"",asesorList:[],namaAsesor:"",namaAsesi:"",idAsesor1:null,idAsesor2:null,tanggalUji:"",tanggalSelesai:null,jenisKelas:""}),[n,i]=l.useState(!0),[r,c]=l.useState(null);return l.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{const d=localStorage.getItem("access_token"),o=await fetch(`https://backend.devgatensi.site/api/asesmen/${t}/data-dokumen`,{headers:{Accept:"application/json",Authorization:`Bearer ${d}`}});if(o.ok){const x=await o.json();if(x.message==="Success"&&x.data){const h=[];x.data.asesor_1&&x.data.id_asesor_1&&h.push({id:x.data.id_asesor_1,nama:x.data.asesor_1,noreg:x.data.noreg_asesor_1||""}),x.data.asesor_2&&x.data.id_asesor_2&&h.push({id:x.data.id_asesor_2,nama:x.data.asesor_2,noreg:x.data.noreg_asesor_2||""});const g=h.map(b=>b.nama).join(", ");a({jabatanKerja:x.data.jabatan_kerja||"",nomorSkema:x.data.nomor_skema||"",tuk:x.data.tuk||"",asesorList:h,namaAsesor:g,namaAsesi:x.data.nama_asesi||"",idAsesor1:x.data.id_asesor_1||null,idAsesor2:x.data.id_asesor_2||null,tanggalUji:x.data.tanggal_uji||"",tanggalSelesai:x.data.tanggal_selesai,jenisKelas:x.data.jenis_kelas||""})}}else console.warn(`Data Dokumen Asesmen API returned ${o.status}`)}catch(d){console.error("Error fetching data dokumen asesmen:",d),c(d instanceof Error?d.message:"Unknown error")}finally{i(!1)}})()},[t]),{...s,isLoading:n,error:r}}function Oe(t){const{user:s}=re(),{asesorList:a}=Me(t);return l.useMemo(()=>{const i={role:"none",asesorIndex:-1,isAsesor1:!1,isAsesor2:!1,isAsesorOther:!1};if(!s||s.role?.name?.toLowerCase()!=="asesor")return i;const r=s.noreg||"";if(!r||!a.length)return i;const c=a.findIndex(p=>p.noreg===r);return c===-1?i:c===0?{role:"asesor_1",asesorIndex:0,isAsesor1:!0,isAsesor2:!1,isAsesorOther:!1}:c===1?{role:"asesor_2",asesorIndex:1,isAsesor1:!1,isAsesor2:!0,isAsesorOther:!1}:{role:"asesor_other",asesorIndex:c,isAsesor1:!1,isAsesor2:!1,isAsesorOther:!0}},[s,a])}function ns(){const{user:t}=re(),s=t?.role?.name?.toLowerCase()==="asesor",{kegiatan:a,isLoading:n}=as(!s),{kegiatan:i,isLoading:r}=Ys(s);return{kegiatan:s?i:a,isLoading:s?r:n,isAsesor:s}}const yn=[{number:1,label:"Konfirmasi",href:"/asesi/praasesmen"},{number:2,label:"APL 01",href:"/asesi/praasesmen/APL01"},{number:3,label:"APL 02",href:"/asesi/praasesmen/APL02"},{number:4,label:"MAPA 01",href:"/asesi/praasesmen/MAPA01"},{number:5,label:"MAPA 02",href:"/asesi/praasesmen/MAPA02"},{number:6,label:"AK.07",href:"/asesi/praasesmen/AK07"},{number:7,label:"AK.04",href:"/asesi/praasesmen/AK04"},{number:8,label:"K3",href:"/asesi/praasesmen/K3"},{number:9,label:"AK.01",href:"/asesi/praasesmen/AK01"},{number:10,label:"Selesai",href:"/asesi/praasesmen/selesai"}],kn=[{number:1,label:"IA.04.A",href:"/asesi/asesmen/ia04a"},{number:2,label:"Upload Tugas",href:"/asesi/asesmen/upload-tugas"},{number:3,label:"IA.04.B",href:"/asesi/asesmen/ia04b"},{number:4,label:"Ujian",href:"/asesi/asesmen/uji"},{number:5,label:"Selesai",href:"/asesi/asesmen/selesai"}],vn=[{number:1,label:"IA.04.A",href:"/asesi/asesmen/ia04a"},{number:2,label:"Review Tugas",href:"/asesi/asesmen/upload-tugas"},{number:3,label:"IA.04.B",href:"/asesi/asesmen/ia04b"},{number:4,label:"IA.05",href:"/asesi/asesmen/ia05"},{number:5,label:"AK.02",href:"/asesi/asesmen/ak02"},{number:6,label:"AK.03",href:"/asesi/asesmen/ak03"},{number:7,label:"AK.06",href:"/asesi/asesmen/ak06"},{number:8,label:"Selesai",href:"/asesi/asesmen/selesai"}],at=[{number:1,label:"IA.04.A",href:"/asesi/asesmen/ia04a"},{number:2,label:"Review Tugas",href:"/asesi/asesmen/upload-tugas"},{number:3,label:"IA.04.B",href:"/asesi/asesmen/ia04b"},{number:4,label:"IA.05",href:"/asesi/asesmen/ia05"},{number:5,label:"AK.02",href:"/asesi/asesmen/ak02"},{number:6,label:"AK.06",href:"/asesi/asesmen/ak06"},{number:7,label:"Selesai",href:"/asesi/asesmen/selesai"}];function Qe(t,s,a){return t?s==="asesor_1"?vn:at:kn}function q({checked:t,onChange:s,disabled:a=!1,id:n,className:i="",style:r}){const c=n||`checkbox-${Math.random().toString(36).substring(7)}`;return e.jsxs("div",{className:`checkbox-wrapper ${i}`,style:r,children:[e.jsx("input",{type:"checkbox",id:c,checked:t,onChange:s,disabled:a}),e.jsx("label",{htmlFor:c,className:"check-box",style:{opacity:a?.5:1,pointerEvents:a?"none":"auto"}})]})}function wn(t){const s=document.createElement("textarea");return s.innerHTML=t,s.value}function Sn(t){const s=wn(t).replace(/<br\s*\/?>/gi,`
`).replace(/&nbsp;/gi," ").trim();if(/^\d+\.\s+/m.test(s)){const i=s.split(/\n(?=\d+\.\s+)/),r=[],c=i[0]?.split(`
`)[0]?.trim()||"",p=!/^\d+\.\s+/.test(c);for(const d of i){if(!d.trim())continue;const o=d.split(`
`).filter(g=>g.trim()),x=[],h=[];for(const g of o){const b=g.trim();b&&(/^[\-\*]\s+/.test(b)?h.push(b):x.push(b))}if(x.length>0){const g=x.join(" "),b=/^\d+\.\s+/.test(g),M=p&&b?1:0;r.push({content:g,level:M})}for(const g of h)r.push({content:g,level:2})}return{type:"ol",items:r}}if(/[\-\*]\s+/m.test(s)){const i=s.split(`
`),r=[];for(const c of i){const p=c.trimEnd(),d=c.match(/^\s*/)?.[0].length||0,o=Math.floor(d/2);r.push({content:p,level:o})}return{type:"ul",items:r.filter(c=>c.content.trim())}}return{type:"p",items:[{content:s,level:0}]}}function An(){const t=xe(),{user:s,isLoading:a}=re(),{id:n}=we(),{jabatanKerja:i,nomorSkema:r,tuk:c,asesorList:p,namaAsesi:d}=Me(n),{role:o,isAsesor1:x}=Oe(n),{showSuccess:h,showWarning:g,showError:b}=De(),{kegiatan:M,isAsesor:P}=ns(),[C,j]=l.useState(null),[f,N]=l.useState(!0),[B,Z]=l.useState(!1),[R,Q]=l.useState({}),[A,G]=l.useState(null),J=Qe(P,o,p.length);l.useEffect(()=>{(async()=>{if(!a){if(!n){console.error("No id_izin found in user data"),console.log("User:",s),N(!1);return}try{const S=localStorage.getItem("access_token");console.log("=== FETCHING IA04A ==="),console.log("ID:",n);const W=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ia04a`,{headers:{Accept:"application/json",Authorization:`Bearer ${S}`}});if(W.ok){const F=await W.json();if(F.message==="Success"){j(F.data);const K={};if(F.data.soal.forEach(w=>{w.is_komentar==="2"&&w.jawaban&&(K[w.id]=w.jawaban)}),Q(K),F.data.barcodes){const w=F.data.barcodes,D={};w.asesor1&&p[0]&&(D[String(p[0].id)]=w.asesor1),w.asesor2&&p[1]&&(D[String(p[1].id)]=w.asesor2),G({asesi:w.asesi,asesor:D})}console.log("IA04A Data:",F.data)}}else console.warn(`IA04A API returned ${W.status}`)}catch(S){console.error("Error fetching IA04A:",S)}finally{N(!1)}}})()},[n,a,s,p]);const Y=async()=>{if(!B){g("Silakan centang pernyataan terlebih dahulu");return}const T=C?.soal.find(m=>m.is_komentar==="2");if(P&&x&&T&&!(R[T.id]||"").trim()){g("Silakan isi umpan balik terlebih dahulu");return}const S=P&&!x,W=T?.id,F=W&&R[W]||"",K=P&&x&&F.trim(),w=M?.jadwal_id,D=localStorage.getItem("access_token");if(S){if(!w){b("Jadwal tidak ditemukan");return}const m=String(s?.id);if(A?.asesor?.[m]?.url){setTimeout(()=>{t(`/asesi/asesmen/${n}/upload-tugas`)},500);return}try{const z=await fetch(`https://backend.devgatensi.site/api/qr/${n}/ia04a`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({id_jadwal:w})});if(z.ok){const u=await z.json();if(u.message==="Success"&&u.data?.url_image){const k=String(s?.id);G(y=>({asesi:y?.asesi,asesor:{...y?.asesor,[k]:{url:u.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}})),h("Tanda tangan berhasil disimpan!"),setTimeout(()=>{t(`/asesi/asesmen/${n}/upload-tugas`)},500);return}}else b("Gagal generate tanda tangan")}catch(z){console.error("Error generating QR:",z),b("Gagal generate tanda tangan")}t(`/asesi/asesmen/${n}/upload-tugas`);return}if(K&&W)try{const m=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ia04a`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify({soal_id:W,jawaban:F})});if(m.ok){if(await m.json(),w){const $=String(s?.id);if(A?.asesor?.[$]?.url){setTimeout(()=>{t(`/asesi/asesmen/${n}/upload-tugas`)},500);return}try{const u=await fetch(`https://backend.devgatensi.site/api/qr/${n}/ia04a`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({id_jadwal:w})});if(u.ok){const k=await u.json();if(k.message==="Success"&&k.data?.url_image){const y=String(s?.id);G(v=>({asesi:v?.asesi,asesor:{...v?.asesor,[y]:{url:k.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}})),h("IA 04.A berhasil disimpan!"),setTimeout(()=>{t(`/asesi/asesmen/${n}/upload-tugas`)},500);return}}}catch(u){console.error("Error generating QR:",u),h("IA 04.A berhasil disimpan!"),setTimeout(()=>{t(`/asesi/asesmen/${n}/upload-tugas`)},500)}}}else console.error("Failed to save umpan balik:",m.status)}catch(m){console.error("Error in asesor_1 flow:",m)}if(!P){h("IA 04.A berhasil disimpan!"),setTimeout(()=>{t(`/asesi/asesmen/${n}/upload-tugas`)},500);return}h("IA 04.A berhasil disimpan!"),setTimeout(()=>{t(`/asesi/asesmen/${n}/upload-tugas`)},500)};if(f)return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx(Ce,{text:"Memuat data IA.04.A..."})]});const H=C?.kelompok_kerja.kelompok_kerja[0],I=H?.units||[];return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"IA.04.A"})]})})}),e.jsxs(Ue,{currentStep:1,steps:J,id:n,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",color:"#000",letterSpacing:"1px"},children:C?.kelompok_kerja.kode})," ",C?.kelompok_kerja.nama_dokumen||"FR.IA.04. PENJELASAN SINGKAT PROYEK TERKAIT PEKERJAAN KEGIATAN TERSTRUKTUR LAINNYA"]}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Skema Sertifikasi (/Okupasi/)"}),e.jsx("td",{style:{width:"5%",border:"1px solid #000",padding:"6px"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:i?.toLocaleUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:r?.toUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:c?.toUpperCase()||""})]}),p.length>1?p.map((T,S)=>e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:["Nama Asesor ",S+1]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:T.nama?.toUpperCase()||""})]},T.id)):e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:p[0]?.nama?.toUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:d?.toUpperCase()||s?.name?.toUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:new Date().toLocaleDateString("id-ID")})]})]})}),e.jsx("div",{style:{fontSize:"12px",marginTop:"5px"},children:"*Coret yang tidak perlu"}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{background:"#c40000",color:"#fff",fontWeight:"bold"},children:e.jsx("td",{children:"PANDUAN BAGI ASESOR"})}),e.jsx("tr",{children:e.jsx("td",{style:{background:"#e9e9e9e",border:"1px solid #000",padding:"6px"},children:e.jsxs("ul",{style:{margin:"5px 0 5px 18px",paddingLeft:"18px",listStyleType:"disc"},children:[e.jsx("li",{style:{marginBottom:"6px"},children:"Tentukan proyek singkat atau kegiatan terstruktur lainnya yang harus dipersiapkan dan dipresentasikan oleh asesi."}),e.jsx("li",{style:{marginBottom:"6px"},children:"Proyek singkat atau kegiatan terstruktur lainnya dibuat untuk keseluruhan unit kompetensi dalam Skema Sertifikasi atau untuk masing-masing kelompok pekerjaan."}),e.jsx("li",{style:{marginBottom:"0"},children:"Kumpulkan hasil proyek singkat atau kegiatan terstruktur lainnya sesuai dengan hasil keluaran yang telah ditetapkan."})]})})})]})}),H&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{background:"#c40000",color:"#fff",fontWeight:"bold"},children:[e.jsx("td",{rowSpan:I.length+1,style:{width:"20%",textAlign:"center",verticalAlign:"middle",border:"1px solid #000",padding:"6px"},children:H.nama}),e.jsx("td",{style:{width:"8%",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"No."}),e.jsx("td",{style:{width:"25%",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Kode Unit"}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Judul Unit"})]}),I.map((T,S)=>e.jsxs("tr",{children:[e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:S+1}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:T.kode_unit}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:T.nama_unit})]},T.id_unit))]})}),e.jsx("br",{}),C?.soal.map(T=>e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{width:"28%",background:"#e9e9e9e",fontWeight:"bold",border:"1px solid #000",padding:"6px"},children:T.soal}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:T.is_komentar==="2"?P&&x?e.jsx("textarea",{value:R[T.id]||"",onChange:S=>Q(W=>({...W,[T.id]:S.target.value})),style:{width:"100%",height:"100px",border:"1px solid #ccc",padding:"8px",fontSize:"13px",resize:"none",fontFamily:"Arial, Helvetica, sans-serif"},placeholder:"Tuliskan umpan balik untuk asesi..."}):e.jsx("p",{style:{margin:"5px 0"},children:R[T.id]||T.jawaban||"-"}):T.jenis==="1"?(()=>{const S=Sn(T.jawaban);return S.type==="ol"?e.jsx("ol",{style:{margin:"5px 0 5px 18px",paddingLeft:"18px"},children:S.items.map((W,F)=>e.jsx("li",{style:{marginLeft:`${W.level*20}px`,marginBottom:"4px"},children:W.content},F))}):S.type==="ul"?e.jsx("ul",{style:{margin:"5px 0 5px 18px",paddingLeft:"18px",listStyleType:"disc"},children:S.items.map((W,F)=>e.jsx("li",{style:{marginLeft:`${W.level*20}px`,marginBottom:"4px"},children:W.content},F))}):e.jsx("p",{style:{margin:"5px 0"},children:S.items[0].content})})():e.jsx("div",{style:{height:"60px"}})})]})})},T.id)),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{textAlign:"center",fontWeight:"bold",borderRight:"1px solid #000"},children:[e.jsx("td",{children:"Tanda Tangan Asesi"}),e.jsx("td",{colSpan:p.length,children:"Tanda Tangan Asesor"}),e.jsx("td",{style:{display:p.length>0?"none":"table-cell"},children:"Nama & Tanda Tangan Supervisor Tempat Kerja"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{height:"120px",border:"1px solid #000",padding:"6px",verticalAlign:"middle",textAlign:"center"},children:A?.asesi?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:A.asesi.nama}),e.jsx("img",{src:A.asesi.url,alt:"Tanda Tangan Asesi",style:{height:"50px",width:"50px",objectFit:"contain"}}),A.asesi.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(A.asesi.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null}),p.map(T=>{const S=A?.asesor?.[String(T.id)];return e.jsx("td",{style:{height:"120px",border:"1px solid #000",padding:"6px",verticalAlign:"middle",textAlign:"center"},children:S?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:S.nama.toUpperCase()}),e.jsx("img",{src:S.url,alt:`Tanda Tangan ${T.nama}`,style:{height:"50px",width:"50px",objectFit:"contain"}}),S.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(S.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null},T.id)}),e.jsx("td",{style:{display:p.length>0?"none":"table-cell",height:"120px",border:"1px solid #000",padding:"6px"}})]})]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{textAlign:"center",fontWeight:"bold"},children:[e.jsx("td",{style:{width:"15%",border:"1px solid #000",padding:"6px"},children:"STATUS"}),e.jsx("td",{style:{width:"8%",border:"1px solid #000",padding:"6px"},children:"NO"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"NAMA"}),e.jsx("td",{style:{width:"20%",border:"1px solid #000",padding:"6px"},children:"NOMOR MET"}),e.jsx("td",{style:{width:"20%",border:"1px solid #000",padding:"6px"},children:"TANDA TANGAN DAN TANGGAL"})]}),e.jsxs("tr",{style:{background:"#e9e9e9e",fontWeight:"bold"},children:[e.jsx("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"PENYUSUN"}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:"1"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}})]}),e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:"2"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}})]}),e.jsxs("tr",{style:{background:"#e9e9e9e",fontWeight:"bold"},children:[e.jsx("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"VALIDATOR"}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:"1"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}})]}),e.jsxs("tr",{style:{background:"#e9e9e9e"},children:[e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:"2"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}})]})]})}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{background:"#fff",border:"1px solid #999",borderRadius:"4px",padding:"16px",marginBottom:"16px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:B,onChange:()=>Z(!B),style:{marginTop:"2px"}}),e.jsx("span",{style:{fontSize:"13px",color:"#333"},children:"Saya menyatakan dengan sebenar-benarnya bahwa saya telah memahami instruksi tugas terstruktur dan akan menyelesaikan tugas tersebut sesuai dengan ketentuan yang berlaku. Saya bertanggung jawab penuh atas keaslian dan kelengkapan tugas yang saya serahkan."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t("/asesi/dashboard"),children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:!B,onClick:Y,children:"Lanjut"})]})]})]})]})}const is={primary:{padding:"10px 20px",border:"none",background:"#10b981",color:"#fff",fontSize:"14px",fontWeight:"600",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.15)"},primaryHover:{background:"#059669",transform:"translateY(-2px)"},secondary:{padding:"10px 20px",border:"2px solid #10b981",background:"#fff",color:"#10b981",fontSize:"14px",fontWeight:"600",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},secondaryHover:{background:"#ecfdf5",transform:"translateY(-2px)"}};function Nn(){const t=xe(),{user:s}=re(),{id:a}=we(),{role:n}=Oe(a),{asesorList:i}=Me(a),{showSuccess:r,showError:c}=De(),p=s?.role?.name?.toLowerCase()==="asesor",d=p,[o,x]=l.useState(null),[h,g]=l.useState(!1),[b,M]=l.useState(!1),[P,C]=l.useState(null),[j,f]=l.useState(!1),[N,B]=l.useState(!1),Z=Qe(p,n,i.length);l.useEffect(()=>{(async()=>{if(a)try{const T=localStorage.getItem("access_token"),S=await fetch(`https://backend.devgatensi.site/api/asesmen/${a}/tugas`,{headers:{Accept:"application/json",Authorization:`Bearer ${T}`}});if(S.ok){const W=await S.json();W.message==="Success"&&W.data.url&&C({url:W.data.url,extension:W.data.extension,fileName:`Tugas.${W.data.extension}`})}}catch(T){console.error("Error fetching tugas:",T)}})()},[a]);const R=I=>{const T=I.target.files?.[0];T&&A(T)&&x(T)},Q=async()=>{if(o){g(!0);try{const I=localStorage.getItem("access_token"),T=new FormData;T.append("file",o);const S=await fetch(`https://backend.devgatensi.site/api/asesmen/${a}/tugas`,{method:"POST",headers:{Authorization:`Bearer ${I}`},body:T}),W=await S.json();if(console.log("Upload response:",W),S.ok){const{filename:F,extension:K,url:w}=W.data||{filename:"",extension:"",url:""},D=F||o.name,m=K||o.name.split(".").pop()||"";C({url:w||"",extension:m,fileName:D}),x(null),r(W.message||"Tugas berhasil diupload!"),B(!0);const $=document.querySelector('input[type="file"]');$&&($.value="")}else c(W.message||"Gagal mengupload tugas")}catch(I){console.error("Error uploading tugas:",I),c("Terjadi kesalahan saat mengupload tugas")}finally{g(!1)}}},A=I=>{const T=["application/pdf","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","image/jpeg","image/png","image/jpg"],S=[".pdf",".ppt",".pptx",".jpg",".jpeg",".png"],W="."+I.name.split(".").pop()?.toLowerCase();if(!T.includes(I.type)&&!S.includes(W))return c("Format file tidak didukung. Gunakan PDF, PPT, PPTX, JPG, atau PNG."),!1;const F=10*1024*1024;return I.size>F?(c("Ukuran file terlalu besar. Maksimal 10MB."),!1):!0},G=I=>{I.preventDefault(),I.stopPropagation();const T=I.dataTransfer.files?.[0];T&&A(T)&&x(T),M(!1)},J=I=>{I.preventDefault(),I.stopPropagation(),M(!0)},Y=()=>{M(!1)},H=()=>{C(null),x(null);const I=document.querySelector('input[type="file"]');I&&(I.value="")};return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>s?.role?.name==="asesor"?t("/asesor/dashboard"):t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:d?"Review Tugas":"Upload Tugas"})]})})}),e.jsxs(Ue,{currentStep:Z.find(I=>I.href.includes("upload-tugas"))?.number||2,steps:Z,id:a,children:[e.jsxs("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"4px",padding:"24px"},children:[!d&&e.jsxs("div",{style:{paddingBottom:"16px",borderBottom:"1px solid #eee",marginBottom:"20px"},children:[e.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",marginBottom:"4px"},children:"UPLOAD FILE TUGAS"}),e.jsx("p",{style:{fontSize:"13px",color:"#666"},children:"Silakan upload tugas terstruktur Anda (PDF, PPT, PPTX, JPG, PNG - Max 10MB)"})]}),d&&P&&e.jsxs("div",{style:{paddingBottom:"16px",borderBottom:"1px solid #eee",marginBottom:"20px"},children:[e.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",marginBottom:"4px"},children:"FILE TUGAS DARI ASESI"}),e.jsx("p",{style:{fontSize:"13px",color:"#666"},children:"Silakan cek tugas terstruktur dari asesi berikut"})]}),d&&P&&e.jsx("div",{style:{borderRadius:"12px"},children:e.jsx("div",{style:{background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:e.jsx("div",{style:{width:"100%",height:"90vh",background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:["pdf","ppt","pptx"].includes(P.extension.toLowerCase())?e.jsx("object",{data:P.url+"#toolbar=0&navpanes=0&scrollbar=0",type:P.extension==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.presentationml.presentation",style:{width:"100%",height:"100%",border:"none"},children:e.jsx("p",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"Loading preview..."})}):e.jsx("img",{src:P.url,alt:P.fileName,style:{width:"100%",height:"100%",objectFit:"contain"}})})})}),!d&&e.jsx("div",{style:{borderRadius:"12px"},children:P&&!o?e.jsxs("div",{style:{textAlign:"center",maxWidth:"100%",maxHeight:"100%",margin:"0 auto",padding:"32px",background:"#F5FFF6",borderRadius:"16px",border:"2px dashed #B0D9B2",transition:"all 0.2s ease",cursor:"pointer"},children:[e.jsx("div",{style:{width:"120px",height:"120px",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",position:"relative"},children:e.jsx(_e,{icon:Ts,style:{fontSize:"48px",color:"#10b981"}})}),e.jsx("p",{style:{fontSize:"16px",color:"#065f46",fontWeight:"600",marginTop:"12px"},children:"File berhasil diupload!"}),e.jsx("span",{style:{fontSize:"14px",color:"#166534",fontWeight:"500",marginBottom:"24px",display:"block",marginTop:"8px"},children:e.jsx("strong",{children:P.fileName})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[e.jsxs("button",{onClick:()=>B(!0),style:is.primary,onMouseEnter:I=>{Object.assign(I.currentTarget.style,is.primaryHover)},onMouseLeave:I=>{I.currentTarget.style.background=is.primary.background,I.currentTarget.style.transform="translateY(0)"},children:[e.jsx(_e,{icon:bt,style:{marginRight:"8px"}}),"Lihat"]}),e.jsxs("button",{onClick:H,style:is.secondary,onMouseEnter:I=>{Object.assign(I.currentTarget.style,is.secondaryHover)},onMouseLeave:I=>{I.currentTarget.style.background=is.secondary.background,I.currentTarget.style.transform="translateY(0)"},children:[e.jsx(_e,{icon:na,style:{marginRight:"8px"}}),"Ganti File"]})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{onDrop:G,onDragOver:J,onDragLeave:Y,style:{maxWidth:"100%",maxHeight:"100%",margin:"0 auto",padding:"32px",background:b?"#f0f9ff":"#fafafa",borderRadius:"16px",border:b?"2px dashed #10b981":"2px dashed #d1d5db",transition:"all 0.2s ease",cursor:"pointer",textAlign:"center"},children:[e.jsx("div",{style:{width:"80px",height:"80px",background:b?"#d1fae5":"#e5e7eb",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:e.jsx(_e,{icon:et,style:{fontSize:"32px",color:b?"#10b981":"#6b7280"}})}),o?e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{fontSize:"14px",color:"#10b981",fontWeight:"600",marginBottom:"4px"},children:o.name}),e.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"16px"},children:[(o.size/1024).toFixed(1)," KB"]}),e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[e.jsx("button",{onClick:Q,disabled:h,style:{padding:"12px 24px",background:h?"#9ca3af":"#10b981",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:h?"not-allowed":"pointer",border:"none",borderRadius:"8px",transition:"all 0.2s",boxShadow:h?"none":"0 2px 8px rgba(16, 185, 129, 0.2)"},children:h?e.jsxs(e.Fragment,{children:[e.jsx(_e,{icon:ia,style:{marginRight:"8px",animation:"spin 1s linear infinite"}}),"Mengupload..."]}):"Upload"}),e.jsx("button",{onClick:()=>x(null),disabled:h,style:{padding:"12px 24px",background:"#fff",color:"#6b7280",fontSize:"14px",fontWeight:"600",cursor:h?"not-allowed":"pointer",border:"2px solid #e2e8f0",borderRadius:"8px",transition:"all 0.2s"},onMouseEnter:I=>{I.currentTarget.style.background="#f9fafb",I.currentTarget.style.borderColor="#cbd5e1"},onMouseLeave:I=>{I.currentTarget.style.background="#fff",I.currentTarget.style.borderColor="#e2e8f0"},children:"Batal"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{fontSize:"14px",color:"#374151",fontWeight:"500",marginBottom:"16px"},children:"Drag & drop file Anda di sini"}),e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"10px",padding:"12px 32px",background:"#3b82f6",color:"#fff",fontSize:"14px",fontWeight:"600",cursor:"pointer",border:"none",borderRadius:"8px",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)"},onMouseEnter:I=>{I.currentTarget.style.background="#2563eb",I.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:I=>{I.currentTarget.style.background="#3b82f6",I.currentTarget.style.transform="translateY(0)"},children:[e.jsx(_e,{icon:et}),"Pilih File",e.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.jpg,.jpeg,.png",onChange:R,style:{display:"none"}})]}),e.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"16px"},children:"PDF, PPT, PPTX, JPG, PNG  Maks 10MB"})]})]})})})]}),e.jsx("div",{style:{marginTop:"16px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",cursor:"pointer",padding:"12px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[e.jsx("input",{type:"checkbox",checked:j,onChange:I=>f(I.target.checked),style:{marginTop:"4px",width:"16px",height:"16px"}}),e.jsx("span",{style:{fontSize:"13px",color:"#374151",lineHeight:"1.5"},children:"Saya menyatakan bahwa file yang saya upload adalah hasil karya sendiri dan tidak melanggar hak cipta pihak lain. Saya bersedia bertanggung jawab atas keaslian dokumen yang saya sertakan."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t(`/asesi/asesmen/${a}/ia04a`),children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:!P||!j,onClick:()=>{!P||!j||t(`/asesi/asesmen/${a}/ia04b`)},children:"Lanjut"})]})]}),!d&&N&&P&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"10px"},onClick:()=>B(!1),children:e.jsxs("div",{style:{background:"#fff",borderRadius:"12px",maxWidth:"68%",width:"100%",height:"90%",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.25)",overflow:"hidden"},onClick:I=>I.stopPropagation(),children:[e.jsx("div",{style:{flex:1,overflow:"hidden",padding:"5px",background:"#fafafa",position:"relative"},children:["pdf","ppt","pptx"].includes(P.extension.toLowerCase())?e.jsx("object",{data:P.url,type:P.extension==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.presentationml.presentation",style:{width:"100%",height:"100%",border:"none",borderRadius:"8px"},children:e.jsx("p",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"Loading preview..."})}):e.jsx("img",{src:P.url,alt:P.fileName,style:{width:"100%",height:"auto",maxHeight:"100%",objectFit:"contain",borderRadius:"8px"}})}),e.jsxs("div",{style:{padding:"8px 20px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[e.jsx("a",{href:P.url,download:P.fileName,style:{padding:"10px 20px",background:"#fff",color:"#10b981",fontSize:"14px",fontWeight:"600",borderRadius:"8px",border:"2px solid #10b981",cursor:"pointer",textDecoration:"none",transition:"all 0.2s"},onMouseEnter:I=>{I.currentTarget.style.background="#ecfdf5",I.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:I=>{I.currentTarget.style.background="#fff",I.currentTarget.style.transform="translateY(0)"},children:"Download"}),e.jsx("button",{onClick:()=>B(!1),style:{padding:"10px 20px",background:"#CC3131",color:"#fff",fontSize:"14px",fontWeight:"600",borderRadius:"8px",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>{I.currentTarget.style.background="#8C2222"},onMouseLeave:I=>I.currentTarget.style.background="#CC3131",children:"Tutup"})]})]})})]})}function Ct({isOpen:t,title:s,message:a,confirmText:n="Ya",cancelText:i="Batal",confirmColor:r="#00488f",onConfirm:c,onCancel:p}){return t?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"16px"},children:e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",animation:"fadeIn 0.2s ease-out"},children:[e.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
          }
        `}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",margin:"0 0 12px 0",color:"#1e293b"},children:s}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",margin:"0 0 24px 0",lineHeight:"1.5"},children:a}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:p,style:{padding:"10px 20px",border:"1px solid #e2e8f0",backgroundColor:"#fff",color:"#64748b",fontSize:"14px",fontWeight:"600",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="#f8fafc"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="#fff"},children:i}),e.jsx("button",{onClick:c,style:{padding:"10px 20px",border:"none",backgroundColor:r,color:"#fff",fontSize:"14px",fontWeight:"600",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor=r+"cc"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor=r},children:n})]})]})}):null}function Tn(){const t=xe(),{user:s,isLoading:a}=re(),{id:n}=we(),{jabatanKerja:i,nomorSkema:r,tuk:c,asesorList:p,namaAsesi:d}=Me(n),{role:o,isAsesor1:x}=Oe(n),{showSuccess:h,showError:g,showWarning:b}=De(),{kegiatan:M,isAsesor:P}=ns(),[C,j]=l.useState(null),[f,N]=l.useState(!0),[B,Z]=l.useState(!1),[R,Q]=l.useState({}),[A,G]=l.useState(null),[J,Y]=l.useState(!1),[H,I]=l.useState(!1),[T,S]=l.useState({}),[W,F]=l.useState(!1),[K,w]=l.useState(null),D=x,m=Qe(P,o,p.length);l.useEffect(()=>{(async()=>{if(!a){if(!n){console.error("No id_izin found in user data"),N(!1);return}try{const L=localStorage.getItem("access_token"),O=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ia04b`,{headers:{Accept:"application/json",Authorization:`Bearer ${L}`}});if(O.ok){const ee=await O.json();if(console.log("GET IA04B Response:",ee),ee.message==="Success"){if(j(ee.data),console.log("Barcodes from API:",ee.data.barcodes),ee.data.barcodes){const E=ee.data.barcodes;console.log("Barcodes from API:",E),w({asesi:E.asesi,asesor:{...E.asesor1?{asesor1:E.asesor1}:{},...E.asesor2?{asesor2:E.asesor2}:{}}})}if(!ee.data.barcodes||!ee.data.barcodes.asesor1||!ee.data.barcodes.asesor2){const E=localStorage.getItem(`ia04b_asesor_barcodes_${n}`);if(E)try{const V=JSON.parse(E);w(te=>({asesi:te?.asesi,asesor:{...te?.asesor,...V}}))}catch(V){console.error("Error parsing local barcodes:",V)}}const ie={},_={};ee.data.soal.forEach(E=>{E.pencapaian===!0?ie[E.id]="ya":ie[E.id]="tidak",E.jawaban&&(_[E.id]=E.jawaban)}),Q(ie),S(_),ee.data.rekomendasi.rekomendasi===!0?G("kompeten"):G("belum_kompeten"),I(!0)}}else console.warn(`IA04B API returned ${O.status}`)}catch(L){console.error("Error fetching IA04B:",L)}finally{N(!1)}}})()},[n,a]);const $=(v,L)=>{Q(O=>({...O,[v]:L}))},z=(v,L)=>{S(O=>({...O,[v]:L}))},u=v=>{const L=v.target;L.style.height="auto",L.style.height=`${L.scrollHeight}px`},k=async()=>{if(C)try{const v=localStorage.getItem("access_token"),L=C.soal.map(_=>({soal_id:_.id,pencapaian:R[_.id]==="ya"})),O={soal_id:C.rekomendasi.id,value:A==="kompeten"},ee={dokumen_id:C.dokumen.id,evaluations:L,rekomendasi:O};return(await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/nilai-ia04b`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(ee)})).ok}catch(v){return console.error("Error saving nilai IA04B:",v),!1}},y=async()=>{if(!J){b("Silakan centang pernyataan terlebih dahulu.");return}if(!C){b("Data belum dimuat.");return}if(!n){b("ID tidak ditemukan.");return}Z(!0);try{const v=localStorage.getItem("access_token"),L=C.soal.map(E=>({soal_id:E.id,jawaban:T[E.id]||E.jawaban||""})),O={dokumen_id:C.dokumen.id,answers:L},ee=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ia04b`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(O)});if(!ee.ok){const E=await ee.json();g(`Gagal menyimpan jawaban: ${E.message||"Terjadi kesalahan"}`),Z(!1);return}if(P&&!await k()){g("Gagal menyimpan nilai evaluasi. Silakan coba lagi."),Z(!1);return}if(h("IA 04.B berhasil disimpan!"),P){const E=M?.jadwal_id,V=String(s?.id);if(K?.asesor?.[V]?.url){const U=m.findIndex(Ne=>Ne.href.includes("ia04b"));m[U+1]?.href.includes("ia05")?setTimeout(()=>t(`/asesi/asesmen/${n}/ia05`),1500):setTimeout(()=>t(`/asesi/asesmen/${n}/ak03`),1500);return}if(E)try{const U=await fetch(`https://backend.devgatensi.site/api/qr/${n}/ia04b`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({id_jadwal:E})});if(console.log("QR Response:",U.status),U.ok){const ge=await U.json();if(console.log("QR Result:",ge),ge.message==="Success"&&ge.data?.url_image){const Ne={url:ge.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""};w(We=>({asesi:We?.asesi,asesor:{...We?.asesor,[V]:Ne}}));const Pe=localStorage.getItem(`ia04b_asesor_barcodes_${n}`),Se=Pe?JSON.parse(Pe):{};Se[V]=Ne,localStorage.setItem(`ia04b_asesor_barcodes_${n}`,JSON.stringify(Se))}else console.warn("QR generation unexpected response:",ge)}else{const ge=await U.json();console.error("QR generation failed:",U.status,ge),g("Gagal generate QR")}}catch(U){console.error("Error generating QR:",U)}}if(!P){setTimeout(()=>F(!0),500);return}const ie=m.findIndex(E=>E.href.includes("ia04b"));m[ie+1]?.href.includes("ia05")?setTimeout(()=>t(`/asesi/asesmen/${n}/ia05`),1500):setTimeout(()=>t(`/asesi/asesmen/${n}/ak03`),1500)}catch{g("Gagal menyimpan data. Silakan coba lagi.")}finally{Z(!1)}};return l.useEffect(()=>{H&&document.querySelectorAll("textarea[data-auto-resize]").forEach(L=>{const O=L;O.style.height="auto",O.style.height=`${O.scrollHeight}px`})},[H,T]),f?e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx(Ce,{text:"Memuat data IA.04.B..."})]}):e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t(P?"/asesor/dashboard":"/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"IA.04.B"})]})})}),e.jsxs(Ue,{currentStep:m.find(v=>v.href.includes("ia04b"))?.number||2,steps:m,id:n,children:[e.jsx("div",{style:{marginBottom:"20px"},children:e.jsxs("h1",{style:{fontSize:"18px",fontWeight:"bold",color:"#000"},children:["FR.IA.04.B  ",C?.dokumen.nama_dokumen||"LEMBAR PERIKSA KEGIATAN TERSTRUKTUR"]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"8px",fontSize:"13px",background:"#ffffff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{background:"#ffffff"},children:[e.jsx("td",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Skema Sertifikasi (/Okupasi/)"}),e.jsx("td",{style:{width:"5%",border:"1px solid #000",padding:"6px"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:i?.toLocaleUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#ffffff"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:r?.toUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#ffffff"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:c?.toLocaleUpperCase()||""})]}),p.length>1?p.map((v,L)=>e.jsxs("tr",{style:{background:"#ffffff"},children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:["Nama Asesor ",L+1]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:v.nama?.toUpperCase()||""})]},v.id)):e.jsxs("tr",{style:{background:"#ffffff"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:p[0]?.nama?.toUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#ffffff"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:d?.toUpperCase()||s?.name?.toLocaleUpperCase()||""})]}),e.jsxs("tr",{style:{background:"#ffffff"},children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:new Date().toLocaleDateString("id-ID")})]})]})}),e.jsx("div",{style:{fontSize:"12px",marginTop:"5px"},children:"*Coret yang tidak perlu"}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{background:"#c40000",color:"#fff",fontWeight:"bold"},children:e.jsx("td",{children:"PANDUAN BAGI ASESOR"})}),e.jsx("tr",{children:e.jsx("td",{style:{background:"#ffffffe",border:"1px solid #000",padding:"6px"},children:e.jsxs("ul",{style:{margin:"4px 0 4px 18px",paddingLeft:"18px",listStyleType:"disc"},children:[e.jsx("li",{style:{marginBottom:"4px"},children:"Lakukan penilaian pencapaian hasil proyek singkat atau kegiatan terstruktur lainnya melalui presentasi."}),e.jsx("li",{style:{marginBottom:"4px"},children:"Penilaian dapat dilakukan untuk keseluruhan unit kompetensi atau per kelompok pekerjaan."}),e.jsx("li",{style:{marginBottom:"4px"},children:"Pertanyaan disampaikan oleh asesor saat asesi melakukan presentasi."}),e.jsx("li",{style:{marginBottom:"4px"},children:"Pertanyaan untuk pemenuhan pencapaian 5 dimensi kompetensi."}),e.jsx("li",{style:{marginBottom:"4px"},children:"Isilah kolom lingkup penyajian proyek sesuai sektor/sub-sektor/profesi."}),e.jsx("li",{style:{marginBottom:"0"},children:"Berikan keputusan pencapaian berdasarkan kesimpulan jawaban asesi."})]})})})]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{background:"#c40000",color:"#fff",fontWeight:"bold",textAlign:"center"},children:[e.jsx("td",{rowSpan:2,style:{width:"5%",border:"1px solid #000",padding:"6px"},children:"No"}),e.jsx("td",{colSpan:3,style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Aspek Penilaian"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:"Pencapaian"})]}),e.jsxs("tr",{style:{background:"#c40000",color:"#fff",fontWeight:"bold",textAlign:"center"},children:[e.jsx("td",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Lingkup Penyajian proyek atau kegiatan terstruktur lainnya"}),e.jsx("td",{style:{width:"25%",border:"1px solid #000",padding:"6px"},children:"Daftar Pertanyaan"}),e.jsx("td",{style:{width:"25%",border:"1px solid #000",padding:"6px"},children:"Kesesuaian dengan standar kompetensi kerja"}),e.jsx("td",{style:{width:"7%",border:"1px solid #000",padding:"6px"},children:"Ya"}),e.jsx("td",{style:{width:"7%",border:"1px solid #000",padding:"6px"},children:"Tdk"})]}),C?.soal.map(v=>e.jsxs("tr",{children:[e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:v.no}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:v.soal}),e.jsxs("td",{style:{border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:[e.jsx("div",{children:v.soal1.replace(/\r\n/g," ")}),e.jsx("p",{style:{margin:"8px 0 4px 0",fontSize:"12px",fontWeight:"bold"},children:"Jawaban asesi:"}),e.jsx("textarea",{"data-auto-resize":!0,value:T[v.id]||"",onChange:L=>{z(v.id,L.target.value),u(L)},disabled:!D,placeholder:"Jawaban...",style:{width:"100%",padding:"6px 8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px",fontFamily:"inherit",cursor:D?"text":"not-allowed",backgroundColor:D?"#fff":"#f5f5f5",resize:"none",overflow:"hidden",minHeight:"60px",height:"auto"}})]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:v.soal2.replace(/\r\n/g," ")}),e.jsx("td",{onClick:()=>D&&$(v.id,"ya"),style:{textAlign:"center",border:"1px solid #000",padding:"6px",cursor:D?"pointer":"not-allowed",userSelect:"none"},children:e.jsx(q,{checked:R[v.id]==="ya",onChange:()=>{},disabled:!D,style:{pointerEvents:"none"}})}),e.jsx("td",{onClick:()=>D&&$(v.id,"tidak"),style:{textAlign:"center",border:"1px solid #000",padding:"6px",cursor:D?"pointer":"not-allowed",userSelect:"none"},children:e.jsx(q,{checked:R[v.id]==="tidak",onChange:()=>{},disabled:!D,style:{pointerEvents:"none"}})})]},v.id))]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{width:"30%",fontWeight:"bold",border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:C?.rekomendasi.soal||"Rekomendasi Asesor:"}),e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:["Asesi telah memenuhi/belum memenuhi pencapaian seluruh kriteria unjuk kerja, direkomendasikan:",e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{onClick:()=>D&&G(A==="kompeten"?null:"kompeten"),style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",cursor:D?"pointer":"not-allowed",userSelect:"none"},children:[e.jsx(q,{checked:A==="kompeten",onChange:()=>{},disabled:!D,style:{pointerEvents:"none"}}),"Kompeten"]}),e.jsxs("div",{onClick:()=>D&&G(A==="belum_kompeten"?null:"belum_kompeten"),style:{display:"flex",alignItems:"center",gap:"8px",cursor:D?"pointer":"not-allowed",userSelect:"none"},children:[e.jsx(q,{checked:A==="belum_kompeten",onChange:()=>{},disabled:!D,style:{pointerEvents:"none"}}),"Belum Kompeten"]})]})]})})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"14px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{fontWeight:"bold"},children:e.jsx("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px"},children:"Asesi :"})}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Nama"}),e.jsx("td",{style:{width:"5%",border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:d?.toUpperCase()||s?.name?.toLocaleUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanda tangan/ Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px",verticalAlign:"middle",textAlign:"center"},children:K?.asesi?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:K.asesi.url,alt:"Tanda Tangan Asesi",style:{height:"50px",width:"50px",objectFit:"contain"}}),K.asesi.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(K.asesi.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})]})]})}),K?.asesor?.asesor1&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{fontWeight:"bold"},children:e.jsx("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px"},children:"Asesor 1 :"})}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Nama"}),e.jsx("td",{style:{width:"5%",border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:K.asesor.asesor1.nama?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanda tangan/ Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px",verticalAlign:"middle",textAlign:"center"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:K.asesor.asesor1.url,alt:"Tanda Tangan Asesor 1",style:{height:"50px",width:"50px",objectFit:"contain"}}),K.asesor.asesor1.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(K.asesor.asesor1.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})})]})]})}),K?.asesor?.asesor2&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{fontWeight:"bold"},children:e.jsx("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px"},children:"Asesor 2 :"})}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Nama"}),e.jsx("td",{style:{width:"5%",border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:K.asesor.asesor2.nama?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanda tangan/ Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px",verticalAlign:"middle",textAlign:"center"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:K.asesor.asesor2.url,alt:"Tanda Tangan Asesor 2",style:{height:"50px",width:"50px",objectFit:"contain"}}),K.asesor.asesor2.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(K.asesor.asesor2.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})})]})]})}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{background:"#fff",border:"1px solid #999",borderRadius:"4px",padding:"16px",marginBottom:"16px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},onClick:()=>Y(!J),children:[e.jsx(q,{checked:J,onChange:()=>{},style:{pointerEvents:"none",marginTop:"2px"}}),e.jsx("span",{style:{fontSize:"13px",color:"#333"},children:"Saya menyatakan dengan sebenar-benarnya bahwa saya telah memberikan jawaban yang jujur dan dapat dipertanggungjawabkan sesuai dengan pengetahuan dan pengalaman yang saya miliki."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t(`/asesi/asesmen/${n}/upload-tugas`),children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:B||!J,onClick:y,children:B?"Menyimpan...":"Selesai"})]})]})]}),e.jsx(Ct,{isOpen:W,title:"Masuk ke Ujian",message:"Apakah Anda sudah siap untuk mengerjakan ujian? Pastikan Anda memiliki waktu yang cukup dan koneksi internet yang stabil.",confirmText:"Ya, Siap",cancelText:"Belum",onConfirm:()=>{F(!1),setTimeout(()=>t(`/asesi/asesmen/${n}/uji`),100)},onCancel:()=>F(!1)})]})}const Es="#373737",Cn="hsl(222, 80%, 35%)";function $e({checked:t,onChange:s,disabled:a=!1,id:n,className:i="",style:r,name:c,value:p}){const d=n||`radio-${c}-${p}`;return e.jsxs("div",{className:i,style:{...r,display:"inline-flex",alignItems:"center"},children:[e.jsx("input",{type:"radio",id:d,name:c,value:p,checked:t,onChange:s,disabled:a,style:{display:"none"}}),e.jsx("label",{htmlFor:d,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"18px",height:"18px",border:`2px solid ${Es}`,borderRadius:"50%",backgroundColor:t?Es:"#fff",cursor:a?"not-allowed":"pointer",opacity:a?.5:1,position:"relative",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",flexShrink:0},onMouseEnter:o=>{!a&&!t&&(o.currentTarget.style.borderColor=Cn,o.currentTarget.style.transform="scale(1.1)")},onMouseLeave:o=>{t||(o.currentTarget.style.borderColor=Es,o.currentTarget.style.transform="scale(1)")},children:t&&e.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#fff",position:"absolute",animation:"radioPulse 0.3s ease-out"}})})]})}function _n(){const t=xe(),{user:s}=re(),{id:a}=we(),{role:n}=Oe(a),{jabatanKerja:i,nomorSkema:r,tuk:c,asesorList:p,namaAsesi:d}=Me(a),{showSuccess:o,showError:x,showWarning:h}=De(),g=s?.role?.name?.toLowerCase()==="asesor",M=s?.role?.name?.toLowerCase()==="asesi",P=Qe(g,n,p.length),[C,j]=l.useState(null),[f,N]=l.useState(!0),[B,Z]=l.useState({}),[R,Q]=l.useState(!1),[A,G]=l.useState(!1),[J,Y]=l.useState("");l.useEffect(()=>{(async()=>{if(a)try{const W=localStorage.getItem("access_token"),F=await fetch(`https://backend.devgatensi.site/api/asesmen/${a}/ia05`,{headers:{Accept:"application/json",Authorization:`Bearer ${W}`}});if(F.ok){const K=await F.json();if(K.message==="Success"){const w=K.data.soal.sort((m,$)=>{const z=parseInt(m.no)||0,u=parseInt($.no)||0;return z-u});j({...K.data,soal:w});const D={};w.forEach(m=>{m.jawaban_asesi&&(D[m.id]=m.jawaban_asesi)}),Z(D)}}}catch(W){console.error("Error fetching IA.05 data:",W)}finally{N(!1)}})()},[a]);const H=(S,W)=>{Z(F=>({...F,[S]:W}))},I=async()=>{if(!C){h("Data belum dimuat.");return}if(!a){h("ID tidak ditemukan.");return}Q(!0);try{const S=localStorage.getItem("access_token"),W=C.soal.filter(w=>B[w.id]).map(w=>({soal_id:w.id,jawaban:B[w.id]})),F={id_izin:parseInt(a),dokumen_id:C.dokumen.id,answers:W},K=await fetch(`https://backend.devgatensi.site/api/asesmen/${a}/ia05`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify(F)});if(K.ok){o("IA 05 berhasil disimpan!");const w=P.findIndex(m=>m.href.includes("ia05")),D=P[w+1];if(D)if(D.href.includes("ak02"))setTimeout(()=>t(`/asesi/asesmen/${a}/ak02`),500);else if(D.href.includes("ak03"))setTimeout(()=>t(`/asesi/asesmen/${a}/ak03`),500);else if(D.href.includes("selesai"))setTimeout(()=>t(`/asesi/asesmen/${a}/selesai`),500);else{const m=D.href.replace("/asesi/asesmen/",`/asesi/asesmen/${a}/`);setTimeout(()=>t(m),500)}else setTimeout(()=>t(`/asesi/asesmen/${a}/selesai`),500)}else{const w=await K.json();x(`Gagal menyimpan: ${w.message||"Terjadi kesalahan"}`)}}catch(S){console.error("Error saving IA05:",S),x("Gagal menyimpan data. Silakan coba lagi.")}finally{Q(!1)}},T=S=>B[S];return f?e.jsx(Ce,{text:"Memuat data IA.05..."}):e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"14px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t(g?"/asesor/dashboard":"/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"IA.05"})]})})}),e.jsxs(Ue,{currentStep:P.find(S=>S.href.includes("ia05"))?.number||4,steps:P,id:a,children:[e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"14px",background:"#fff",border:"2px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:2,style:{width:"30%",border:"1px solid #000",padding:"6px"},children:["Skema Sertifikasi",e.jsx("br",{}),"(/Okupasi/)"]}),e.jsx("td",{style:{width:"12%",border:"1px solid #000",padding:"6px"},children:"Judul"}),e.jsx("td",{style:{width:"3%",border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:i||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:r||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:c||"-"})]}),p.length>1?p.map((S,W)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:["Nama Asesor ",W+1]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:S.nama?.toUpperCase()||""})]},S.id)):e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:p[0]?.nama?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:d?.toUpperCase()||s?.name?.toUpperCase()||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:new Date().toLocaleDateString("id-ID")})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Waktu"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:"60 menit"})]})]})}),e.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"},children:"*Coret yang tidak perlu"}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"14px",background:"#fff",border:"2px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{background:"#c40000",color:"#fff",fontWeight:"bold"},children:[e.jsx("td",{style:{width:"160",border:"1px solid #000",padding:"6px",textAlign:"center"},children:"KUK"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:"SOAL, Pilih Jawaban semua pertanyaan berikut (A / B / C / D) :"})]}),C?.soal.map(S=>e.jsxs(qe.Fragment,{children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"kuk",style:{background:(T(S.id),"#d58a94"),color:(T(S.id),"#000"),width:"160px",textAlign:"center",border:"1px solid #000",padding:"6px",fontWeight:T(S.id)?"bold":"normal"},children:[S.unit.kode,e.jsx("br",{}),S.kuk?.kode||""]}),e.jsxs("td",{style:{width:"40",border:"1px solid #000",padding:"6px",textAlign:"center"},children:[S.no,"."]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:S.soal})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",cursor:M?"pointer":"default"},onClick:()=>M&&H(S.id,"A"),children:[e.jsx($e,{name:`soal-${S.id}`,value:"A",checked:B[S.id]==="A",onChange:()=>{},disabled:!M,style:{pointerEvents:"none"}}),e.jsxs("span",{children:["a. ",S.jawab_a]})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",cursor:M?"pointer":"default"},onClick:()=>M&&H(S.id,"B"),children:[e.jsx($e,{name:`soal-${S.id}`,value:"B",checked:B[S.id]==="B",onChange:()=>{},disabled:!M,style:{pointerEvents:"none"}}),e.jsxs("span",{children:["b. ",S.jawab_b]})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",cursor:M?"pointer":"default"},onClick:()=>M&&H(S.id,"C"),children:[e.jsx($e,{name:`soal-${S.id}`,value:"C",checked:B[S.id]==="C",onChange:()=>{},disabled:!M,style:{pointerEvents:"none"}}),e.jsxs("span",{children:["c. ",S.jawab_c]})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px",cursor:M?"pointer":"default"},onClick:()=>M&&H(S.id,"D"),children:[e.jsx($e,{name:`soal-${S.id}`,value:"D",checked:B[S.id]==="D",onChange:()=>{},disabled:!M,style:{pointerEvents:"none"}}),e.jsxs("span",{children:["d. ",S.jawab_d]})]})})]})]},S.id))]})}),g&&e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("h2",{style:{fontSize:"16px",marginBottom:"10px",fontWeight:"bold"},children:"FR.05.C. LEMBAR JAWABAN PERTANYAAN TERTULIS PILIHAN GANDA"}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"14px",background:"#f8f8f8"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{colSpan:2,style:{background:"#c00000",color:"white",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"5px"},children:"Lembar Jawaban"}),e.jsx("th",{colSpan:2,style:{background:"#c00000",color:"white",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"5px"},children:"Rekomendasi"})]}),e.jsxs("tr",{children:[e.jsx("th",{style:{background:"#c28ea0",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"5px"},children:"No."}),e.jsx("th",{style:{background:"#c28ea0",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"5px"},children:"Jawaban"}),e.jsx("th",{style:{background:"#c28ea0",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"5px"},children:"K"}),e.jsx("th",{style:{background:"#c28ea0",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"5px"},children:"BK"})]}),C?.soal.map(S=>{const W=S.jawaban_asesi===S.kunci_jawaban,F=!!S.jawaban_asesi;return e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"5px",textAlign:"center",backgroundColor:"#fff"},children:S.no}),e.jsx("td",{style:{border:"1px solid #000",padding:"5px",backgroundColor:"#fff"},children:S.jawaban_asesi?e.jsxs("span",{children:[S.jawaban_asesi," - ",String(S[`jawab_${S.jawaban_asesi.toLowerCase()}`]||"")]}):e.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Belum dijawab"})}),e.jsx("td",{style:{border:"1px solid #000",padding:"5px",textAlign:"center",backgroundColor:"#fff"},children:e.jsx(q,{checked:F&&W,onChange:()=>{},disabled:!0})}),e.jsx("td",{style:{border:"1px solid #000",padding:"5px",textAlign:"center",backgroundColor:"#fff"},children:e.jsx(q,{checked:F&&!W,onChange:()=>{},disabled:!0})})]},`grading-${S.id}`)})]})})]}),e.jsx("div",{style:{marginTop:"20px"},children:e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{style:{width:"30%",border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:["Umpan balik untuk asesi:",g?e.jsx("textarea",{defaultValue:J,onBlur:S=>Y(S.target.value),placeholder:"Tuliskan umpan balik untuk asesi...",style:{width:"100%",minHeight:"100px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",resize:"vertical"}}):e.jsx("div",{style:{minHeight:"100px",padding:"8px",fontSize:"13px",whiteSpace:"pre-wrap"},children:J||"-"})]})})})})}),e.jsx("h2",{style:{fontSize:"14px",marginBottom:"10px"},children:"PENYUSUN DAN VALIDATOR"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"14px",background:"#fff",border:"1px solid #000"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f0f0f0"},children:[e.jsx("th",{style:{width:"140",border:"1px solid #000",padding:"6px",backgroundColor:"#fff"},children:"Status"}),e.jsx("th",{style:{width:"40",border:"1px solid #000",padding:"6px",backgroundColor:"#fff"},children:"No"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px",backgroundColor:"#fff"},children:"Nama"}),e.jsx("th",{style:{width:"180",border:"1px solid #000",padding:"6px",backgroundColor:"#fff"},children:"Nomor MET"}),e.jsx("th",{style:{width:"180",border:"1px solid #000",padding:"6px",backgroundColor:"#fff"},children:"Tanda Tangan Dan Tanggal"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px"},children:"Penyusun"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"1"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"2"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px"},children:"Validator"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"1"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"center"},children:"2"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px"}})]})]})]}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{background:"#fff",border:"1px solid #999",borderRadius:"4px",padding:"16px",marginBottom:"16px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:A,onChange:S=>G(S.target.checked),style:{marginTop:"2px",cursor:"pointer"}}),e.jsx("span",{style:{fontSize:"13px",color:"#333"},children:"Saya menyatakan dengan sebenar-benarnya bahwa jawaban yang saya berikan adalah benar dan sesuai dengan pengetahuan yang saya miliki. Saya bertanggung jawab penuh atas keaslian dan kelengkapan jawaban yang saya serahkan."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t(`/asesi/asesmen/${a}/ia04b`),children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:R||!A,onClick:I,children:R?"Menyimpan...":"Lanjut"})]})]})]})]})}const de={primary:"#00488f",secondary:"#0066cc",accent:"#4a90a4",success:"#00a86b",text:"#1e293b",textLight:"#64748b"},Dn=`
  @keyframes slideIn {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  @keyframes confetti {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-4px); }
  }

  .animate-slideIn {
    animation: slideIn 0.4s ease-out forwards;
  }

  .option-card {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .progress-dot {
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .confetti-piece {
    position: fixed;
    width: 10px;
    height: 10px;
    animation: confetti 3s ease-out forwards;
  }
`;function In(){const t=xe(),{user:s}=re(),{id:a}=we(),{jabatanKerja:n}=Me(a),{showSuccess:i,showError:r,showWarning:c}=De(),p=s?.role?.name?.toLowerCase()==="asesor",d=!p,[o,x]=l.useState(0),[h,g]=l.useState(0),[b,M]=l.useState(!1),[P,C]=l.useState(""),j=3,[f,N]=l.useState([]),[B,Z]=l.useState(null),[R,Q]=l.useState(0),[A,G]=l.useState({}),[J,Y]=l.useState(!0),[H,I]=l.useState(!1),[T,S]=l.useState(null),[W,F]=l.useState(!1),K=l.useRef(R),w=l.useRef(null);l.useEffect(()=>{(async()=>{if(a)try{const E=localStorage.getItem("access_token"),V=await fetch(`https://backend.devgatensi.site/api/asesmen/${a}/ia05`,{headers:{Accept:"application/json",Authorization:`Bearer ${E}`}});if(V.ok){const te=await V.json();if(te.message==="Success"){const U=te.data.soal.sort((Ne,Pe)=>{const Se=parseInt(Ne.no)||0,We=parseInt(Pe.no)||0;return Se-We});N(U),Z(te.data.dokumen);const ge={};U.forEach(Ne=>{Ne.jawaban_asesi&&(ge[Ne.id]=Ne.jawaban_asesi)}),G(ge),U.length>0&&U[0].jawaban_asesi&&S(U[0].jawaban_asesi)}}}catch(E){console.error("Error fetching ujian data:",E)}finally{Y(!1)}})()},[a]),l.useEffect(()=>{f[R]&&S(A[f[R].id]||null),K.current=R},[R,f,A]),l.useEffect(()=>{if(p)return;const _=U=>{const ge=o+1;x(ge),g(ge);const Ne=[`${U} tidak diperbolekan selama ujian!`,`${U} tidak diperbolehan selama ujian!`,"Pelanggaran ke-3: Ujian otomatis dihentikan!"];C(Ne[ge-1]),M(!0),ge>=j?setTimeout(async()=>{try{await k()}catch(Se){console.error("Error saving before redirect:",Se)}t("/asesi/dashboard")},2e3):(w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{M(!1)},3e3))},E=U=>{U.preventDefault(),_("Klik kanan")},V=U=>{if(U.key==="F12"||U.ctrlKey&&U.shiftKey&&(U.key==="I"||U.key==="J")||U.ctrlKey&&U.key==="U"||U.ctrlKey&&U.key==="C"||U.ctrlKey&&U.key==="V"){U.preventDefault();const ge=U.key==="F12"?"Inspect Element":U.ctrlKey&&U.key==="C"?"Copy":U.ctrlKey&&U.key==="V"?"Paste":U.ctrlKey&&U.key==="U"?"View Source":"Developer Tools";_(ge)}},te=U=>{if(U.key==="PrintScreen"||U.metaKey&&U.shiftKey&&(U.key==="4"||U.key==="5")||U.ctrlKey&&U.shiftKey&&U.key==="S"){U.preventDefault(),_("Screenshot");try{navigator.clipboard.writeText("")}catch{}}};return document.addEventListener("contextmenu",E),document.addEventListener("keydown",V),document.addEventListener("keyup",te),()=>{document.removeEventListener("contextmenu",E),document.removeEventListener("keydown",V),document.removeEventListener("keyup",te),w.current&&clearTimeout(w.current)}},[o,p]),l.useEffect(()=>{if(p)return;const _=E=>{E.preventDefault(),E.returnValue=""};return window.addEventListener("beforeunload",_),()=>window.removeEventListener("beforeunload",_)},[p]);const D=f[R],m=f.length,$=Object.keys(A).length,z=Math.round($/m*100),u=_=>{!D||!d||(S(_),G(E=>({...E,[D.id]:_})))},k=async()=>{if(!(!a||!B))try{const _=localStorage.getItem("access_token"),E=f.filter(U=>A[U.id]).map(U=>({soal_id:U.id,jawaban:A[U.id]})),V={id_izin:parseInt(a),dokumen_id:B.id,answers:E};if(!(await fetch(`https://backend.devgatensi.site/api/asesmen/${a}/ia05`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify(V)})).ok)throw new Error("Failed to save")}catch(_){throw console.error("Error saving answer:",_),_}},y=async()=>{if(!d){R<m-1?Q(_=>_+1):t(`/asesi/asesmen/${a}/selesai`);return}if(A[D.id]){I(!0);try{await k()}catch{r("Gagal menyimpan jawaban. Silakan coba lagi."),I(!1);return}I(!1)}R<m-1?Q(_=>_+1):await L()},v=()=>{R>0&&Q(_=>_-1)},L=async()=>{if(!a||!B){c("Data tidak lengkap");return}I(!0),F(!0);try{await k(),i("Ujian berhasil diselesaikan!"),setTimeout(()=>{t(`/asesi/asesmen/${a}/selesai`)},1500)}catch{r("Gagal menyimpan jawaban. Silakan coba lagi."),F(!1)}finally{I(!1)}},O=_=>{A[D.id]&&d&&k().catch(console.error),Q(_)},ee=()=>{if(!W)return null;const _=[de.primary,de.secondary,de.accent,de.success,"#6ba3b8"],E=[];for(let V=0;V<50;V++){const te={left:`${Math.random()*100}%`,top:"-20px",backgroundColor:_[Math.floor(Math.random()*_.length)],animationDelay:`${Math.random()*.5}s`,animationDuration:`${2+Math.random()*2}s`};E.push(e.jsx("div",{className:"confetti-piece",style:te},V))}return E};if(J)return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx(Ce,{text:"Memuat soal ujian..."})]});if(!D)return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{padding:"40px",textAlign:"center"},children:e.jsx("h2",{children:"Tidak ada soal ditemukan"})})]});const ie=!!A[D.id];return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Segoe UI, system-ui, sans-serif"},children:[e.jsx("style",{children:`
        ${Dn}

        /* Anti-screenshot & Anti-cheat CSS */
        body {
          -webkit-user-select: none !important;
          -moz-user-select: none !important;
          -ms-user-select: none !important;
          user-select: none !important;
        }

        * {
          -webkit-user-select: none !important;
          -moz-user-select: none !important;
          -ms-user-select: none !important;
          user-select: none !important;
          -webkit-touch-callout: none !important;
          -webkit-tap-highlight-color: transparent !important;
        }

        input, textarea {
          -webkit-user-select: text !important;
          -moz-user-select: text !important;
          -ms-user-select: text !important;
          user-select: text !important;
        }

        /* Prevent print screen */
        @media print {
          body { display: none !important; }
        }

        /* Prevent drag and save images */
        img {
          -webkit-user-drag: none !important;
          user-drag: none !important;
          pointer-events: none !important;
        }
      `}),b&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,animation:"slideIn 0.3s ease-out"},children:e.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"28px 32px",maxWidth:"420px",width:"90%",textAlign:"center",boxShadow:"0 12px 48px rgba(0, 0, 0, 0.3)",border:`3px solid ${h>=j?"#dc2626":"#f59e0b"}`},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:h>=j?"linear-gradient(135deg, #dc2626 0%, #ef4444 100%)":"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",fontSize:"32px",color:"#fff",fontWeight:"bold"},children:h>=j?"":"!"}),e.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 12px 0",color:h>=j?"#dc2626":"#f59e0b"},children:h>=j?"Ujian Dihentikan":"Peringatan!"}),e.jsx("p",{style:{fontSize:"15px",color:"#475569",margin:"0 0 8px 0",lineHeight:"1.6"},children:P}),e.jsxs("p",{style:{fontSize:"13px",color:"#64748b",margin:"0"},children:["Sisa pelanggaran: ",j-h," dari ",j]}),h<j&&e.jsx("button",{onClick:()=>M(!1),style:{marginTop:"20px",padding:"12px 32px",background:de.primary,color:"#fff",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:_=>_.currentTarget.style.background=de.secondary,onMouseLeave:_=>_.currentTarget.style.background=de.primary,children:"Mengerti"})]})}),W&&ee(),e.jsx(me,{userName:s?.name}),e.jsxs("div",{style:{maxWidth:"820px",margin:"0 auto",padding:"20px 16px 40px"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, "+de.primary+" 0%, "+de.secondary+" 100%)",borderRadius:"14px",padding:"18px 20px",marginBottom:"18px",color:"#fff",position:"relative",overflow:"hidden",boxShadow:"0 6px 24px rgba(0, 72, 143, 0.18)"},children:[e.jsx("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"140px",height:"140px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"50%"}}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[e.jsxs("div",{style:{flex:1,minWidth:"180px"},children:[e.jsx("h1",{style:{fontSize:"16px",fontWeight:"700",margin:0,marginBottom:"4px"},children:B?.nama_dokumen||"Ujian"}),e.jsx("p",{style:{fontSize:"12px",opacity:.9,margin:0},children:n||"-"})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"10px 16px",textAlign:"center",minWidth:"90px"},children:[e.jsxs("div",{style:{fontSize:"28px",fontWeight:"800",lineHeight:1},children:[R+1,"/",m]}),e.jsxs("div",{style:{fontSize:"10px",opacity:.9,marginTop:"2px"},children:[$," dijawab"]})]})]}),e.jsxs("div",{style:{marginTop:"14px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",marginBottom:"6px",opacity:.95},children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[z,"%"]})]}),e.jsx("div",{style:{height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"8px",overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${z}%`,background:"linear-gradient(90deg, "+de.success+" 0%, #00c78e 100%)",borderRadius:"8px",transition:"width 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},children:e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent)",animation:"shimmer 2s infinite"}})})})]}),e.jsx("div",{style:{display:"flex",gap:"6px",marginTop:"14px",flexWrap:"wrap",justifyContent:"center"},children:f.map((_,E)=>{const V=E===R,te=A[_.id];return e.jsxs("button",{onClick:()=>O(E),disabled:!d,className:"progress-dot",style:{width:V?"28px":"22px",height:V?"28px":"22px",borderRadius:"50%",border:"2px",borderColor:V?"#fff":te?de.success:"rgba(255,255,255,0.4)",backgroundColor:V?"#fff":te?de.success:"transparent",cursor:d?"pointer":"default",display:"flex",alignItems:"center",justifyContent:"center",fontSize:V?"12px":"10px",fontWeight:"700",color:V?de.primary:"#fff",opacity:V||te?1:.5,boxShadow:V?"0 0 0 3px rgba(255,255,255,0.2)":"none"},title:`Soal ${_.no}`,children:[te&&!V&&e.jsx(_e,{icon:Ts,style:{fontSize:"9px"}}),V&&E+1]},_.id)})})]})]}),e.jsxs("div",{className:"animate-slideIn",style:{background:"#fff",borderRadius:"14px",padding:"22px",marginBottom:"18px",border:"1px solid #e2e8f0",boxShadow:"0 3px 16px rgba(0, 72, 143, 0.06)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"18px",paddingBottom:"14px",borderBottom:"1px solid #f1f5f9"},children:[e.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:ie?"linear-gradient(135deg, "+de.success+" 0%, #00c78e 100%)":"linear-gradient(135deg, "+de.primary+" 0%, "+de.secondary+" 100%)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"800",boxShadow:ie?"0 3px 12px rgba(0, 168, 107, 0.25)":"0 3px 12px rgba(0, 72, 143, 0.2)"},children:ie?e.jsx(_e,{icon:Ts}):R+1}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontSize:"15px",color:de.textLight,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px"},children:[D.unit.kode," ",D.kuk?.kode?` ${D.kuk.kode}`:""]}),e.jsx("div",{style:{fontSize:"13px",color:ie?de.success:de.textLight,fontWeight:"600",display:"inline-flex",alignItems:"center"},children:ie?"Sudah dijawab":"Belum dijawab"})]})]}),e.jsx("div",{style:{fontSize:"16px",lineHeight:"1.6",color:de.text,marginBottom:"20px",fontWeight:"600"},children:D.soal}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[{key:"A",text:D.jawab_a,color:de.primary},{key:"B",text:D.jawab_b,color:de.secondary},{key:"C",text:D.jawab_c,color:de.accent},{key:"D",text:D.jawab_d,color:"#5ba3b8"}].map((_,E)=>{const V=T===_.key;return e.jsxs("label",{className:"option-card animate-slideIn",style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"12px 16px",border:"2px solid",borderColor:V?_.color:"#e2e8f0",borderRadius:"10px",cursor:d?"pointer":"default",background:V?_.color+"12":"#fff",opacity:d?1:.8,position:"relative",animationDelay:`${E*.05}s`},onMouseEnter:te=>{d&&!V&&(te.currentTarget.style.borderColor=_.color,te.currentTarget.style.transform="translateX(3px)",te.currentTarget.style.boxShadow=`0 2px 12px ${_.color}20`)},onMouseLeave:te=>{V||(te.currentTarget.style.borderColor="#e2e8f0",te.currentTarget.style.transform="translateX(0)",te.currentTarget.style.boxShadow="none")},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:V?_.color:"#f1f5f9",color:V?"#fff":de.textLight,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"800",flexShrink:0},children:_.key}),e.jsxs("div",{style:{flex:1,display:"flex",gap:"10px",alignItems:"flex-start"},children:[e.jsx($e,{name:`soal-${D.id}`,value:_.key,checked:V,onChange:()=>u(_.key),disabled:!d,style:{marginTop:"3px"}}),e.jsx("div",{style:{flex:1},children:e.jsx("div",{style:{fontSize:"14px",lineHeight:"1.5",color:V?de.text:de.textLight,fontWeight:V?"500":"400"},children:_.text})})]}),V&&e.jsx("div",{style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",fontSize:"18px",color:_.color},children:e.jsx(_e,{icon:Ts})})]},_.key)})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[e.jsxs("button",{onClick:v,disabled:R===0||H,style:{padding:"10px 20px",border:"2px solid #e2e8f0",background:"#fff",color:R===0||H?"#cbd5e1":de.textLight,fontSize:"13px",fontWeight:"600",cursor:R===0||H?"not-allowed":"pointer",borderRadius:"10px",opacity:R===0||H?.5:1,transition:"all 0.2s",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.04)"},onMouseEnter:_=>{R!==0&&!H&&(_.currentTarget.style.borderColor=de.primary,_.currentTarget.style.color=de.primary,_.currentTarget.style.transform="translateX(-2px)")},onMouseLeave:_=>{R!==0&&(_.currentTarget.style.borderColor="#e2e8f0",_.currentTarget.style.color=de.textLight,_.currentTarget.style.transform="translateX(0)")},children:[e.jsx(_e,{icon:ra,style:{marginRight:"6px"}}),"Sebelumnya"]}),e.jsx("div",{style:{fontSize:"12px",color:de.textLight,fontWeight:"500",padding:"8px 16px",background:"#fff",borderRadius:"10px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.04)"},children:H?"Menyimpan...":`Soal ${R+1} dari ${m}`}),e.jsx("button",{onClick:y,disabled:H||!d,style:{padding:"10px 20px",border:"none",background:H||!d?"#cbd5e1":"linear-gradient(135deg, "+de.primary+" 0%, "+de.secondary+" 100%)",color:"#fff",fontSize:"13px",fontWeight:"700",cursor:H||!d?"not-allowed":"pointer",borderRadius:"10px",opacity:H||!d?.5:1,minWidth:"100px",transition:"all 0.2s",boxShadow:H||!d?"none":"0 3px 12px rgba(0, 72, 143, 0.2)"},onMouseEnter:_=>{!H&&d&&(_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 5px 16px rgba(0, 72, 143, 0.3)")},onMouseLeave:_=>{!H&&d&&(_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 3px 12px rgba(0, 72, 143, 0.2)")},children:H?"Menyimpan...":R===m-1?"Selesai":"Selanjutnya"})]}),d&&!ie&&e.jsxs("div",{style:{marginTop:"16px",padding:"10px 16px",background:"linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%)",border:"1px solid #fcd34d",borderRadius:"10px",fontSize:"12px",color:"#92400e",textAlign:"center",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 2px 6px rgba(252, 211, 77, 0.15)"},children:[e.jsx(_e,{icon:la,style:{fontSize:"14px",animation:"bounce 2s infinite"}}),"Pilih jawaban sebelum melanjutkan ke soal berikutnya"]})]})]})}function zn(){const t=xe(),{user:s,isLoading:a}=re(),{id:n}=we(),{role:i,isAsesor1:r}=Oe(n),{jabatanKerja:c,nomorSkema:p,tuk:d,asesorList:o,namaAsesi:x}=Me(n),{showSuccess:h,showError:g,showWarning:b}=De(),{kegiatan:M,isAsesor:P}=ns(),C=Qe(P,i,o.length),j=P&&!r,[f,N]=l.useState({}),[B,Z]=l.useState(null),[R,Q]=l.useState(""),[A,G]=l.useState(""),[J,Y]=l.useState(!1),[H,I]=l.useState(null),[T,S]=l.useState([]),[W,F]=l.useState(!0);if(l.useEffect(()=>{(async()=>{if(!a){if(!n){console.error("No id_izin found"),F(!1);return}try{const D=localStorage.getItem("access_token"),m=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ak02`,{headers:{Accept:"application/json",Authorization:`Bearer ${D}`}});if(m.ok){const $=await m.json();if($.message==="Success"&&$.data?.data_unit_kompetensi){$.data.barcodes&&I({asesi:$.data.barcodes.asesi,asesor1:$.data.barcodes.asesor1,asesor2:$.data.barcodes.asesor2});const z=[],u={};$.data.data_unit_kompetensi.forEach(k=>{z.push({id:k.id,kode:k.kode,nama:k.nama}),u[k.id]={observasi:k.observasi,portofolio:k.portofolio,pertanyaan_wawancara:k.pertanyaan_wawancara,pertanyaan_lisan:k.pertanyaan_lisan,pertanyaan_tertulis:k.pertanyaan_tertulis,proyek_kerja:k.proyek_kerja}}),S(z),N(u),Z($.data.is_kompeten??null),Q($.data.tindak_lanjut||""),G($.data.komentar||"")}}else console.warn(`Unit Kompetensi AK02 API returned ${m.status}`)}catch(D){console.error("Error fetching unit kompetensi AK02:",D)}finally{F(!1)}}})()},[n,a]),W)return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx(Ce,{text:"Memuat data AK.02..."})]});const K=(w,D)=>{N(m=>({...m,[w]:{...m[w],[D]:!m[w]?.[D]}}))};return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t(P?"/asesor/dashboard":"/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"AK.02"})]})})}),e.jsxs(Ue,{currentStep:C.find(w=>w.href.includes("ak02"))?.number||5,steps:C,id:n,children:[e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx("h1",{style:{fontSize:"20px",fontWeight:"bold",color:"#000",marginBottom:"4px",letterSpacing:"1px"},children:"FR.AK.02  FRASEMEN ANTARA ASESOR"})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px",fontSize:"13px",background:"#fff",border:"2px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{rowSpan:2,style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Skema Sertifikasi (/Okupasi/)"}),e.jsx("td",{style:{width:"12%",border:"1px solid #000",padding:"6px"},children:"Judul"}),e.jsx("td",{style:{width:"3%",border:"1px solid #000",padding:"6px",textAlign:"end"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:c||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"end"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:p||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"end"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:d||"-"})]}),o.length>1?o.map((w,D)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:["Nama Asesor ",D+1]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"end"},children:":"}),e.jsxs("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:[w.nama?.toUpperCase()||"",w.noreg&&` (${w.noreg})`]})]},w.id)):e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"end"},children:":"}),e.jsxs("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:[o[0]?.nama?.toUpperCase()||"",o[0]?.noreg&&` (${o[0].noreg})`]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Nama Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"end"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:x?.toUpperCase()||s?.name?.toUpperCase()||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px"},children:"Tanggal Asesmen"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right"},children:"Mulai :"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textAlign:"right"},children:"Selesai :"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"}})]})]})}),e.jsx("p",{style:{fontSize:"13px",marginBottom:"15px"},children:"Beri tanda centang () di kolom yang sesuai untuk mencerminkan bukti yang diperoleh untuk menentukan Kompetensi asesi untuk setiap Unit Kompetensi."}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px",fontSize:"13px",background:"#fff",border:"2px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{background:"#c40000",color:"#fff",fontWeight:"bold",textAlign:"center"},children:[e.jsx("th",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Unit kompetensi"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px"},children:"Observasi demonstrasi"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px"},children:"Portofolio"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px"},children:"Pertanyaan wawancara"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px"},children:"Pertanyaan lisan"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px"},children:"Pertanyaan tertulis"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px"},children:"Proyek kerja"})]}),T.map(w=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:[w.kode,e.jsx("br",{}),w.nama]}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"20px"},children:e.jsx(q,{checked:f[w.id]?.observasi||!1,onChange:()=>K(w.id,"observasi"),disabled:j,style:{cursor:j?"not-allowed":"pointer"}})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"20px"},children:e.jsx(q,{checked:f[w.id]?.portofolio||!1,onChange:()=>K(w.id,"portofolio"),disabled:j,style:{cursor:j?"not-allowed":"pointer"}})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"20px"},children:e.jsx(q,{checked:f[w.id]?.pertanyaan_wawancara||!1,onChange:()=>K(w.id,"pertanyaan_wawancara"),disabled:j,style:{cursor:j?"not-allowed":"pointer"}})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"20px"},children:e.jsx(q,{checked:f[w.id]?.pertanyaan_lisan||!1,onChange:()=>K(w.id,"pertanyaan_lisan"),disabled:j,style:{cursor:j?"not-allowed":"pointer"}})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"20px"},children:e.jsx(q,{checked:f[w.id]?.pertanyaan_tertulis||!1,onChange:()=>K(w.id,"pertanyaan_tertulis"),disabled:j,style:{cursor:j?"not-allowed":"pointer"}})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"20px"},children:e.jsx(q,{checked:f[w.id]?.proyek_kerja||!1,onChange:()=>K(w.id,"proyek_kerja"),disabled:j,style:{cursor:j?"not-allowed":"pointer"}})})]},w.id)),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsx("b",{children:"Rekomendasi hasil asesmen"})}),e.jsxs("td",{colSpan:6,style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:[e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",marginRight:"20px",cursor:j?"not-allowed":"pointer"},children:[e.jsx(q,{checked:B===!0,onChange:()=>Z(B===!0?null:!0),disabled:j}),"Kompeten"]}),e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",cursor:j?"not-allowed":"pointer"},children:[e.jsx(q,{checked:B===!1,onChange:()=>Z(B===!1?null:!1),disabled:j}),"Belum kompeten"]})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:[e.jsx("b",{children:"Tindak lanjut yang dibutuhkan"}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:"13px"},children:"(Masukkan pekerjaan tambahan dan asesmen yang diperlukan untuk mencapai kompetensi)"})]}),e.jsx("td",{colSpan:6,style:{border:"1px solid #000",padding:"6px"},children:e.jsx("textarea",{value:R,onChange:w=>Q(w.target.value),disabled:j,style:{width:"100%",height:"70px",border:"1px solid #ccc",padding:"6px",fontSize:"13px",resize:"none",cursor:j?"not-allowed":"text"},placeholder:"Tuliskan tindak lanjut..."})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsx("b",{children:"Komentar / Observasi oleh asesor"})}),e.jsx("td",{colSpan:6,style:{border:"1px solid #000",padding:"6px"},children:e.jsx("textarea",{value:A,onChange:w=>G(w.target.value),disabled:j,style:{width:"100%",height:"60px",border:"1px solid #ccc",padding:"6px",fontSize:"13px",resize:"none",cursor:j?"not-allowed":"text"},placeholder:"Tuliskan komentar..."})})]})]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px",fontSize:"13px",background:"#fff",border:"2px solid #000"},children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px"},children:e.jsx("b",{children:"Asesi :"})})}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"30%",border:"1px solid #000",padding:"6px"},children:"Nama"}),e.jsx("td",{style:{width:"3%",border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:x?.toUpperCase()||s?.name?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanda tangan dan tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px",verticalAlign:"middle",textAlign:"center"},children:H?.asesi?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:H.asesi.url,alt:"Tanda Tangan Asesi",style:{height:"50px",width:"50px",objectFit:"contain"}}),H.asesi.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(H.asesi.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})]}),o.map((w,D)=>{const m=D===0?H?.asesor1:H?.asesor2,$=o.length>1?`Nama Asesor ${D+1}`:"Nama Asesor";return e.jsxs(qe.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:$}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",textTransform:"uppercase"},children:w.nama?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px"},children:["No. Reg ",o.length>1?D+1:""]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:w.noreg||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:"Tanda tangan dan tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:":"}),e.jsx("td",{style:{height:"60px",border:"1px solid #000",padding:"6px",verticalAlign:"middle",textAlign:"center"},children:m?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:m.url,alt:`Tanda Tangan ${w.nama}`,style:{height:"50px",width:"50px",objectFit:"contain"}}),m.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(m.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})]})]},w.id)})]})}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:"15px"},children:[e.jsx("b",{children:"LAMPIRAN DOKUMEN:"}),e.jsx("br",{}),"1. Dokumen APL 01 peserta",e.jsx("br",{}),"2. Dokumen APL 02 peserta",e.jsx("br",{}),"3. Bukti-bukti berkualitas peserta",e.jsx("br",{}),"4. Tinjauan proses asesmen"]}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{background:"#fff",border:"1px solid #999",borderRadius:"4px",padding:"16px",marginBottom:"16px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:J,onChange:()=>Y(!J),style:{marginTop:"2px"}}),e.jsx("span",{style:{fontSize:"13px",color:"#333"},children:"Saya menyatakan dengan sebenar-benarnya bahwa hasil frageman antara asesor ini telah saya isi dengan jujur dan dapat dipertanggungjawabkan."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>{const w=C.findIndex(m=>m.href.includes("ak02")),D=C[w-1];if(D){const m=D.href.replace("/asesi/asesmen/",`/asesi/asesmen/${n}/`);t(m)}else t(`/asesi/asesmen/${n}/ia05`)},children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:!J,onClick:async()=>{if(!J){b("Silakan centang pernyataan terlebih dahulu");return}if(B===null){b("Silakan pilih rekomendasi (Kompeten / Belum kompeten)");return}if(!n){b("ID tidak ditemukan");return}try{const w=localStorage.getItem("access_token"),D=T.map($=>({id_unit_kompetensi:$.id,observasi:f[$.id]?.observasi||!1,portofolio:f[$.id]?.portofolio||!1,pertanyaan_wawancara:f[$.id]?.pertanyaan_wawancara||!1,pertanyaan_lisan:f[$.id]?.pertanyaan_lisan||!1,pertanyaan_tertulis:f[$.id]?.pertanyaan_tertulis||!1,proyek_kerja:f[$.id]?.proyek_kerja||!1})),m=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ak02`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${w}`,"Content-Type":"application/json"},body:JSON.stringify({answers:D,is_kompeten:B,tindak_lanjut:R,komentar:A})});if(m.ok){if(h("AK 02 berhasil disimpan!"),P){const u=M?.jadwal_id,k=r?H?.asesor1?.url:H?.asesor2?.url;if(u&&!k)try{const y=await fetch(`https://backend.devgatensi.site/api/qr/${n}/ak02`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({id_jadwal:u})});if(y.ok){const v=await y.json();v.message==="Success"&&v.data?.url_image&&I(r?L=>({...L,asesor1:{url:v.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}):L=>({...L,asesor2:{url:v.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}))}}catch(y){console.error("Error generating QR:",y)}}const $=C.findIndex(u=>u.href.includes("ak02")),z=C[$+1];if(z){const u=z.href.replace("/asesi/asesmen/",`/asesi/asesmen/${n}/`);setTimeout(()=>t(u),1500)}else setTimeout(()=>t(`/asesi/asesmen/${n}/selesai`),1500)}else console.error("Failed to save AK02:",m.status),g("Gagal menyimpan data. Silakan coba lagi.")}catch(w){console.error("Error saving AK02:",w),g("Terjadi kesalahan. Silakan coba lagi.")}},children:"Simpan & Lanjut"})]})]})]})]})}function Ln(){const t=xe(),{user:s,isLoading:a}=re(),{id:n}=we(),{role:i,isAsesor1:r}=Oe(n),{showSuccess:c,showError:p,showWarning:d}=De(),o=s?.role?.name?.toLowerCase()==="asesor",x=Qe(o,i),h=o&&!r,[g,b]=l.useState([]),[M,P]=l.useState(""),[C,j]=l.useState(!1),[f,N]=l.useState(!0);if(l.useEffect(()=>{(async()=>{if(!a){if(!n){console.error("No id_izin found"),N(!1);return}try{const G=localStorage.getItem("access_token"),J=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ak03`,{headers:{Accept:"application/json",Authorization:`Bearer ${G}`}});if(J.ok){const Y=await J.json();if(Y.message==="Success"&&Y.data?.soal){const H=Y.data.soal.map(I=>({id:I.id,pertanyaan:I.soal,ya:I.is_kompeten||!1,tidak:!I.is_kompeten,catatan:I.catatan||""}));b(H),P(Y.data.catatan||"")}}else console.warn(`AK03 API returned ${J.status}`)}catch(G){console.error("Error fetching AK03:",G)}finally{N(!1)}}})()},[n,a]),f)return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx(Ce,{text:"Memuat data AK.03..."})]});const B=(A,G)=>{b(J=>J.map(Y=>Y.id===A?G==="ya"?{...Y,ya:!Y.ya,tidak:!1}:{...Y,ya:!1,tidak:!Y.tidak}:Y))},Z=(A,G)=>{b(J=>J.map(Y=>Y.id===A?{...Y,catatan:G}:Y))},R=()=>i==="asesor_1"?`/asesi/asesmen/${n}/ak02`:`/asesi/asesmen/${n}/ia05`,Q=async()=>{if(!C){d("Silakan centang pernyataan terlebih dahulu");return}if(!n){d("ID tidak ditemukan");return}try{const A=localStorage.getItem("access_token"),G=g.map(Y=>({soal_id:Y.id,is_kompeten:Y.ya,catatan:Y.catatan})),J=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ak03`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({answers:G,catatan:M})});J.ok?(c("AK 03 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/asesmen/${n}/ak06`)},500)):(console.error("Failed to save AK03:",J.status),p("Gagal menyimpan data. Silakan coba lagi."))}catch(A){console.error("Error saving AK03:",A),p("Terjadi kesalahan. Silakan coba lagi.")}};return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t(o?"/asesor/dashboard":"/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"AK.03"})]})})}),e.jsxs(Ue,{currentStep:x.find(A=>A.href.includes("ak03"))?.number||6,steps:x,id:n,children:[e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx("h1",{style:{fontSize:"18px",fontWeight:"bold",color:"#000"},children:"FR.AK.03  UMPAN BALIK ASESI"})}),e.jsx("p",{style:{fontSize:"13px",marginBottom:"15px"},children:"Umpan balik dari Asesi (diisi oleh Asesi setelah pengambilan keputusan) :"}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px",fontSize:"13px",background:"#fff",border:"2px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{background:"#d10000",color:"#fff",fontWeight:"bold",textAlign:"center"},children:[e.jsx("th",{rowSpan:2,style:{width:"55%",border:"1px solid #000",padding:"6px"},children:"KOMPONEN"}),e.jsx("th",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:"Hasil"}),e.jsx("th",{rowSpan:2,style:{width:"25%",border:"1px solid #000",padding:"6px"},children:"Catatan/Komentar Asesi"})]}),e.jsxs("tr",{style:{background:"#d10000",color:"#fff",fontWeight:"bold",textAlign:"center"},children:[e.jsx("th",{style:{width:"50px",border:"1px solid #000",padding:"6px"},children:"Ya"}),e.jsx("th",{style:{width:"50px",border:"1px solid #000",padding:"6px"},children:"Tidak"})]}),g.map(A=>e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:A.pertanyaan}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"18px"},children:e.jsx(q,{checked:A.ya,onChange:()=>B(A.id,"ya"),disabled:h,style:{cursor:h?"not-allowed":"pointer"}})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px",fontSize:"18px"},children:e.jsx(q,{checked:A.tidak,onChange:()=>B(A.id,"tidak"),disabled:h,style:{cursor:h?"not-allowed":"pointer"}})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsx("textarea",{value:A.catatan,onChange:G=>Z(A.id,G.target.value),disabled:h,style:{width:"100%",height:"80px",border:"1px solid #ccc",padding:"6px",fontSize:"13px",resize:"none",cursor:h?"not-allowed":"text"},placeholder:"Tuliskan catatan..."})})]},A.id)),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"20%",border:"1px solid #000",padding:"6px"},children:e.jsx("b",{children:"Catatan :"})}),e.jsx("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px"},children:e.jsx("textarea",{value:M,onChange:A=>P(A.target.value),disabled:h,style:{width:"100%",height:"80px",border:"1px solid #ccc",padding:"6px",fontSize:"13px",resize:"none",cursor:h?"not-allowed":"text"},placeholder:"Tuliskan catatan umum..."})})]})]})}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{background:"#fff",border:"1px solid #999",borderRadius:"4px",padding:"16px",marginBottom:"16px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:C,onChange:()=>j(!C),style:{marginTop:"2px"}}),e.jsx("span",{style:{fontSize:"13px",color:"#333"},children:"Saya menyatakan dengan sebenar-benarnya bahwa umpan balik yang saya berikan adalah jujur dan sesuai dengan pengalaman saya selama proses asesmen."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t(R()),children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:!C,onClick:Q,children:"Selesai"})]})]})]})]})}function Pn(){const t=xe(),{user:s,isLoading:a}=re(),{id:n}=we(),{role:i,isAsesor1:r,isAsesor2:c}=Oe(n),{jabatanKerja:p,nomorSkema:d,tuk:o,asesorList:x,idAsesor2:h}=Me(n),{showSuccess:g,showError:b,showWarning:M}=De(),P=s?.role?.name?.toLowerCase()==="asesor",C=Qe(P,i,x.length),j=h!=null,f=P&&(j?!c:!r),[N,B]=l.useState([]),[Z,R]=l.useState(""),[Q,A]=l.useState(""),[G,J]=l.useState({}),[Y,H]=l.useState(null),[I,T]=l.useState(!1),[S,W]=l.useState(!0),[F,K]=l.useState({asesi:null,asesor1:null,asesor2:null});if(l.useEffect(()=>{(async()=>{if(!a){if(!n){console.error("No id_izin found"),W(!1);return}try{const $=localStorage.getItem("access_token"),z=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ak06`,{headers:{Accept:"application/json",Authorization:`Bearer ${$}`}});if(z.ok){const u=await z.json();if(console.log("AK06 Full Response:",JSON.stringify(u,null,2)),u.message==="Success"&&u.data){const k=u.data.aspek.map(y=>({id:y.aspek_id,nama:y.nama,validitas:y.validitas||!1,reliabel:y.reliabel||!1,fleksibel:y.fleksibel||!1,adil:y.adil||!1}));B(k),H(u.data.feedback||null),R(u.data.feedback?.rekomendasi1||""),A(u.data.feedback?.rekomendasi2||""),K(u.data.barcodes||{asesi:null,asesor1:null,asesor2:null})}}else console.warn(`AK06 API returned ${z.status}`)}catch($){console.error("Error fetching AK06:",$)}finally{W(!1)}}})()},[n,a,x]),l.useEffect(()=>{if(Y&&x.length>0){const m={};Y.catatan_asesor1&&x[0]&&(m[x[0].id]=Y.catatan_asesor1),Y.catatan_asesor2&&x[1]&&(m[x[1].id]=Y.catatan_asesor2),J(m)}},[Y,x]),S)return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx(Ce,{text:"Memuat data AK.06..."})]});const w=(m,$)=>{f||B(z=>z.map(u=>u.id===m?{...u,[$]:!u[$]}:u))},D=async()=>{if(!I){M("Silakan centang pernyataan terlebih dahulu");return}if(!n){M("ID tidak ditemukan");return}try{const m=localStorage.getItem("access_token"),$=N.map(u=>({aspek_id:parseInt(u.id),validitas:u.validitas||null,reliabel:u.reliabel||null,fleksibel:u.fleksibel||null,adil:u.adil||null})),z=await fetch(`https://backend.devgatensi.site/api/asesmen/${n}/ak06`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${m}`,"Content-Type":"application/json"},body:JSON.stringify({answers:$,rekomendasi1:Z,rekomendasi2:Q,catatan_asesor1:G[x[0]?.id]||"",catatan_asesor2:G[x[1]?.id]||""})});z.ok?(g("AK 06 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/asesmen/${n}/selesai`)},500)):(console.error("Failed to save AK06:",z.status),b("Gagal menyimpan data. Silakan coba lagi."))}catch(m){console.error("Error saving AK06:",m),b("Terjadi kesalahan. Silakan coba lagi.")}};return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #999",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t(P?"/asesor/dashboard":"/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"AK.06"})]})})}),e.jsxs(Ue,{currentStep:C.find(m=>m.href.includes("ak06"))?.number||7,steps:C,id:n,children:[e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",color:"#000",margin:"0"},children:"FR.AK.06. MENINJAU PROSES ASESMEN"})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:2,style:{width:"30%",background:"#fff",border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:["Skema Sertifikasi",e.jsx("br",{}),"(KKNI/Okupasi/Klaster)"]}),e.jsx("td",{style:{width:"12%",background:"#fff",border:"1px solid #000",padding:"6px"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:p||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:d||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:"TUK"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:o||"-"})]}),x.length>1?x.map((m,$)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:["Nama Asesor ",$+1]}),e.jsxs("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:[m.nama?.toUpperCase()||"",m.noreg&&` (${m.noreg})`]})]},m.id)):e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:"Nama Asesor"}),e.jsxs("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:[x[0]?.nama?.toUpperCase()||"",x[0]?.noreg&&` (${x[0].noreg})`]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:"Tanggal"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px"},children:new Date().toLocaleDateString("id-ID")})]})]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",textAlign:"left",border:"1px solid #000",padding:"6px"},children:"Penjelasan:"})}),e.jsx("tr",{children:e.jsxs("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:["1. Peninjauan dapat dilakukan oleh lead asesor atau asesor yang melaksanakan asesmen.",e.jsx("br",{}),"2. Peninjauan dapat dilakukan secara terpadu dalam skema sertifikasi dan / atau peserta kelompok yang homogen.",e.jsx("br",{}),"3. Isilah pemenuhan dimensi kompetensi dengan menulis kode rekaman formulir yang membuktikan terpenuhinya dimensi kompetensi."]})})]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,style:{background:"#cc0000",color:"#fff",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Aspek yang ditinjau"}),e.jsx("th",{colSpan:4,style:{background:"#cc0000",color:"#fff",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Kesesuaian dengan prinsip asesmen"})]}),e.jsxs("tr",{children:[e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Validitas"}),e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Reliabel"}),e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Fleksibel"}),e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Adil"})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:["Prosedur asesmen:",e.jsx("br",{})," Rencana asesmen"]}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Rencana asesmen"))?.validitas||!1,onChange:()=>w(N.find(m=>m.nama.includes("Rencana asesmen"))?.id||"","validitas"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Rencana asesmen"))?.reliabel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Rencana asesmen"))?.id||"","reliabel"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Rencana asesmen"))?.fleksibel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Rencana asesmen"))?.id||"","fleksibel"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Rencana asesmen"))?.adil||!1,onChange:()=>w(N.find(m=>m.nama.includes("Rencana asesmen"))?.id||"","adil"),disabled:f})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:" Persiapan asesmen"}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Persiapan asesmen"))?.validitas||!1,onChange:()=>w(N.find(m=>m.nama.includes("Persiapan asesmen"))?.id||"","validitas"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Persiapan asesmen"))?.reliabel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Persiapan asesmen"))?.id||"","reliabel"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Persiapan asesmen"))?.fleksibel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Persiapan asesmen"))?.id||"","fleksibel"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Persiapan asesmen"))?.adil||!1,onChange:()=>w(N.find(m=>m.nama.includes("Persiapan asesmen"))?.id||"","adil"),disabled:f})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:" Implementasi asesmen"}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Implementasi asesmen"))?.validitas||!1,onChange:()=>w(N.find(m=>m.nama.includes("Implementasi asesmen"))?.id||"","validitas"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Implementasi asesmen"))?.reliabel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Implementasi asesmen"))?.id||"","reliabel"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Implementasi asesmen"))?.fleksibel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Implementasi asesmen"))?.id||"","fleksibel"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Implementasi asesmen"))?.adil||!1,onChange:()=>w(N.find(m=>m.nama.includes("Implementasi asesmen"))?.id||"","adil"),disabled:f})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:" Keputusan asesmen"}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Keputusan asesmen"))?.validitas||!1,onChange:()=>w(N.find(m=>m.nama.includes("Keputusan asesmen"))?.id||"","validitas"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Keputusan asesmen"))?.reliabel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Keputusan asesmen"))?.id||"","reliabel"),disabled:f})}),e.jsx("td",{style:{background:"#000",border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Keputusan asesmen"))?.adil||!1,onChange:()=>w(N.find(m=>m.nama.includes("Keputusan asesmen"))?.id||"","adil"),disabled:f})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:" Umpan balik asesmen"}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Umpan balik asesmen"))?.validitas||!1,onChange:()=>w(N.find(m=>m.nama.includes("Umpan balik asesmen"))?.id||"","validitas"),disabled:f})}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Umpan balik asesmen"))?.reliabel||!1,onChange:()=>w(N.find(m=>m.nama.includes("Umpan balik asesmen"))?.id||"","reliabel"),disabled:f})}),e.jsx("td",{style:{background:"#000",border:"1px solid #000",padding:"6px"}}),e.jsx("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:e.jsx(q,{checked:N.find(m=>m.nama.includes("Umpan balik asesmen"))?.adil||!1,onChange:()=>w(N.find(m=>m.nama.includes("Umpan balik asesmen"))?.id||"","adil"),disabled:f})})]}),e.jsx("tr",{children:e.jsxs("td",{colSpan:5,style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:["Rekomendasi untuk peningkatan",e.jsx("br",{}),e.jsx("textarea",{value:Z,onChange:m=>R(m.target.value),disabled:f,style:{width:"100%",height:"120px",border:"1px solid #ccc",padding:"6px",fontSize:"13px",resize:"none",cursor:f?"not-allowed":"text"},placeholder:"Tuliskan rekomendasi..."})]})})]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,style:{background:"#cc0000",color:"#fff",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Aspek yang ditinjau"}),e.jsx("th",{colSpan:5,style:{background:"#cc0000",color:"#fff",fontWeight:"bold",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Pemenuhan dimensi kompetensi"})]}),e.jsxs("tr",{children:[e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Task Skills"}),e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Task Management Skills"}),e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Contingency Management Skills"}),e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Job Role/Environment Skills"}),e.jsx("th",{style:{background:"#cc0000",color:"#fff",fontWeight:"bold",fontStyle:"italic",textAlign:"center",border:"1px solid #000",padding:"6px"},children:"Transfer Skills"})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:[e.jsx("b",{children:"Konsistensi keputusan asesmen"}),e.jsx("br",{}),"Bukti dari berbagai asesmen diperiksa untuk konsistensi dimensi kompetensi"]}),e.jsxs("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:["L/DIT",e.jsx("br",{})," T/DPT"]}),e.jsxs("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:["L/DIT",e.jsx("br",{})," T/DPT"]}),e.jsxs("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:["L/DIT",e.jsx("br",{})," T/DPT"]}),e.jsxs("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:["L/DIT",e.jsx("br",{})," T/DPT"]}),e.jsxs("td",{style:{textAlign:"center",border:"1px solid #000",padding:"6px"},children:["L/DIT",e.jsx("br",{})," T/DPT"]})]}),e.jsx("tr",{children:e.jsxs("td",{colSpan:6,style:{background:"#fff",border:"1px solid #000",padding:"6px"},children:["Rekomendasi untuk peningkatan:",e.jsx("br",{}),e.jsx("textarea",{value:Q,onChange:m=>A(m.target.value),disabled:f,style:{width:"100%",height:"120px",padding:"6px",border:"1px solid #ccc",fontSize:"13px",resize:"none",cursor:f?"not-allowed":"text"},placeholder:"Tuliskan rekomendasi..."})]})})]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"10px",fontSize:"13px",background:"#fff",border:"1px solid #000"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"33%",background:"#fff",border:"1px solid #000",padding:"6px"},children:"Nama Lead Asesor/Asesor"}),e.jsx("td",{style:{width:"33%",background:"#fff",border:"1px solid #000",padding:"6px"},children:"Tanggal Tanda Tangan"}),e.jsx("td",{style:{width:"34%",background:"#fff",border:"1px solid #000",padding:"6px"},children:"Komentar"})]}),x.map((m,$)=>{const u=P&&!(r&&$===0||c&&$===1),k=$===0?F.asesor1:F.asesor2;return e.jsxs("tr",{children:[e.jsx("td",{style:{height:"100px",border:"1px solid #000",padding:"6px",verticalAlign:"top"},children:m.nama?.toUpperCase()||""}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px",verticalAlign:"top",textAlign:"center"},children:k?e.jsxs("div",{children:[e.jsx("img",{src:k.url,alt:`QR ${m.nama}`,style:{width:"80px",height:"80px"}}),e.jsx("div",{style:{fontSize:"11px",marginTop:"4px"},children:k.tanggal?new Date(k.tanggal).toLocaleDateString("id-ID"):""})]}):e.jsx("div",{style:{minHeight:"80px"}})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px"},children:e.jsx("textarea",{value:G[m.id]||"",onChange:y=>J(v=>({...v,[m.id]:y.target.value})),disabled:u,style:{width:"100%",height:"80px",border:"1px solid #ccc",padding:"6px",fontSize:"13px",resize:"none",cursor:u?"not-allowed":"text"},placeholder:"Tuliskan komentar..."})})]},m.id)})]})}),e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("div",{style:{background:"#fff",border:"1px solid #999",borderRadius:"4px",padding:"16px",marginBottom:"16px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:I,onChange:()=>T(!I),style:{marginTop:"2px"},disabled:f}),e.jsx("span",{style:{fontSize:"13px",color:"#333"},children:"Saya menyatakan dengan sebenar-benarnya bahwa peninjauan proses asesmen ini telah saya lakukan dengan objektif dan dapat dipertanggungjawabkan."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>{const m=C.findIndex(z=>z.href.includes("ak06")),$=C[m-1];if($){const z=$.href.replace("/asesi/asesmen/",`/asesi/asesmen/${n}/`);t(z)}},children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:!I,onClick:D,children:"Selesai"})]})]})]})]})}function Bn(){const t=xe(),{user:s}=re(),{id:a}=we(),{role:n}=Oe(a),{asesorList:i}=Me(a),[r,c]=l.useState(3),p=s?.role?.name?.toLowerCase()==="asesor",d=Qe(p,n,i.length),o=d[d.length-1]?.number||5,x=()=>{t(p?"/asesor/dashboard":"/asesi/dashboard")};return l.useEffect(()=>{window.scrollTo(0,0);const h=setInterval(()=>{c(g=>g<=1?(clearInterval(h),setTimeout(()=>x(),0),0):g-1)},1e3);return()=>clearInterval(h)},[]),e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"900px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t(p?"/asesor/dashboard":"/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Selesai"})]})})}),e.jsx(Ue,{currentStep:o,steps:d,children:e.jsx("div",{children:e.jsxs("div",{style:{width:"100%",background:"#fff",border:"1px solid #000",padding:"40px",textAlign:"center"},children:[e.jsx("style",{children:`
              @keyframes stroke { 100% { stroke-dashoffset: 0; } }
              @keyframes scale { 0%, 100% { transform: none; } 50% { transform: scale3d(1.1, 1.1, 1); } }
              @keyframes fill { 100% { box-shadow: inset 0px 0px 0px 30px #7ac142; } }
              .checkmark__circle { stroke-dasharray: 166; stroke-dashoffset: 166; stroke-width: 2; stroke-miterlimit: 10; stroke: #7ac142; fill: none; animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; }
              .checkmark { width: 56px; height: 56px; border-radius: 50%; display: block; stroke-width: 2; stroke: #fff; stroke-miterlimit: 10; margin: 0 auto 20px; box-shadow: inset 0px 0px 0px #7ac142; animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both; }
              .checkmark__check { transform-origin: 50% 50%; stroke-dasharray: 48; stroke-dashoffset: 48; stroke: #fff; stroke-width: 3; animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; }
            `}),e.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[e.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),e.jsx("path",{className:"checkmark__check",fill:"none",stroke:"#fff",strokeWidth:"3",d:"m14.1 27.2 7.1 7.2 16.7-16.8"})]}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",color:"#000",marginBottom:"10px",textTransform:"uppercase"},children:"Asesmen Selesai"}),e.jsxs("p",{style:{fontSize:"13px",color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:["Terima kasih! Seluruh tahapan asesmen telah Anda selesaikan.",e.jsx("br",{}),"Hasil penilaian akan diumumkan setelah diproses lebih lanjut."]}),e.jsxs("p",{style:{fontSize:"12px",color:"#999",marginBottom:"30px"},children:["Mengalihkan ke Dashboard dalam ",e.jsx("span",{style:{fontWeight:"bold",color:"#0066cc"},children:r})," detik..."]}),e.jsx(le,{variant:"primary",onClick:x,style:{padding:"12px 32px",textTransform:"uppercase",fontWeight:"bold"},children:"Kembali ke Dashboard Sekarang"})]})})})]})}function Rn(){const t=xe(),{user:s}=re(),{kegiatan:a,isAsesor:n}=ns(),{idIzin:i}=we(),r=n?i:s?.id_izin,c=a?.jadwal_id,{showSuccess:p,showError:d,showWarning:o}=De(),[x,h]=l.useState(null),[g,b]=l.useState(null),[M,P]=l.useState(null),[C,j]=l.useState([]),[f,N]=l.useState([]),[B,Z]=l.useState([]),[R,Q]=l.useState(!0),[A,G]=l.useState(!1),[J,Y]=l.useState(!1),[H,I]=l.useState(""),[T,S]=l.useState(null),[W,F]=l.useState(void 0),[K,w]=l.useState(null),[D,m]=l.useState({nama:"",nik:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",kebangsaan:"",alamat:"",telepon_rumah:"",telepon_hp:"",kode_pos:"",email:"",kualifikasi:""}),[$,z]=l.useState({perusahaan:"",jabatan:"",alamat_kantor:"",kode_pos:null,telepon_kantor:"",fax:"",email_kantor:""});l.useEffect(()=>{window.scrollTo(0,0),r?(async()=>{try{const y=localStorage.getItem("access_token");if(!r){Q(!1);return}const v=await fetch(`https://backend.devgatensi.site/api/praasesmen/${r}/apl01`,{headers:{Accept:"application/json",Authorization:`Bearer ${y}`}});if(v.ok){const L=await v.json();L.message==="Success"&&(h(L.data.data_pribadi),b(L.data.data_pekerjaan),m(L.data.data_pribadi),z(L.data.data_pekerjaan),L.data.data_sertifikasi&&P(L.data.data_sertifikasi),L.data.data_unit_kompetensi&&j(L.data.data_unit_kompetensi),L.data.bukti_persyaratan&&N(L.data.bukti_persyaratan),L.data.bukti_administratif&&Z(L.data.bukti_administratif),L.data.skkni&&I(L.data.skkni),L.data.catatan!==void 0&&S(L.data.catatan),L.data.is_diterima!==void 0&&F(L.data.is_diterima),L.data.barcodes&&w(L.data.barcodes))}}catch{}finally{Q(!1)}})():Q(!1)},[r]);const u=async()=>{if(!J){o("Silakan centang pernyataan terlebih dahulu");return}const k=r||s?.id_izin;if(k){if(n){t(`/asesi/praasesmen/${k}/apl02`);return}try{G(!0);const y=localStorage.getItem("access_token");if(!K?.asesi?.url&&c){const v=await fetch(`https://backend.devgatensi.site/api/qr/${k}/apl01`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({id_jadwal:c})});if(v.ok){const L=await v.json();L.message==="Success"&&L.data?.url_image&&w(O=>({asesi:{url:L.data.url_image,tanggal:new Date().toISOString(),nama:D.nama},admin:O?.admin||{url:null,tanggal:null,nama:null}}))}}await Ee.saveApl01DataPekerjaan(k,$),p("APL 01 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${k}/apl02`)},500)}catch(y){d(y instanceof Error?y.message:"Gagal menyimpan data pekerjaan")}finally{G(!1)}}};return R?e.jsx(Ce,{text:"Memuat data APL 01..."}):e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR APL 01"})]})})}),e.jsxs(Fe,{currentStep:2,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",marginBottom:"4px",textTransform:"uppercase"},children:"FR. APL.01 - FORMULIR APL 01"}),e.jsx("p",{style:{fontSize:"13px",color:"#666"},children:"Isi atau lengkapi data formulir APL 01 di bawah ini"})]}),e.jsx("div",{style:{padding:"4px ",marginBottom:"5px"},children:e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"Bagian 1 :  Rincian Data Pemohon Sertifikasi"})}),e.jsx("div",{style:{padding:"2px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"16px",color:"#000"},children:"Pada bagian ini, cantumkan data pribadi, data pendidikan formal serta data pekerjaan anda pada saat ini."})}),e.jsx("div",{style:{padding:"8px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"A. DATA PRIBADI"})}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Nama"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("input",{type:"text",value:D.nama,disabled:!0,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"No. NIK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("input",{type:"text",value:D.nik,disabled:!0,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Tempat/tgl. Lahir"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("input",{type:"text",value:D.tempat_lahir,disabled:!0,placeholder:"Tempat Lahir",style:{flex:1,padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}}),e.jsx("input",{type:"date",value:D.tanggal_lahir,disabled:!0,style:{flex:1,padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5"}})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Jenis kelamin"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsxs("select",{value:D.jenis_kelamin,disabled:!0,style:{padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",minWidth:"150px",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"},children:[e.jsx("option",{value:"",children:"Pilih"}),e.jsx("option",{value:"Pria",children:"Pria"}),e.jsx("option",{value:"Wanita",children:"Wanita"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Kebangsaan"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("input",{type:"text",value:D.kebangsaan,disabled:!0,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Alamat"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("textarea",{value:D.alamat,disabled:!0,rows:3,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",resize:"vertical",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"No. Telp/E-mail"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",padding:"2px",textTransform:"uppercase"},children:"Rumah"}),e.jsx("td",{style:{padding:"2px"},children:e.jsx("input",{type:"text",value:D.telepon_rumah||"",disabled:!0,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})}),e.jsx("td",{style:{width:"30px",padding:"2px",textTransform:"uppercase"},children:"HP"}),e.jsx("td",{style:{padding:"2px"},children:e.jsx("input",{type:"text",value:D.telepon_hp,disabled:!0,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",padding:"2px",textTransform:"uppercase"},children:"Email"}),e.jsx("td",{colSpan:3,style:{padding:"2px"},children:e.jsx("input",{type:"email",value:D.email,disabled:!0,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})})]})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Kualifikasi/Pendidikan"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("input",{type:"text",value:D.kualifikasi,disabled:!0,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:"not-allowed",background:"#f5f5f5",textTransform:"uppercase"}})})]})]})}),e.jsx("div",{style:{padding:"8px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"B. DATA PEKERJAAN"})}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Nama Perusahaan"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("input",{type:"text",value:$.perusahaan,onChange:k=>z({...$,perusahaan:k.target.value}),disabled:n||A,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",textTransform:"uppercase",cursor:n||A?"not-allowed":"text",background:n||A?"#f5f5f5":"#fff"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Jabatan"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("input",{type:"text",value:$.jabatan,onChange:k=>z({...$,jabatan:k.target.value}),disabled:n||A,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",textTransform:"uppercase",cursor:n||A?"not-allowed":"text",background:n||A?"#f5f5f5":"#fff"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Alamat Perusahaan"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("textarea",{value:$.alamat_kantor||"",onChange:k=>z({...$,alamat_kantor:k.target.value}),disabled:n||A,rows:3,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",resize:"vertical",textTransform:"uppercase",cursor:n||A?"not-allowed":"text",background:n||A?"#f5f5f5":"#fff"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"200px",background:"#fff",border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"No. Telp/Fax/Email"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px 8px",verticalAlign:"middle"},children:e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50px",padding:"2px",textTransform:"uppercase"},children:"Telp"}),e.jsx("td",{style:{padding:"2px"},children:e.jsx("input",{type:"text",value:$.telepon_kantor||"",onChange:k=>z({...$,telepon_kantor:k.target.value}),disabled:n||A,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",textTransform:"uppercase",cursor:n||A?"not-allowed":"text",background:n||A?"#f5f5f5":"#fff"}})}),e.jsx("td",{style:{width:"40px",textTransform:"uppercase",padding:"6px 8px"},children:"Fax"}),e.jsx("td",{style:{padding:"2px"},children:e.jsx("input",{type:"text",value:$.fax||"",onChange:k=>z({...$,fax:k.target.value}),disabled:n||A,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",textTransform:"uppercase",cursor:n||A?"not-allowed":"text",background:n||A?"#f5f5f5":"#fff"}})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50px",padding:"2px",textTransform:"uppercase"},children:"Email"}),e.jsx("td",{style:{padding:"2px"},children:e.jsx("input",{type:"email",value:$.email_kantor||"",onChange:k=>z({...$,email_kantor:k.target.value}),disabled:n||A,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",textTransform:"uppercase",cursor:n||A?"not-allowed":"text",background:n||A?"#f5f5f5":"#fff"}})}),e.jsx("td",{style:{width:"200px",background:"#fff",padding:"6px 8px",verticalAlign:"middle",textTransform:"uppercase"},children:"Kode Pos"}),e.jsx("td",{style:{verticalAlign:"middle"},children:e.jsx("input",{type:"number",value:$.kode_pos||"",onChange:k=>z({...$,kode_pos:k.target.value?parseInt(k.target.value):null}),disabled:n||A,style:{width:"100%",padding:"4px 6px",border:"1px solid #000",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",cursor:n||A?"not-allowed":"text",background:n||A?"#f5f5f5":"#fff"}})})]})]})})})]})]})}),e.jsx("div",{style:{padding:"4px ",marginBottom:"5px"},children:e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"Bagian  2 :  Data Sertifikasi"})}),e.jsx("div",{style:{padding:"2px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"16px",color:"#000"},children:"Tuliskan Judul dan Nomor Skema Sertifikasi serta Daftar Unit Kompetensi sesuai kemasan pada skema sertifikasi yang anda ajukan untuk mendapatkan pengakuan sesuai dengan latar belakang pendidikan, pelatihan serta pengalaman kerja yang anda miliki."})}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"14px",color:"#000",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{rowSpan:2,style:{width:"25%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",fontWeight:"bold",textTransform:"uppercase"},children:"Skema Sertifikasi Okupasi Nasional"}),e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",fontWeight:"bold",textAlign:"center",textTransform:"uppercase"},children:"Judul"}),e.jsxs("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle"},children:[": ",M?.judul||"-"]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",fontWeight:"bold",textAlign:"center",textTransform:"uppercase"},children:"Nomor"}),e.jsxs("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle"},children:[": ",M?.nomor||"-"]})]}),M?.options&&M.options.length>0?M.options.map((k,y)=>e.jsxs("tr",{children:[y===0&&e.jsx("td",{rowSpan:M.options.length,style:{width:"25%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",fontWeight:"bold",textTransform:"uppercase"},children:"Tujuan Asesmen"}),e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:k.checked,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textTransform:"uppercase"},children:k.label})]},k.id)):e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{rowSpan:5,style:{width:"25%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",fontWeight:"bold",textTransform:"uppercase"},children:"Tujuan Asesmen"}),e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textTransform:"uppercase"},children:"Sertifikasi"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textTransform:"uppercase"},children:"Sertifikasi Ulang"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textTransform:"uppercase"},children:"Pengakuan Kompetensi Terkini (PKT)"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textTransform:"uppercase"},children:"Rekognisi pembelajaran lampau"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"10%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{width:"65%",border:"1px solid #000",padding:"8px 10px",verticalAlign:"middle",textTransform:"uppercase"},children:"Lainnya:"})]})]})]})}),e.jsx("div",{style:{padding:"8px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"DAFTAR UNIT KOMPETENSI"})}),e.jsxs("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#c40000",color:"#fff"},children:[e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"50px",textTransform:"uppercase"},children:"No"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"150px",textTransform:"uppercase"},children:"Kode Unit"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"left",textTransform:"uppercase"},children:"Judul Unit"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"180px",textTransform:"uppercase"},children:"Jenis Standar (SKKNI / Standar Internasional / Standar Khusus)"})]})}),e.jsx("tbody",{children:C.length>0?C.map((k,y)=>e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:y+1}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:k.kode}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:k.nama}),y===0&&e.jsx("td",{rowSpan:C.length,style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",verticalAlign:"middle"},children:H||"-"})]},y)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{border:"1px solid #000",padding:"12px",textAlign:"center",color:"#999"},children:"Belum ada data unit kompetensi"})})})]}),e.jsx("div",{style:{padding:"4px ",marginBottom:"5px"},children:e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"Bagian  3  :  Bukti Kelengkapan  Pemohon "})}),e.jsx("div",{style:{padding:"8px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"A. BUKTI PERSYARATAN"})}),e.jsxs("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:[e.jsxs("thead",{children:[e.jsxs("tr",{style:{background:"#c40000",color:"#fff"},children:[e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"50px",verticalAlign:"middle",textTransform:"uppercase"},children:"No"}),e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"left",verticalAlign:"middle",textTransform:"uppercase"},children:"Bukti Persyaratan Dasar"}),e.jsx("th",{colSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"center",textTransform:"uppercase"},children:"Ada"}),e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"100px",verticalAlign:"middle",textTransform:"uppercase"},children:"Tidak Ada"})]}),e.jsxs("tr",{style:{background:"#c40000",color:"#fff"},children:[e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"100px",textTransform:"uppercase"},children:"Memenuhi Syarat"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"100px",textTransform:"uppercase"},children:"Tidak Memenuhi"})]})]}),e.jsx("tbody",{children:f.length>0?f.map((k,y)=>e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:k.no}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:k.bukti}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})})]},y)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,style:{border:"1px solid #000",padding:"12px",textAlign:"center",color:"#999"},children:"Belum ada data bukti persyaratan"})})})]}),e.jsx("div",{style:{padding:"8px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"B. BUKTI ADMINISTRATIF"})}),e.jsxs("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:[e.jsxs("thead",{children:[e.jsxs("tr",{style:{background:"#c40000",color:"#fff"},children:[e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"50px",verticalAlign:"middle",textTransform:"uppercase"},children:"No"}),e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"left",verticalAlign:"middle",textTransform:"uppercase"},children:"Bukti Administratif"}),e.jsx("th",{colSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"center",textTransform:"uppercase"},children:"Ada"}),e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"100px",verticalAlign:"middle",textTransform:"uppercase"},children:"Tidak Ada"})]}),e.jsxs("tr",{style:{background:"#c40000",color:"#fff"},children:[e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"100px",textTransform:"uppercase"},children:"Memenuhi Syarat"}),e.jsx("th",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",width:"100px",textTransform:"uppercase"},children:"Tidak Memenuhi"})]})]}),e.jsx("tbody",{children:B.length>0?B.map((k,y)=>e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:k.no}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:k.bukti}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:k.checked||!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(q,{checked:!1,onChange:()=>{},disabled:!0})})})]},y)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,style:{border:"1px solid #000",padding:"12px",textAlign:"center",color:"#999"},children:"Belum ada data bukti administratif"})})})]}),e.jsx("div",{style:{padding:"8px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"G. CATATAN / REKOMENDASI"})}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:3,style:{width:"60%",border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"Rekomendasi (diisi oleh LSP):"}),e.jsx("br",{}),e.jsx("br",{}),"Berdasarkan ketentuan persyaratan dasar,",e.jsx("br",{}),"maka pemohon:",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:W===!0?"none":W===!1?"line-through":"none"},children:"Diterima"})," /"," ",e.jsx("span",{style:{fontWeight:"bold",textDecoration:W===!1?"none":W===!0?"line-through":"none"},children:"Tidak diterima"})," *) sebagai peserta sertifikasi",e.jsx("br",{}),e.jsx("br",{}),"* coret yang tidak sesuai"]}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"8px",fontWeight:"bold"},children:"Pemohon :"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"20%",border:"1px solid #000",padding:"8px"},children:"Nama"}),e.jsx("td",{style:{width:"20%",border:"1px solid #000",padding:"8px"},children:D.nama?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:["Tanda tangan /",e.jsx("br",{}),"Tanggal"]}),e.jsx("td",{style:{height:"140px",border:"1px solid #000",padding:"8px",verticalAlign:"middle",textAlign:"center"},children:K?.asesi?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.jsx("img",{src:K.asesi.url,alt:"Tanda Tangan Asesi",style:{height:"80px",width:"80px",objectFit:"contain"}}),K.asesi.tanggal&&e.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333"},children:new Date(K.asesi.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})]}),e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:3,style:{border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"Catatan :"}),T&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{style:{whiteSpace:"pre-wrap"},children:T})]})]}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"8px",fontWeight:"bold"},children:"Admin:"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:"Nama"}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:K?.admin?.nama?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:"Tanda tangan / tanggal"}),e.jsx("td",{style:{height:"90px",border:"1px solid #000",padding:"8px",verticalAlign:"middle",textAlign:"center"},children:K?.admin?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:K.admin.url,alt:"Tanda Tangan Admin",style:{height:"60px",width:"60px",objectFit:"contain"}}),K.admin.tanggal&&e.jsx("div",{style:{fontSize:"12px",color:"#333"},children:new Date(K.admin.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})]})]})}),e.jsx("div",{style:{background:"#fff",border:"1px solid #999",borderRadius:"4px",padding:"16px",marginBottom:"16px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:J,onChange:()=>Y(!J),style:{marginTop:"2px"}}),e.jsx("span",{style:{fontSize:"13px",color:"#333"},children:"Saya menyatakan dengan sebenar-benarnya bahwa data yang saya isi dalam APL 01 ini adalah benar dan dapat dipertanggungjawabkan."})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t(-1),disabled:A,children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:A||!J,onClick:u,children:A?"Menyimpan...":"Simpan & Lanjut ke APL 02"})]})]})]})}function Bs(t){const[s,a]=l.useState({jabatanKerja:"",nomorSkema:"",tuk:"",asesorList:[],namaAsesor:"",namaAsesi:"",tanggalUji:"",tanggalSelesai:null,jenisKelas:""}),[n,i]=l.useState(!0),[r,c]=l.useState(null);return l.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{const d=localStorage.getItem("access_token"),o=await fetch(`https://backend.devgatensi.site/api/praasesmen/${t}/data-dokumen`,{headers:{Accept:"application/json",Authorization:`Bearer ${d}`}});if(o.ok){const x=await o.json();if(x.message==="Success"&&x.data){const h=[];x.data.asesor_1&&h.push({id:x.data.id_asesor_1,nama:x.data.asesor_1,noreg:x.data.noreg_asesor_1||""}),x.data.asesor_2&&h.push({id:x.data.id_asesor_2,nama:x.data.asesor_2,noreg:x.data.noreg_asesor_2||""});const g=h.map(b=>b.nama).join(", ");a({jabatanKerja:x.data.jabatan_kerja||"",nomorSkema:x.data.nomor_skema||"",tuk:x.data.tuk||"",asesorList:h,namaAsesor:g,namaAsesi:x.data.nama_asesi||"",tanggalUji:x.data.tanggal_uji||"",tanggalSelesai:x.data.tanggal_selesai,jenisKelas:x.data.jenis_kelas||""})}}else console.warn(`Data Dokumen PraAsesmen API returned ${o.status}`)}catch(d){console.error("Error fetching data dokumen praasesmen:",d),c(d instanceof Error?d.message:"Unknown error")}finally{i(!1)}})()},[t]),{...s,isLoading:n,error:r}}function nt({fileName:t,onRemove:s,isExcluded:a,style:n}){const[i,r]=l.useState(!1),c=l.useRef(null),p=()=>{r(!0),setTimeout(()=>{s()},200)};return e.jsxs("span",{ref:c,style:{display:"inline-flex",alignItems:"center",gap:"8px",height:"38px",background:a?"#fee":"#f5f5f5",border:a?"1px solid #fca5a5":"1px solid #ddd",borderRadius:"6px",padding:"0 12px",fontSize:"12px",fontWeight:"500",color:a?"#991b1b":"#333",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",transform:i?"scale(0.9) translateX(-10px)":"scale(1) translateX(0)",opacity:i?0:a?.6:1,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"default",userSelect:"none",...n},onMouseEnter:d=>{i||(d.currentTarget.style.background=a?"#fecaca":"#eee",d.currentTarget.style.borderColor=a?"#f87171":"#ccc")},onMouseLeave:d=>{i||(d.currentTarget.style.background=a?"#fee":"#f5f5f5",d.currentTarget.style.borderColor=a?"#fca5a5":"#ddd")},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Ws,{size:14,style:{color:a?"#dc2626":"#666"}}),e.jsx("span",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t})]}),e.jsx("button",{onClick:p,style:{background:"transparent",border:"none",color:a?"#dc2626":"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease",flexShrink:0},onMouseEnter:d=>{i||(d.currentTarget.style.background="#dc2626",d.currentTarget.style.color="#fff")},onMouseLeave:d=>{i||(d.currentTarget.style.background="transparent",d.currentTarget.style.color=a?"#dc2626":"#999")},title:a?"Sertakan kembali":"Hapus dari jawaban",children:a?e.jsx(Gs,{size:12}):e.jsx(jt,{size:12})})]})}function Kn({file:t,onDelete:s,disabled:a}){const[n,i]=l.useState(!1),[r,c]=l.useState(!1),p=()=>{a||c(!0)},d=()=>{i(!0),setTimeout(()=>{s(t.id)},200),c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(Ct,{isOpen:r,title:"Hapus File",message:`Apakah Anda yakin ingin menghapus file "${t.name}"?`,confirmText:"Ya, Hapus",cancelText:"Batal",confirmColor:"#dc2626",onConfirm:d,onCancel:()=>c(!1)}),e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px",height:"38px",background:"#f5f5f5",border:"1px solid #ddd",borderRadius:"6px",padding:"0 12px",fontSize:"12px",fontWeight:"500",color:"#333",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)",transform:n?"scale(0.9) translateX(-10px)":"scale(1) translateX(0)",opacity:n?0:1,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"default",userSelect:"none"},onMouseEnter:o=>{n||(o.currentTarget.style.background="#eee",o.currentTarget.style.borderColor="#ccc")},onMouseLeave:o=>{n||(o.currentTarget.style.background="#f5f5f5",o.currentTarget.style.borderColor="#ddd")},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_t(t.name||""),e.jsx("span",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name||"Unknown file"})]}),!a&&e.jsx("button",{onClick:p,style:{background:"transparent",border:"none",color:"#999",cursor:a?"not-allowed":"pointer",padding:"0",width:"24px",height:"24px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease",flexShrink:0},onMouseEnter:o=>{!n&&!a&&(o.currentTarget.style.background="#dc2626",o.currentTarget.style.color="#fff")},onMouseLeave:o=>{n||(o.currentTarget.style.background="transparent",o.currentTarget.style.color="#999")},title:"Hapus file dari server",children:e.jsx(jt,{size:12})})]})]})}function _t(t){if(!t)return e.jsx(Ws,{size:14,style:{color:"#666"}});const s=t.split(".").pop()?.toLowerCase();return s==="pdf"?e.jsx(Xs,{size:14,style:{color:"#dc2626"}}):["jpg","jpeg","png","gif","webp"].includes(s||"")?e.jsx(Zt,{size:14,style:{color:"#059669"}}):["doc","docx"].includes(s||"")?e.jsx(Xs,{size:14,style:{color:"#2563eb"}}):e.jsx(Ws,{size:14,style:{color:"#666"}})}function En({kukId:t,uploadedFiles:s,selectedFileIds:a,onSelectFile:n,disabled:i}){const[r,c]=qe.useState(!1),p=qe.useRef(null);return qe.useEffect(()=>{if(!r)return;const d=o=>{const x=o.target;p.current&&!p.current.contains(x)&&c(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r]),e.jsxs("div",{className:"bukti-dropdown-container",ref:p,style:{position:"relative"},children:[e.jsxs("button",{onClick:()=>!i&&c(!r),disabled:i||s.length===0,style:{width:"100%",padding:"8px 12px",border:r?"1px solid #999":"1px solid #ddd",borderRadius:"6px",fontSize:"12px",fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"500",backgroundColor:i||s.length===0?"#f5f5f5":"#fff",cursor:i||s.length===0?"not-allowed":"pointer",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.2s ease",color:"#333"},onMouseEnter:d=>{!i&&s.length>0&&!r&&(d.currentTarget.style.borderColor="#999",d.currentTarget.style.backgroundColor="#f9f9f9")},onMouseLeave:d=>{r||(d.currentTarget.style.borderColor="#ddd",d.currentTarget.style.backgroundColor=i||s.length===0?"#f5f5f5":"#fff")},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[a.length>0&&e.jsx("span",{style:{background:"#666",color:"#fff",borderRadius:"10px",padding:"2px 8px",fontSize:"11px",fontWeight:"600"},children:a.length}),a.length>0?"file dipilih":s.length===0?"-- Upload file terlebih dahulu --":"-- Pilih File --"]}),e.jsx("span",{style:{transition:"transform 0.3s ease",display:"inline-block",transform:r?"rotate(180deg)":"rotate(0deg)"},children:""})]}),r&&s.length>0&&e.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:100,background:"#fff",border:"1px solid #ddd",borderRadius:"6px",marginTop:"4px",maxHeight:"180px",overflowY:"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:s.map((d,o)=>{const x=a.includes(d.id);return e.jsxs("div",{onClick:()=>{n(t,d.id),c(!1)},style:{padding:"8px 12px",fontSize:"12px",cursor:"pointer",fontWeight:"500",background:x?"#e8e8e8":"transparent",borderBottom:o===s.length-1?"none":"1px solid #eee",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.15s ease",color:"#333"},onMouseEnter:h=>{x||(h.currentTarget.style.background="#f5f5f5")},onMouseLeave:h=>{x||(h.currentTarget.style.background="transparent")},children:[e.jsx(q,{checked:x,onChange:()=>{},style:{pointerEvents:"none"}}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_t(d.name||""),e.jsx("span",{children:d.name||"Unknown file"})]}),x&&e.jsx("span",{style:{marginLeft:"auto",color:"#666"},children:e.jsx(Gs,{size:16})})]},d.id)})})]})}function Mn(){const t=xe(),{user:s}=re(),{kegiatan:a,isAsesor:n}=ns(),{idIzin:i}=we(),r=n?i:s?.id_izin,{asesorList:c,namaAsesi:p}=Bs(r),{showSuccess:d,showError:o,showWarning:x}=De(),h=a?.jadwal_id,[g,b]=l.useState(null),[M,P]=l.useState(!0),[C,j]=l.useState(!1),[f,N]=l.useState(null),[B,Z]=l.useState([]),[R,Q]=l.useState({}),[A,G]=l.useState({}),[J,Y]=l.useState(!1),[H,I]=l.useState(new Set),[T,S]=l.useState("observasi"),[W,F]=l.useState({}),K=(z,u)=>{Q(k=>{if(k[z]===u){const{[z]:v,...L}=k;return L}return{...k,[z]:u}})},w=(z,u)=>{G(k=>{const y=k[z]||[];return y.includes(u)?{...k,[z]:y.filter(v=>v!==u)}:{...k,[z]:[...y,u]}})},D=(z,u)=>{G(k=>({...k,[z]:(k[z]||[]).filter(y=>y!==u)}))},m=async z=>{try{const u=localStorage.getItem("access_token"),k=await fetch(`https://backend.devgatensi.site/api/praasesmen/apl02/files/${z}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:`Bearer ${u}`}});k.ok?(Z(y=>y.filter(v=>v.id!==z)),G(y=>{const v={...y};return Object.keys(v).forEach(L=>{v[L]=v[L].filter(O=>O!==z)}),v}),d("File berhasil dihapus")):k.status===404?(Z(y=>y.filter(v=>v.id!==z)),G(y=>{const v={...y};return Object.keys(v).forEach(L=>{v[L]=v[L].filter(O=>O!==z)}),v})):o("Gagal menghapus file")}catch(u){console.error("Error deleting file:",u),o("Terjadi kesalahan saat menghapus file")}};l.useEffect(()=>{window.scrollTo(0,0);const z=async()=>{try{const u=localStorage.getItem("access_token");let y=(n?i:s?.id_izin)||null;if(!y&&!n&&a?.jadwal_id){const U=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${u}`}});if(U.ok){const ge=await U.json();ge.message==="Success"&&ge.list_asesi&&ge.list_asesi.length>0&&(y=ge.list_asesi[0].id_izin,N(y))}}if(!y){P(!1);return}const[v,L,O]=await Promise.all([fetch(`https://backend.devgatensi.site/api/praasesmen/${y}/data-dokumen`,{headers:{Accept:"application/json",Authorization:`Bearer ${u}`}}),fetch(`https://backend.devgatensi.site/api/praasesmen/${y}/apl02`,{headers:{Accept:"application/json",Authorization:`Bearer ${u}`}}),fetch(`https://backend.devgatensi.site/api/praasesmen/${y}/apl02/files`,{headers:{Accept:"application/json",Authorization:`Bearer ${u}`}})]);let ee="",ie="",_="Sewaktu / Tempat Kerja / Mandiri",E="";if(v.ok){const U=await v.json();U.message==="Success"&&U.data&&(ee=U.data.jabatan_kerja||"",ie=U.data.nomor_skema||"",_=U.data.tuk||"Sewaktu / Tempat Kerja / Mandiri",E=U.data.asesor_1?U.data.asesor_2?`${U.data.asesor_1}, ${U.data.asesor_2}`:U.data.asesor_1:"")}let V=[],te;if(L.ok){const U=await L.json();if(U.message==="Success"&&U.data){V=U.data.units||[],te=U.data.metode;const ge={},Ne={};V.forEach(Pe=>{Pe.subunits.forEach(Se=>{Se.kompeten!==void 0&&Se.kuk_list.forEach(We=>{const gs=`${Pe.id}-${Se.id}-${We.no_kuk}`;ge[gs]=Se.kompeten?"K":"BK"}),Se.barcodes&&(Ne[Se.id]=Se.barcodes)})}),Object.keys(ge).length>0&&Q(ge),Object.keys(Ne).length>0&&F(Ne)}}if(O.ok){const U=await O.json();U.message==="Success"&&U.data&&Z(U.data)}te&&S(te),b({jabatan_kerja:ee,no_skema:ie,tuk:_,nama_asesor:E,nama_asesi:p||s?.name||"",tanggal:new Date().toLocaleDateString("id-ID"),metode:te,units:V})}catch{}finally{P(!1)}};(n&&r||a)&&z()},[a,s,n,i]);const $=async()=>{if(!J){x("Silakan centang pernyataan bahwa Anda telah memahami dokumen ini.");return}if(n){const y=i||f;if(!y){x("ID Izin tidak ditemukan");return}const v=c.findIndex(_=>String(_.id)===String(s?.id)),L=v===0||v===-1,O=g?.units?.[0]?.subunits?.[0]?.id,ee=O?W[O]:null,ie=L?ee?.asesor1?.url:ee?.asesor2?.url;if(h&&!ie){j(!0);try{const _=localStorage.getItem("access_token");console.log("Generating QR for asesor...",{finalIdIzin:y,jadwalId:h,userId:s?.id});const E=await fetch(`https://backend.devgatensi.site/api/qr/${y}/apl02`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({id_jadwal:h})});if(console.log("QR Response status:",E.status),E.ok){const V=await E.json();if(console.log("QR Result:",V),V.message==="Success"&&V.data?.url_image){console.log("asesorList:",c);const te=c.findIndex(Pe=>String(Pe.id)===String(s?.id));console.log("asesorIndex:",te,"userId:",s?.id);const U=te===0||te===-1,ge=te===1,Ne=[];g?.units.forEach(Pe=>{Pe.subunits.forEach(Se=>{Ne.push(Se.id)})}),console.log("subunitIds:",Ne,"isAsesor1:",U,"isAsesor2:",ge),F(Pe=>{const Se={...Pe};return Ne.forEach(We=>{const gs=Se[We];Se[We]={asesi:gs?.asesi||{url:null,tanggal:null,nama:null},asesor1:U?{url:V.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||null}:gs?.asesor1||null,asesor2:ge?{url:V.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||null}:gs?.asesor2||null}}),console.log("Updated subunitBarcodes:",Se),Se}),d("Dokumen berhasil ditandatangani!"),setTimeout(()=>{t(`/asesi/praasesmen/${y}/mapa01`)},1500);return}else console.log("QR generation failed or no url_image in response")}else console.log("QR response not OK")}catch(_){console.error("Error generating QR:",_)}finally{j(!1)}}else console.log("No jadwalId available");t(`/asesi/praasesmen/${y}/mapa01`);return}const z=f||r;if(!z){x("ID Izin tidak ditemukan");return}const u=new Map;Object.entries(R).forEach(([y,v])=>{const L=y.split("-"),O=parseInt(L[1]);u.has(O)||u.set(O,{statuses:[],allFileIds:new Set});const ee=u.get(O);ee.statuses.push(v),(A[y]||[]).forEach(_=>{H.has(_)||ee.allFileIds.add(_)})}),g?.units.forEach(y=>{y.subunits.forEach(v=>{const L=parseInt(v.id);if(u.has(L)){const O=u.get(L);v.files.forEach(ee=>{H.has(ee.id)||O.allFileIds.add(ee.id)})}})});const k=Array.from(u.entries()).map(([y,v])=>({subunit_id:y,kompeten:v.statuses.every(L=>L==="K"),file_ids:Array.from(v.allFileIds)}));if(g?.units){let y=0;if(g.units.forEach(v=>{y+=v.subunits.length}),k.length===0){x("Silakan isi penilaian K/BK untuk semua Kriteria Unjuk Kerja");return}}j(!0);try{const y=localStorage.getItem("access_token");if((await fetch(`https://backend.devgatensi.site/api/praasesmen/${z}/apl02`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({metode:T,is_dilanjutkan:!0,answers:k})})).ok){if(h&&g?.units.some(O=>O.subunits.some(ee=>!ee.barcodes?.asesi?.url)))try{const O=await fetch(`https://backend.devgatensi.site/api/qr/${z}/apl02`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({id_jadwal:h})});if(O.ok){const ee=await O.json();if(ee.message==="Success"&&ee.data?.url_image){const ie={};g?.units.forEach(_=>{_.subunits.forEach(E=>{ie[E.id]={asesi:{url:ee.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||null},asesor1:E.barcodes?.asesor1||null,asesor2:E.barcodes?.asesor2||null}})}),F(ie)}}}catch(O){console.error("Error generating QR:",O)}d("APL 02 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${z}/mapa01`)},500)}else o("Gagal menyimpan data APL 02")}catch(y){console.error("Error saving APL02:",y),o(y instanceof Error?y.message:"Gagal menyimpan data APL 02")}finally{j(!1)}};return M?e.jsx(Ce,{text:"Memuat data APL 02..."}):e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR APL 02"})]})})}),e.jsxs(Fe,{currentStep:3,children:[e.jsx("div",{style:{marginBottom:"20px",marginLeft:"16px"},children:e.jsxs("h1",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"10px",textTransform:"uppercase"},children:["APL-02 ASESMEN MANDIRI",e.jsx("br",{}),g?.jabatan_kerja||"-"]})}),!n&&e.jsxs("div",{style:{background:"#fff",border:"1px solid #e0e0e0",marginBottom:"20px",padding:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#1a1a1a",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Upload Bukti Dokumen"}),e.jsx("p",{style:{fontSize:"12px",color:"#666",margin:"4px 0 0 0"},children:"Upload dokumen pendukung untuk digunakan di kolom bukti"})]}),B.length>0&&e.jsxs("div",{style:{background:"#e8f5e9",color:"#2e7d32",padding:"6px 12px",fontSize:"12px",fontWeight:"600"},children:[B.length," File"]})]}),e.jsxs("div",{onClick:()=>document.getElementById("file-upload-input")?.click(),style:{border:"2px dashed #0066cc",padding:"24px",textAlign:"center",cursor:"pointer",background:"linear-gradient(135deg, #f8fbff 0%, #f0f7ff 100%)",transition:"all 0.3s ease"},onMouseEnter:z=>{z.currentTarget.style.borderColor="#0052a3",z.currentTarget.style.background="linear-gradient(135deg, #f0f7ff 0%, #e8f2ff 100%)",z.currentTarget.style.transform="translateY(-2px)",z.currentTarget.style.boxShadow="0 4px 12px rgba(0,102,204,0.15)"},onMouseLeave:z=>{z.currentTarget.style.borderColor="#0066cc",z.currentTarget.style.background="linear-gradient(135deg, #f8fbff 0%, #f0f7ff 100%)",z.currentTarget.style.transform="translateY(0)",z.currentTarget.style.boxShadow="none"},children:[e.jsx("div",{style:{fontSize:"40px",marginBottom:"8px"},children:""}),e.jsx("p",{style:{fontSize:"14px",color:"#333",margin:0,fontWeight:"500"},children:e.jsx("span",{style:{color:"#0066cc",textDecoration:"underline"},children:"Klik untuk upload"})}),e.jsx("p",{style:{fontSize:"11px",color:"#888",margin:"6px 0 0 0"},children:"PDF, JPG, PNG, DOC, DOCX (Maks. 5MB per file)"})]}),e.jsx("input",{id:"file-upload-input",type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",multiple:!0,style:{display:"none"},onChange:async z=>{const u=z.target.files;if(u&&u.length>0)try{const k=localStorage.getItem("access_token"),y=f||r;if(!y){x("ID Izin tidak ditemukan");return}const v=new FormData;Array.from(u).forEach(O=>{v.append("files[]",O)});const L=await fetch(`https://backend.devgatensi.site/api/praasesmen/${y}/apl02/files`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${k}`},body:v});if(L.ok){const O=await L.json();if(O.message==="Files uploaded"&&O.files){const ee=O.files.map(ie=>({id:ie.id,name:ie.original_name||ie.name,path:ie.path}));Z(ie=>[...ie,...ee]),d(`${ee.length} file berhasil diupload`)}}else o("Gagal upload file")}catch(k){console.error("Error uploading files:",k),o("Terjadi kesalahan saat upload file")}z.target.value=""}}),B.length>0&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#333",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:["File yang Diupload (",B.length,")"]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px"},children:B.map(z=>e.jsx(Kn,{file:z,onDelete:m,disabled:n||C},z.id))})]})]}),e.jsx("div",{style:{background:"#fff9e6",border:"1px solid #e6b800",marginBottom:"20px",padding:"12px"},children:e.jsxs("p",{style:{fontSize:"12px",color:"#000",margin:0},children:[e.jsx("strong",{children:"CATATAN:"})," K = Kompeten, BK = Belum Kompeten. Isi kolom bukti dengan dokumen pendukung yang Anda miliki."]})}),g&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",background:"#fff",fontSize:"12px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px 8px",width:"25%",fontWeight:"bold",verticalAlign:"top",textTransform:"uppercase"},children:["Skema Sertifikasi",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"11px",fontWeight:"normal"},children:"(/Okupasi/)"})]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"12%",fontWeight:"bold",textTransform:"uppercase"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"3%",textAlign:"center"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textTransform:"uppercase"},children:g.jabatan_kerja})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",textTransform:"uppercase"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textTransform:"uppercase"},children:g.no_skema})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",textTransform:"uppercase"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",textTransform:"uppercase"},children:g.tuk||"-"})]}),c.length>1?c.map((z,u)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",textTransform:"uppercase"},children:["Nama Asesor ",u+1]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",textTransform:"uppercase"},children:z.nama||"-"})]},z.id)):e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",textTransform:"uppercase"},children:"Nama Asesor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",textTransform:"uppercase"},children:g.nama_asesor||c[0]?.nama||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",textTransform:"uppercase"},children:"Nama Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",textTransform:"uppercase"},children:p?.toUpperCase()||g.nama_asesi||s?.name||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",textTransform:"uppercase"},children:"Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",textTransform:"uppercase"},children:g.tanggal||"-"})]})]})}),e.jsx("div",{style:{background:"#c00000",color:"#fff",padding:"6px 8px",fontWeight:"bold",fontSize:"12px",textTransform:"uppercase",marginBottom:"10px"},children:"Panduan Asesmen Mandiri"}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",marginBottom:"20px",fontSize:"11px"},children:e.jsxs("div",{style:{padding:"8px"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px",textTransform:"uppercase"},children:"Instruksi:"}),e.jsxs("ul",{style:{margin:"4px 0 4px 20px",padding:0},children:[e.jsx("li",{children:"Baca setiap pertanyaan di kolom sebelah kiri"}),e.jsx("li",{children:"Beri tanda centang () pada kotak jika Anda yakin dapat melakukan tugas yang dijelaskan"}),e.jsx("li",{children:"Isi kolom di sebelah kanan dengan mendaftar bukti yang Anda miliki"})]})]})}),g?.units.map((z,u)=>e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",background:"#fff",fontSize:"11px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"4px",width:"22%",fontWeight:"bold",textTransform:"uppercase"},children:["Kode & Judul",e.jsx("br",{}),"Kompetensi ",u+1," :"]}),e.jsxs("td",{colSpan:5,style:{border:"1px solid #000",padding:"4px"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"2px"},children:z.kode}),e.jsx("div",{children:z.judul_kompetensi})]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"4px",fontWeight:"bold",textTransform:"uppercase"},children:"DAPATKAH SAYA ?"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px",width:"4%",textAlign:"center",fontWeight:"bold",textTransform:"uppercase"},children:"K"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px",width:"4%",textAlign:"center",fontWeight:"bold",textTransform:"uppercase"},children:"BK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px",fontWeight:"bold",textTransform:"uppercase"},children:"Bukti"})]}),z.subunits.map(k=>e.jsxs(qe.Fragment,{children:[e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"4px"},children:[e.jsxs("span",{style:{fontWeight:"bold",textTransform:"uppercase"},children:["Elemen ",k.no_elemen," :"]}),e.jsx("br",{}),k.judul_elemen]}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px"}})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{border:"1px solid #000",padding:"4px",fontWeight:"bold",textTransform:"uppercase"},children:"Kriteria Unjuk Kerja:"})}),k.kuk_list.map(y=>{const v=`${z.id}-${k.id}-${y.no_kuk}`,L=R[v]==="K",O=R[v]==="BK";return e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"4px",verticalAlign:"top"},children:[y.no_kuk," ",y.judul_kuk]}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px",width:"4%",textAlign:"center",verticalAlign:"top"},children:e.jsx($e,{name:v,value:"K",checked:L,onChange:()=>!n&&!C&&K(v,"K"),disabled:n||C})}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px",width:"4%",textAlign:"center",verticalAlign:"top"},children:e.jsx($e,{name:v,value:"BK",checked:O,onChange:()=>!n&&!C&&K(v,"BK"),disabled:n||C})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"top"},children:(()=>{const ee=A[v]||[],ie=k.files||[],_=ee.map(E=>B.find(V=>V.id===E)).filter(E=>E!==void 0);return e.jsxs(e.Fragment,{children:[ie.length>0&&e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"8px"},children:ie.map(E=>{const V=H.has(E.id);return e.jsx(nt,{fileName:E.name,isExcluded:V,onRemove:()=>{I(te=>{const U=new Set(te);return U.has(E.id)?U.delete(E.id):U.add(E.id),U})}},E.id)})}),_.length>0&&e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:"8px"},children:_.map(E=>e.jsx(nt,{fileName:E.name,onRemove:()=>D(v,E.id)},E.id))}),e.jsx(En,{kukId:v,uploadedFiles:B,selectedFileIds:ee,onSelectFile:w,disabled:n||C})]})})()})]},y.no_kuk)})]},k.id))]})},z.id)),e.jsx("div",{style:{padding:"8px 12px",marginBottom:"10px"},children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"REKOMENDASI UNTUK ASESI"})}),e.jsx("table",{style:{width:"100%",maxWidth:"900px",background:"#fff",border:"1px solid #000",borderCollapse:"collapse",fontSize:"13px",color:"#000",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:3+(c.length>0?c.length*4:3),style:{width:"30%",border:"1px solid #000",padding:"8px",verticalAlign:"middle"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"Rekomendasi Untuk Asesi: Asesmen dapat / tidak dapat dilanjutkan melalui pendekatan"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"6px",cursor:"not-allowed"},children:[e.jsx(q,{checked:T==="observasi",onChange:()=>{},disabled:!0}),e.jsx("span",{children:"Observasi"})]}),"",e.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:"6px",cursor:"not-allowed"},children:[e.jsx(q,{checked:T==="portofolio",onChange:()=>{},disabled:!0}),e.jsx("span",{children:"Portofolio"})]})]}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"8px",fontWeight:"bold"},children:"Asesi :"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"20%",border:"1px solid #000",padding:"8px"},children:"Nama"}),e.jsx("td",{style:{width:"25%",border:"1px solid #000",padding:"8px"},children:p?.toUpperCase()||g?.nama_asesi?.toUpperCase()||s?.name?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:["Tanda tangan/",e.jsx("br",{}),"Tanggal"]}),e.jsx("td",{style:{height:"120px",border:"1px solid #000",padding:"8px",verticalAlign:"middle",textAlign:"center"},children:(()=>{const z=Object.values(W).find(u=>u.asesi?.url)?.asesi;return z?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx("img",{src:z.url,alt:"Tanda Tangan Asesi",style:{height:"70px",width:"70px",objectFit:"contain"}}),z.tanggal&&e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#333"},children:new Date(z.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})()})]}),c.length>0?c.map((z,u)=>{const k=Object.keys(W)[0],y=k?u===0?W[k]?.asesor1:W[k]?.asesor2:null;return e.jsxs(qe.Fragment,{children:[u===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"8px",fontWeight:"bold"},children:"Ditinjau Oleh Asesor :"})}),u>0&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"8px",fontWeight:"bold"},children:"Asesor :"})}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px"},children:["Nama Asesor ",c.length>1?u+1:""," :"]}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:z.nama?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:"No. Reg:"}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:z.noreg||""})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:["Tanda tangan/",e.jsx("br",{}),"Tanggal"]}),e.jsx("td",{style:{height:"120px",border:"1px solid #000",padding:"8px",verticalAlign:"middle",textAlign:"center"},children:y?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx("img",{src:y.url,alt:`Tanda Tangan ${z.nama}`,style:{height:"70px",width:"70px",objectFit:"contain"}}),y.tanggal&&e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#333"},children:new Date(y.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})]})]},z.id)}):e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",fontWeight:"bold"},children:"Ditinjau Oleh Asesor :"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:"Nama Asesor :"}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:g?.nama_asesor?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"8px"},children:"No. Reg:"}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px"}})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:["Tanda tangan/",e.jsx("br",{}),"Tanggal"]}),e.jsx("td",{style:{height:"120px",border:"1px solid #000",padding:"8px",verticalAlign:"middle",textAlign:"center"},children:(()=>{const z=Object.keys(W)[0],u=z?W[z]?.asesor1:null;return u?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx("img",{src:u.url,alt:"Tanda Tangan Asesor",style:{height:"70px",width:"70px",objectFit:"contain"}}),u.tanggal&&e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#333"},children:new Date(u.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null})()})]})]})]})}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"4px",marginBottom:"20px",padding:"12px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:J,onChange:()=>Y(!J)}),e.jsxs("span",{style:{fontSize:"12px",color:"#000",lineHeight:"1.5"},children:[e.jsx("strong",{style:{textTransform:"uppercase"},children:"Pernyataan:"})," Saya menyatakan bahwa saya telah memahami dan memahami dokumen APL 02 (Asesmen Mandiri) ini dengan sebenar-benarnya."]})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:()=>t(-1),disabled:C,children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:C||!J,onClick:$,children:C?"Menyimpan...":"Simpan & Selesaikan"})]})]})]})}function Wn(){const t=xe(),{user:s}=re(),{kegiatan:a}=as(),{idIzin:n}=we(),i=s?.role?.name?.toLowerCase()==="asesor",[r,c]=l.useState(3),[p,d]=l.useState(null);l.useEffect(()=>{if(window.scrollTo(0,0),i&&n){d(n);return}(async()=>{if(a?.jadwal_id)try{const h=localStorage.getItem("access_token"),g=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${h}`}});if(g.ok){const b=await g.json();b.message==="Success"&&b.list_asesi&&b.list_asesi.length>0&&d(b.list_asesi[0].id_izin)}}catch{}})()},[a,i,n]);const o=()=>{p&&t(`/asesi/praasesmen/${p}/mapa01`)};return l.useEffect(()=>{const x=setInterval(()=>{c(h=>h<=1?(clearInterval(x),setTimeout(()=>o(),0),0):h-1)},1e3);return()=>clearInterval(x)},[p]),e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"900px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR APL 02"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Selesai"})]})})}),e.jsx("div",{style:{padding:"40px 20px",maxWidth:"600px",margin:"0 auto"},children:e.jsxs("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"8px",padding:"40px",textAlign:"center"},children:[e.jsx("style",{children:`
            @keyframes stroke { 100% { stroke-dashoffset: 0; } }
            @keyframes scale { 0%, 100% { transform: none; } 50% { transform: scale3d(1.1, 1.1, 1); } }
            @keyframes fill { 100% { box-shadow: inset 0px 0px 0px 30px #7ac142; } }
            .checkmark__circle { stroke-dasharray: 166; stroke-dashoffset: 166; stroke-width: 2; stroke-miterlimit: 10; stroke: #7ac142; fill: none; animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; }
            .checkmark { width: 56px; height: 56px; border-radius: 50%; display: block; stroke-width: 2; stroke: #fff; stroke-miterlimit: 10; margin: 0 auto 20px; box-shadow: inset 0px 0px 0px #7ac142; animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both; }
            .checkmark__check { transform-origin: 50% 50%; stroke-dasharray: 48; stroke-dashoffset: 48; stroke: #fff; stroke-width: 3; animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; }
          `}),e.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[e.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),e.jsx("path",{className:"checkmark__check",fill:"none",stroke:"#fff",strokeWidth:"3",d:"m14.1 27.2 7.1 7.2 16.7-16.8"})]}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",color:"#000",marginBottom:"10px",textTransform:"uppercase"},children:"Data Berhasil Disimpan"}),e.jsx("p",{style:{fontSize:"13px",color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:"Terima kasih telah mengisi formulir APL 02 (Asesmen Mandiri). Data Anda telah tersimpan dengan baik."}),e.jsxs("p",{style:{fontSize:"12px",color:"#999",marginBottom:"30px"},children:["Mengalihkan ke MAPA 01 dalam ",e.jsx("span",{style:{fontWeight:"bold",color:"#0066cc"},children:r})," detik..."]}),e.jsx("button",{onClick:o,style:{padding:"12px 32px",background:"#0066cc",color:"#fff",fontSize:"13px",cursor:"pointer",border:"none",borderRadius:"4px",textTransform:"uppercase",fontWeight:"bold",fontFamily:"Arial, Helvetica, sans-serif",transition:"all 0.2s ease"},onMouseEnter:x=>{x.currentTarget.style.background="#0052a3",x.currentTarget.style.transform="translateY(-1px)",x.currentTarget.style.boxShadow="0 4px 12px rgba(0,102,204,0.3)"},onMouseLeave:x=>{x.currentTarget.style.background="#0066cc",x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="none"},children:"Lanjut ke MAPA 01 Sekarang"})]})})]})}function $n(){const t=xe(),{user:s}=re(),[a,n]=l.useState(3),i=10,r=()=>{s?.role?.name?.toLowerCase()==="asesor"?t("/asesor/asesi"):t("/asesi/dashboard")};return l.useEffect(()=>{window.scrollTo(0,0);const c=setInterval(()=>{n(p=>p<=1?(clearInterval(c),setTimeout(()=>r(),0),0):p-1)},1e3);return()=>clearInterval(c)},[]),e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"900px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR.AK.01"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Selesai"})]})})}),e.jsx(Ue,{currentStep:i,steps:yn,children:e.jsx("div",{children:e.jsxs("div",{style:{width:"100%",background:"#fff",border:"1px solid #000",padding:"40px",textAlign:"center"},children:[e.jsx("style",{children:`
            @keyframes stroke { 100% { stroke-dashoffset: 0; } }
            @keyframes scale { 0%, 100% { transform: none; } 50% { transform: scale3d(1.1, 1.1, 1); } }
            @keyframes fill { 100% { box-shadow: inset 0px 0px 0px 30px #7ac142; } }
            .checkmark__circle { stroke-dasharray: 166; stroke-dashoffset: 166; stroke-width: 2; stroke-miterlimit: 10; stroke: #7ac142; fill: none; animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; }
            .checkmark { width: 56px; height: 56px; border-radius: 50%; display: block; stroke-width: 2; stroke: #fff; stroke-miterlimit: 10; margin: 0 auto 20px; box-shadow: inset 0px 0px 0px #7ac142; animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both; }
            .checkmark__check { transform-origin: 50% 50%; stroke-dasharray: 48; stroke-dashoffset: 48; stroke: #fff; stroke-width: 3; animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; }
          `}),e.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[e.jsx("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),e.jsx("path",{className:"checkmark__check",fill:"none",stroke:"#fff",strokeWidth:"3",d:"m14.1 27.2 7.1 7.2 16.7-16.8"})]}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",color:"#000",marginBottom:"10px",textTransform:"uppercase"},children:"Pra-Asesmen Selesai"}),e.jsxs("p",{style:{fontSize:"13px",color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:["Terima kasih! Seluruh formulir Pra-Asesmen telah Anda lengkapi.",e.jsx("br",{}),"Data Anda akan direview oleh asesor sebelum pelaksanaan asesmen."]}),e.jsxs("p",{style:{fontSize:"12px",color:"#999",marginBottom:"30px"},children:["Mengalihkan ke Dashboard dalam ",e.jsx("span",{style:{fontWeight:"bold",color:"#0066cc"},children:a})," detik..."]}),e.jsx(le,{variant:"primary",onClick:r,style:{padding:"12px 32px",textTransform:"uppercase",fontWeight:"bold"},children:"Kembali ke Dashboard Sekarang"})]})})})]})}function Fn({judul:t="",nomor:s=""}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"16px",marginTop:"20px"},children:e.jsx("h2",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"8px"},children:"FR. MAPA.01 MERENCANAKAN AKTIVITAS DAN PROSES ASESMEN"})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px",marginBottom:"16px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:"Skema Sertifikasi Okupasi Nasional"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textAlign:"left",background:"#fff"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textAlign:"left",background:"#fff"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:t})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",background:"#fff"}}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textAlign:"left",background:"#fff"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",textAlign:"left",background:"#fff"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:s})]})]})})]})}const qs={BLACK:"#000",WHITE:"#FFF",RED:"#C00000"},se={thin:"1px solid #000"},Un={width:"100%",borderCollapse:"collapse"},On={borderTop:se.thin,borderLeft:se.thin,borderBottom:se.thin,borderRight:se.thin,backgroundColor:qs.RED},Hn={color:qs.WHITE,fontWeight:"bold",fontSize:"12px",padding:"6px 8px",margin:0,textAlign:"left"},Ze={padding:"6px 8px",margin:0,textAlign:"left"};function Ke(t,s,a,n){return{borderTop:t,borderLeft:s,borderBottom:a,borderRight:n}}const ne={rowHeader:Ke(se.thin,se.thin,se.thin,se.thin),labelTop:Ke(se.thin,se.thin,se.thin,se.thin),labelMiddle:Ke(se.thin,se.thin,se.thin,se.thin),labelBottom:Ke(se.thin,se.thin,se.thin,se.thin),contentTop:Ke(se.thin,se.thin,se.thin,se.thin),contentMiddle:Ke(se.thin,se.thin,se.thin,se.thin),contentBottom:Ke(se.thin,se.thin,se.thin,se.thin),contentTop2col:Ke(se.thin,se.thin,se.thin,se.thin),contentMiddle2col:Ke(se.thin,se.thin,se.thin,se.thin),subLabel:Ke(se.thin,se.thin,se.thin,se.thin),subContent1:Ke(se.thin,se.thin,se.thin,se.thin),subContent2:Ke(se.thin,se.thin,se.thin,se.thin)};function ae({style:t,rowSpan:s,colSpan:a,children:n}){const i=t.backgroundColor||t.background?t:{...t,background:"#fff"};return e.jsx("td",{style:i,rowSpan:s,colSpan:a,children:n})}function fe({height:t,children:s}){return e.jsx("tr",{style:{height:t},children:s})}function ue({text:t,indent:s="10pt",checked:a=!1,onToggle:n}){const i=!!n;return e.jsxs("div",{onClick:n,style:{padding:`3pt 0pt 0pt ${s}`,margin:0,display:"flex",alignItems:"flex-start",gap:"6px",cursor:i?"pointer":"not-allowed",userSelect:i?"none":"auto"},children:[e.jsx(q,{checked:a,onChange:()=>{},style:{pointerEvents:"none",opacity:i?1:.5}}),e.jsx("span",{style:{fontSize:"12px",color:qs.BLACK,lineHeight:"1.4"},children:t})]})}function Jn({referensiForm:t,isAsesor:s=!1}){const a=l.useMemo(()=>{const p={};return t&&(console.log("Building checkbox states from referensiForm:",t),t.forEach(d=>{d.kelompok.kategoris?.forEach(x=>{console.log("Kategori:",x.nama,x),x.subkategoris?.forEach(h=>{h.referensis?.forEach(g=>{console.log("Referensi:",g.id,g.nama,g.value),p[`ref_${g.id}`]=g.value})})})}),console.log("Final states:",p)),p},[t]),[n,i]=l.useState({});l.useEffect(()=>{console.log("initialCheckboxStates changed:",a),Object.keys(a).length>0&&i(a)},[a]),l.useEffect(()=>{console.log("checkboxStates updated:",n)},[n]);const r=p=>{i(d=>({...d,[p]:!d[p]}))},c=(p,d,o)=>{if(console.log("getCheckedState called:",{kategoriNama:p,refNama:d,defaultKey:o}),t)for(const x of t){const h=x.kelompok;for(const g of h.kategoris||[])if(console.log("Checking kategori:",g.nama,"===",p,"?",g.nama===p),g.nama===p)for(const b of g.subkategoris||[])for(const M of b.referensis||[]){const P=M.nama?.trim().replace(/\s+/g," ").toLowerCase()||"",C=d.trim().replace(/\s+/g," ").toLowerCase();if(console.log("Comparing:",P,"===",C,"?",P===C),P===C||P.includes(C)){const j=n[`ref_${M.id}`]??!1;return console.log("Found match! ref id:",M.id,"value:",j),j}}}return console.log("No match found, using default:",n[o]||!1),n[o]||!1};return e.jsxs(e.Fragment,{children:[e.jsx("table",{style:Un,cellSpacing:"0",children:e.jsxs("tbody",{children:[e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:On,colSpan:5,children:e.jsx("p",{style:Hn,children:"1. Pendekatan Asesmen"})})}),e.jsxs(fe,{height:"30pt",children:[e.jsx(ae,{style:ne.rowHeader,rowSpan:21,children:e.jsx("p",{style:Ze,children:"1.1."})}),e.jsx(ae,{style:ne.labelTop,rowSpan:5,children:e.jsx("p",{style:Ze,children:"Asesi"})}),e.jsx(ae,{style:ne.contentTop,colSpan:3,children:e.jsx(ue,{text:"Hasil pelatihan dan/atau pendidikan, dimana kurikulum dan fasilitas praktek mampu telusur terhadap standar kompetensi.",checked:c("Asesi","Hasil pelatihan dan/atau pendidikan, dimana kurikulum dan fasilitas praktek mampu telusur terhadap standar kompetensi.","hasil_pelatihan"),onToggle:s?()=>r("hasil_pelatihan"):void 0})})]}),e.jsx(fe,{height:"30pt",children:e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Hasil pelatihan dan/atau pendidikan, dimana kurikulum belum berbasis kompetensi.",checked:c("Asesi","Hasil pelatihan dan/atau pendidikan, dimana kurikulum belum berbasis kompetensi.","hasil_pelatihan_tidak_kompetensi"),onToggle:s?()=>r("hasil_pelatihan_tidak_kompetensi"):void 0})})}),e.jsx(fe,{height:"45pt",children:e.jsxs(ae,{style:ne.contentMiddle,colSpan:3,children:[e.jsx("p",{style:{padding:"0 0 0 43pt",margin:0,lineHeight:"12pt",textAlign:"left"}}),e.jsx(ue,{text:"Pekerja berpengalaman, dimana berasal dari industry/tempat kerja yang dalam operasionalnya mampu telusur dengan standar kompetensi.",checked:c("Asesi","Pekerja berpengalaman, dimana berasal dari industry/tempat kerja yang dalam operasionalnya mampu telusur dengan standar kompetensi.","pekerja_berpengalaman_telusur"),onToggle:s?()=>r("pekerja_berpengalaman_telusur"):void 0})]})}),e.jsx(fe,{height:"45pt",children:e.jsxs(ae,{style:ne.contentMiddle,colSpan:3,children:[e.jsx("p",{style:{padding:"0 0 0 43pt",margin:0,lineHeight:"12pt",textAlign:"left"}}),e.jsx(ue,{text:"Pekerja berpengalaman, dimana berasal dari industry/tempat kerja yang dalam operasionalnya belum berbasis standar kompetensi.",checked:c("Asesi","Pekerja berpengalaman, dimana berasal dari industry/tempat kerja yang dalam operasionalnya belum berbasis standar kompetensi","pekerja_berpengalaman_tidak_telusur"),onToggle:s?()=>r("pekerja_berpengalaman_tidak_telusur"):void 0})]})}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Pelatihan/belajar mandiri atau otodidak.",checked:c("Asesi","Pelatihan/belajar mandiri atau otodidak.","otodidak"),onToggle:s?()=>r("otodidak"):void 0})})}),e.jsxs(fe,{height:"23pt",children:[e.jsx(ae,{style:ne.labelMiddle,rowSpan:4,children:e.jsx("p",{style:{...Ze,padding:"6px 27pt 6px 6px",lineHeight:"108%"},children:"Tujuan Asesmen"})}),e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Sertifikasi",checked:c("Tujuan Asesmen","Sertifikasi","sertifikasi"),onToggle:s?()=>r("sertifikasi"):void 0})})]}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Pengakuan Kompetensi Terkini (PKT)",checked:c("Tujuan Asesmen","Pengakuan Kompetensi Terkini (PKT)","pkt"),onToggle:s?()=>r("pkt"):void 0})})}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Rekognisi pembelajaran lampau (RPL)",checked:c("Tujuan Asesmen","Rekognisi pembelajaran lampau (RPL)","rpl"),onToggle:s?()=>r("rpl"):void 0})})}),e.jsx(fe,{height:"24pt",children:e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Lainnya",checked:c("Tujuan Asesmen","Lainnya","tujuan_lainnya"),onToggle:s?()=>r("tujuan_lainnya"):void 0})})}),e.jsxs(fe,{height:"30pt",children:[e.jsx(ae,{style:ne.labelMiddle,rowSpan:8,children:e.jsx("p",{style:{...Ze,lineHeight:"108%"},children:"Konteks Asesmen:"})}),e.jsx(ae,{style:ne.subLabel,children:e.jsx("p",{style:{padding:"7px 0 0 6pt",margin:0,textAlign:"left"},children:"Lingkungan"})}),e.jsx(ae,{style:ne.subContent1,children:e.jsx(ue,{text:"Tempat kerja nyata",checked:c("Konteks Asesmen","Tempat kerja nyata","tempat_kerja_nyata"),onToggle:s?()=>r("tempat_kerja_nyata"):void 0})}),e.jsx(ae,{style:ne.subContent2,children:e.jsx(ue,{text:"Tempat kerja simulasi",checked:c("Konteks Asesmen","Tempat kerja simulasi","tempat_kerja_simulasi"),onToggle:s?()=>r("tempat_kerja_simulasi"):void 0})})]}),e.jsxs(fe,{height:"55pt",children:[e.jsxs(ae,{style:ne.subLabel,children:[e.jsx("p",{style:{padding:"0 0 0 6pt",margin:0,lineHeight:"108%",fontSize:"11px",textAlign:"left"},children:"Peluang untuk mengumpulkan bukti dalam"}),e.jsx("p",{style:{padding:"0 0 0 6pt",margin:0,lineHeight:"12px",fontSize:"11px",textAlign:"left"},children:"sejumlah situasi"})]}),e.jsxs(ae,{style:ne.subContent1,children:[e.jsx("p",{style:{padding:"2pt 0 0 0",margin:0},children:e.jsx("br",{})}),e.jsx(ue,{text:"Tersedia",checked:c("Konteks Asesmen","Tersedia","tersedia"),onToggle:s?()=>r("tersedia"):void 0})]}),e.jsxs(ae,{style:ne.subContent2,children:[e.jsx("p",{style:{padding:"2pt 0 0 0",margin:0},children:e.jsx("br",{})}),e.jsx(ue,{text:"Terbatas",checked:c("Konteks Asesmen","Terbatas","terbatas"),onToggle:s?()=>r("terbatas"):void 0})]})]}),e.jsxs(fe,{height:"23pt",children:[e.jsx(ae,{style:ne.subLabel,rowSpan:3,children:e.jsx("p",{style:{padding:"0 3pt 0 6pt",margin:0,lineHeight:"108%",textAlign:"left"},children:"Hubungan antara standar kompetensi dan"})}),e.jsx(ae,{style:ne.contentTop2col,colSpan:2,children:e.jsx(ue,{text:"Bukti untuk mendukung asesmen / RPL",checked:c("Konteks Asesmen","Bukti untuk mendukung asesmen / RPL","bukti_asesmen_rpl"),onToggle:s?()=>r("bukti_asesmen_rpl"):void 0})})]}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentMiddle2col,colSpan:2,children:e.jsx(ue,{text:"Aktivitas kerja di tempat kerja kandidat",checked:c("Konteks Asesmen","Aktivitas kerja di tempat kerja kandidat","aktivitas_kerja"),onToggle:s?()=>r("aktivitas_kerja"):void 0})})}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentMiddle2col,colSpan:2,children:e.jsx(ue,{text:"Kegiatan Pembelajaran",checked:c("Konteks Asesmen","Kegiatan Pembelajaran","kegiatan_pembelajaran"),onToggle:s?()=>r("kegiatan_pembelajaran"):void 0})})}),e.jsxs(fe,{height:"23pt",children:[e.jsx(ae,{style:ne.subLabel,rowSpan:3,children:e.jsx("p",{style:{padding:"0 24pt 0 6pt",margin:0,lineHeight:"108%",textAlign:"left"},children:"Siapa yang melakukan asesmen / RPL"})}),e.jsx(ae,{style:ne.contentMiddle2col,colSpan:2,children:e.jsx(ue,{text:"LSP Gatensi Karya Konstruksi",checked:c("Konteks Asesmen","LSP Gatensi Karya Konstruksi","lsp_gatensi"),onToggle:s?()=>r("lsp_gatensi"):void 0})})]}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentMiddle2col,colSpan:2,children:e.jsx(ue,{text:"Organisasi Pelatihan",checked:c("Konteks Asesmen","Organisasi Pelatihan","organisasi_pelatihan"),onToggle:s?()=>r("organisasi_pelatihan"):void 0})})}),e.jsx(fe,{height:"24pt",children:e.jsx(ae,{style:ne.contentMiddle2col,colSpan:2,children:e.jsx(ue,{text:"asesor perusahaan",checked:c("Konteks Asesmen","asesor perusahaan","asesor_perusahaan"),onToggle:s?()=>r("asesor_perusahaan"):void 0})})}),e.jsxs(fe,{height:"23pt",children:[e.jsx(ae,{style:ne.labelBottom,rowSpan:4,children:e.jsx("p",{style:{...Ze,lineHeight:"108%"},children:"Orang yang relevan untuk dikonfirmasi"})}),e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Manajer sertifikasi LSP Gatensi Karya Konstruksi",checked:c("Orang yang relevan untuk dikonfirmasi","Manajer sertifikasi LSP Gatensi Karya Konstruksi","manajer_sertifikasi_lsp"),onToggle:s?()=>r("manajer_sertifikasi_lsp"):void 0})})]}),e.jsx(fe,{height:"24pt",children:e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Master Assessor / Master Trainer / Asesor Utama kompetensi",checked:c("Orang yang relevan untuk dikonfirmasi","Master Assessor / Master Trainer / Asesor Utama kompetensi","master_assessor_lsp"),onToggle:s?()=>r("master_assessor_lsp"):void 0})})}),e.jsx(fe,{height:"30pt",children:e.jsx(ae,{style:ne.contentMiddle,colSpan:3,children:e.jsx(ue,{text:"Manajer pelatihan Lembaga Training terakreditasi / Lembaga Training terdaftar",checked:c("Orang yang relevan untuk dikonfirmasi","Manajer pelatihan Lembaga Training terakreditasi / Lembaga Training terdaftar","manajer_pelatihan_lsp"),onToggle:s?()=>r("manajer_pelatihan_lsp"):void 0})})}),e.jsx(fe,{height:"24pt",children:e.jsx(ae,{style:ne.contentBottom,colSpan:3,children:e.jsx(ue,{text:"Lainnya",checked:c("Orang yang relevan untuk dikonfirmasi","Lainnya","orang_lainnya"),onToggle:s?()=>r("orang_lainnya"):void 0})})}),e.jsxs(fe,{height:"23pt",children:[e.jsx(ae,{style:ne.rowHeader,rowSpan:5,children:e.jsx("p",{style:Ze,children:"1.2"})}),e.jsx(ae,{style:ne.labelTop,rowSpan:5,children:e.jsx("p",{style:{...Ze,lineHeight:"108%"},children:"Tolok ukur asesmen"})}),e.jsx(ae,{style:ne.contentBottom,colSpan:3,children:e.jsx(ue,{text:"Standar Kompetensi",checked:c("Tolok ukur asesmen","Standar Kompetensi","skkni"),onToggle:s?()=>r("skkni"):void 0})})]}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentBottom,colSpan:3,children:e.jsx(ue,{text:"Kriteria asesmen dari kurikulum pelatihan",checked:c("Tolok ukur asesmen","Kriteria asesmen dari kurikulum pelatihan","kriteria_kurikulum"),onToggle:s?()=>r("kriteria_kurikulum"):void 0})})}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentBottom,colSpan:3,children:e.jsx(ue,{text:"Spesifikasi kinerja suatu perusahaan atau industri",checked:c("Tolok ukur asesmen","Spesifikasi kinerja suatu perusahaan atau industri","spesifikasi_kinerja"),onToggle:s?()=>r("spesifikasi_kinerja"):void 0})})}),e.jsx(fe,{height:"23pt",children:e.jsx(ae,{style:ne.contentBottom,colSpan:3,children:e.jsx(ue,{text:"Spesifikasi Produk",checked:c("Tolok ukur asesmen","Spesifikasi Produk","spesifikasi_produk"),onToggle:s?()=>r("spesifikasi_produk"):void 0})})}),e.jsx(fe,{height:"24pt",children:e.jsx(ae,{style:ne.contentBottom,colSpan:3,children:e.jsx(ue,{text:"Pedoman khusus",checked:c("Tolok ukur asesmen","Pedoman khusus","pedoman_khusus"),onToggle:s?()=>r("pedoman_khusus"):void 0})})})]})}),e.jsx("p",{style:{margin:0},children:e.jsx("br",{})})]})}const Js={BLACK:"#000",WHITE:"#FFF",RED:"#C00000"},Te={thin:"1px solid #000"};function ks(t,s,a,n){return{borderTop:t,borderLeft:s,borderBottom:a,borderRight:n}}function Gn({kelompokKerja:t}){const s={...ks(Te.thin,Te.thin,Te.thin,Te.thin),backgroundColor:Js.RED},a={color:Js.WHITE,fontWeight:"bold",fontSize:"12px",padding:"6px 8px",margin:0,textAlign:"left"};return e.jsxs(e.Fragment,{children:[e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},cellSpacing:"0",children:e.jsx("tbody",{children:e.jsx("tr",{style:{height:"23pt"},children:e.jsx("td",{style:s,colSpan:4,children:e.jsx("p",{style:a,children:"2. Mempersiapkan Rencana Asesmen"})})})})}),t.map(n=>e.jsx(Yn,{kelompok:n},n.id))]})}function Yn({kelompok:t}){return e.jsxs(e.Fragment,{children:[e.jsx(qn,{kelompok:t}),e.jsx(Vn,{units:t.units})]})}function qn({kelompok:t}){const s=ks(Te.thin,Te.thin,Te.thin,Te.thin),a=ks(Te.thin,Te.thin,Te.thin,Te.thin);return e.jsxs(e.Fragment,{children:[e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},cellSpacing:"0",children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{height:"37pt"},children:[e.jsxs("td",{style:{...s,background:"#fff"},rowSpan:t.units.length+1,children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsxs("p",{style:{fontWeight:"bold",fontSize:"12px",padding:"6px 8px",margin:0,textAlign:"left"},children:["Kelompok Pekerjaan ",t.urut]})]}),e.jsxs("td",{style:{...s,background:"#fff"},children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"12px",padding:"6px 8px",margin:0,textAlign:"center"},children:"No."})]}),e.jsx("td",{style:{...s,background:"#fff"},children:e.jsx("p",{style:{fontWeight:"bold",fontSize:"12px",padding:"6px 8px",margin:0,textAlign:"center"},children:"Kode Unit"})}),e.jsx("td",{style:{...s,background:"#fff"},children:e.jsx("p",{style:{fontWeight:"bold",fontSize:"12px",padding:"6px 8px",margin:0,textAlign:"center"},children:"Judul Unit"})})]}),t.units.map((n,i)=>e.jsxs("tr",{style:{height:i===0?"78pt":"25pt"},children:[e.jsx("td",{style:{...a,padding:"6px 8px",textAlign:"center",verticalAlign:"middle",background:"#fff"},children:e.jsxs("p",{style:{margin:0,fontSize:"12px"},children:[i+1,"."]})}),e.jsx("td",{style:{...a,padding:"6px 8px",textAlign:"center",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0,fontSize:"12px"},children:n.kode_unit})}),e.jsx("td",{style:{...a,padding:"6px 8px",lineHeight:"150%",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0,lineHeight:"150%",textAlign:"justify"},children:n.nama_unit})})]},n.id_unit))]})}),e.jsx("p",{style:{padding:"10px 0 0 0",margin:0},children:e.jsx("br",{})})]})}function Vn({units:t}){const s=ks(Te.thin,Te.thin,Te.thin,Te.thin);return e.jsxs(e.Fragment,{children:[e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},cellSpacing:"0",children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{height:"13pt"},children:[e.jsx("td",{style:{...s,background:"#fff"}}),e.jsx("td",{style:{...s,background:"#fff"}}),e.jsx("td",{style:{...s,background:"#fff"},colSpan:3}),e.jsx("td",{style:{...s,background:"#fff"},colSpan:6,children:e.jsx("p",{style:{fontWeight:"bold",fontSize:"11px",color:Js.BLACK,padding:"6px 8px",margin:0,textAlign:"center"},children:"Metode dan Perangkat Asesmen"})})]}),e.jsxs("tr",{style:{height:"77pt"},children:[e.jsxs("td",{style:{...s,background:"#fff"},rowSpan:2,children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"11px",padding:"6px 8px",margin:0,textAlign:"center"},children:"Unit Kompetensi"})]}),e.jsx("td",{style:{...s,background:"#fff"},rowSpan:2,children:e.jsxs("p",{style:{fontWeight:"bold",fontSize:"11px",padding:"6px 8px",margin:0,textAlign:"center"},children:["Bukti-Bukti ",e.jsx("span",{style:{fontSize:"10px"},children:"(Kinerja, Produk, Portofolio, dan / atau Pengetahuan) diidentifikasi berdasarkan Kriteria Unjuk Kerja dan Pendekatan Asesmen."})]})}),e.jsx("td",{style:{...s,padding:"6px 8px",background:"#fff"},colSpan:3,children:e.jsx("p",{style:{fontWeight:"bold",fontSize:"11px",margin:0,textAlign:"center"},children:"Jenis Bukti"})}),e.jsxs("td",{style:{...s,padding:"6px 8px",textAlign:"center",background:"#fff"},colSpan:6,children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"11px",margin:0},children:"CL (Ceklis Observasi), DIT (Daftar Instruksi Terstruktur), DPL (Daftar Pertanyaan Lisan), DPT (Daftar Pertanyaan Tertulis), VPK (Verifikasi Pihak Ketiga), CVP (Ceklis Verifikasi Portofolio), CRP (Ceklis Reviu Produk), PW (Pertanyaan"}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"11px",padding:"6px 8px",margin:0,lineHeight:"12px"},children:"Wawancara)"})]})]}),e.jsxs("tr",{style:{height:"139pt"},children:[e.jsx("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0},children:"L"})}),e.jsx("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0},children:"T L"})}),e.jsx("td",{style:{...s,padding:"6px 8px",textAlign:"center",background:"#fff"},children:e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0},children:"T"})}),e.jsxs("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0,textAlign:"center"},children:"Obsevasi langsung"}),e.jsx("p",{style:{fontSize:"10px",padding:"6px 8px",margin:0,textAlign:"center"},children:"(kerja nyata/aktivitas waktu nyata di tempat kerja di lingkungan tempat kerja yang disimulasikan)"})]}),e.jsxs("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:[e.jsx("p",{style:{margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0,textAlign:"center"},children:"Kegiatan Terstruktur"}),e.jsx("p",{style:{fontSize:"10px",padding:"6px 8px",margin:0,textAlign:"center"},children:"(latihan simulasi dan bermain peran, proyek, presentasi, lembar kegiatan)"})]}),e.jsxs("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0,textAlign:"center"},children:"Tanya Jawab"}),e.jsx("p",{style:{fontSize:"10px",padding:"6px 8px",margin:0,textAlign:"center"},children:"(pertanyaan tertulis, wawancara, asesmen diri, tanya jawab lisan, angket, ujian lisan atau tertulis)"})]}),e.jsxs("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0,textAlign:"center"},children:"Verifikasi Portfolio"}),e.jsx("p",{style:{fontSize:"10px",padding:"6px 8px",margin:0,textAlign:"center"},children:"(sampel pekerjaan yang disusun oleh Asesi, produk dengan dokumentasi pendukung, bukti sejarah, jurnal atau buku catatan, informasi tentang pengalaman hidup)"})]}),e.jsxs("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",margin:0,textAlign:"center"},children:"Reviu Produk"}),e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontSize:"10px",margin:0,textAlign:"center"},children:"Produk hasil proyek, contoh hasil kerja/produk"})]}),e.jsxs("td",{style:{...s,padding:"6px 8px",background:"#fff"},children:[e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"10px",padding:"6px 8px",margin:0,textAlign:"center"},children:"Verifikasi Pihak Ketiga"}),e.jsx("p",{style:{padding:"6px 8px",margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontSize:"10px",margin:0,textAlign:"center"},children:"(testimoni dan laporan dari atasan, bukti pelatihan, otentikasi pencapaian sebelumnya, wawancara dengan atasan, atau rekan kerja)"})]})]}),t.map((a,n)=>e.jsx(Qn,{unit:a,idx:n},a.id_unit))]})}),e.jsx("p",{style:{padding:"10px 0 0 0",margin:0},children:e.jsx("br",{})})]})}function Qn({unit:t,idx:s}){const a=ks(Te.thin,Te.thin,Te.thin,Te.thin);return e.jsxs("tr",{style:{height:"auto"},children:[e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsxs("p",{style:{margin:0,fontSize:"12px",lineHeight:"13pt"},children:[s+1,". ",t.nama_unit]})}),e.jsxs("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:[e.jsx("p",{style:{margin:0,fontSize:"12px",lineHeight:"12pt"},children:"Hasil tanya jawab tentang:"}),e.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",lineHeight:"12pt"},children:t.nama_unit})]}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsxs("p",{style:{margin:0},children:[e.jsx("br",{}),"L"]})}),e.jsxs("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:[e.jsx("p",{style:{margin:0},children:e.jsx("br",{})}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"11px",margin:0}})]}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0,fontWeight:"bold",fontSize:"11px",textAlign:"center"},children:"T"})}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0},children:e.jsx("br",{})})}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0},children:e.jsx("br",{})})}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0,fontWeight:"bold",fontSize:"11px",textAlign:"center"},children:"DPT"})}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0},children:e.jsx("br",{})})}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0},children:e.jsx("br",{})})}),e.jsx("td",{style:{...a,padding:"6px 8px",verticalAlign:"middle",background:"#fff"},children:e.jsx("p",{style:{margin:0},children:e.jsx("br",{})})})]})}const it={WHITE:"#FFF",RED:"#C00000"},Je={thin:"1px solid #000"};function rt(t,s,a,n){return{borderTop:t,borderLeft:s,borderBottom:a,borderRight:n}}const Ms={header:rt(Je.thin,Je.thin,Je.thin,Je.thin),content:rt(Je.thin,Je.thin,Je.thin,Je.thin)};function Xn({referensiForm:t,isAsesor:s=!1}){const a={...Ms.header,backgroundColor:it.RED},n={color:it.WHITE,fontWeight:"bold",fontSize:"12px",padding:"6px 8px",margin:0,textAlign:"left"},i={padding:"6px 8px",margin:0,textAlign:"left"},r=l.useMemo(()=>{const g=[],b={"Karakteristik kandidat: ":{prefix:"3.1. a.",label:"Karakteristik kandidat:"},"Kebutuhan kontekstualisasi terkait tempat kerja:":{prefix:"3.1. b.",label:"Kebutuhan kontekstualisasi terkait tempat kerja:"},"Saran yang diberikan oleh paket pelatihan atau pengembang pelatihan":{prefix:"3.2.",label:"Saran yang diberikan oleh paket pelatihan atau pengembang pelatihan"},"Penyesuaian perangkat asesmen terkait kebutuhan kontekstualisasi":{prefix:"3.3.",label:"Penyesuaian perangkat asesmen terkait kebutuhan kontekstualisasi"},"Peluang untuk kegiatan asesmen terintegrasi dan mencatat setiap perubahan yang diperlukan untuk alat asesmen":{prefix:"3.4.",label:"Peluang untuk kegiatan asesmen terintegrasi dan mencatat setiap perubahan yang diperlukan untuk alat asesmen"}};if(t){const M=t.find(P=>P.kelompok.id===3);M&&M.kelompok.kategoris?.forEach(P=>{P.subkategoris?.forEach(C=>{C.referensis?.forEach(j=>{const f=b[j.nama];f&&g.push({id:j.id,label:f.label,prefixLabel:f.prefix,value:j.value,alasan:""})})})})}return g},[t]),[c,p]=l.useState(r),d=l.useRef({});l.useEffect(()=>{r.length>0&&p(r)},[r]),l.useEffect(()=>{c.forEach(g=>{if(g.value&&g.alasan){const b=d.current[g.id];b&&(b.style.height="auto",b.style.height=b.scrollHeight+"px")}})},[c]);const o=(g,b)=>{p(M=>M.map(P=>P.id===g?{...P,value:b}:P))},x=(g,b)=>{p(M=>M.map(P=>P.id===g?{...P,alasan:b}:P))},h=g=>{if(!s)return;const b=g.target;b.style.height="auto",b.style.height=b.scrollHeight+"px",x(parseInt(b.name.replace("section3-alasan-","")),b.value)};return e.jsxs(e.Fragment,{children:[e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},cellSpacing:"0",children:e.jsxs("tbody",{children:[e.jsx("tr",{style:{height:"26pt"},children:e.jsx("td",{style:a,colSpan:2,children:e.jsx("p",{style:n,children:"3. Modifikasi dan Kontekstualisasi:"})})}),c.map((g,b)=>e.jsxs("tr",{children:[e.jsx("td",{style:{...Ms.content,background:"#fff",verticalAlign:"top"},children:e.jsxs("p",{style:{...i,paddingLeft:b<2?b===0?"6px":"28px":"23px"},children:[g.prefixLabel," ",g.label]})}),e.jsxs("td",{style:{...Ms.content,background:"#fff",verticalAlign:"top",padding:"12px 16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"12px"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[e.jsx($e,{name:`section3-${g.id}`,value:"ya",checked:g.value===!0,onChange:()=>s&&o(g.id,!0),disabled:!s}),e.jsx("span",{style:{fontSize:"12px"},children:"Ada"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[e.jsx($e,{name:`section3-${g.id}`,value:"tidak",checked:g.value===!1,onChange:()=>s&&o(g.id,!1),disabled:!s}),e.jsx("span",{style:{fontSize:"12px"},children:"Tidak ada"})]})]}),g.value&&e.jsxs("div",{style:{marginTop:"12px"},children:[e.jsx("p",{style:{fontSize:"11px",margin:"0 0 6px 0",fontWeight:"500"},children:"Jika ada, tuliskan:"}),e.jsx("textarea",{ref:M=>{M&&(d.current[g.id]=M)},name:`section3-alasan-${g.id}`,value:g.alasan,onChange:h,placeholder:"Alasan/keterangan...",disabled:!s,style:{width:"100%",padding:"10px 12px",fontSize:"12px",lineHeight:"1.5",border:"1px solid #000",borderRadius:"4px",outline:"none",background:s?"#fff":"#f5f5f5",resize:"none",minHeight:"40px",height:g.alasan?"auto":"40px",overflow:"hidden",fontFamily:"inherit",cursor:s?"text":"not-allowed",opacity:s?1:.6}})]})]})]},g.id))]})}),e.jsx("p",{style:{padding:"0 0 0 14px",margin:0,fontSize:"12px",textAlign:"left"},children:"*Pilih salah satu opsi"}),e.jsx("p",{style:{padding:"5px 0 0 0",margin:0},children:e.jsx("br",{})})]})}const rs={BLACK:"#000",WHITE:"#FFF",RED:"#C00000"},Ge={thin:"1px solid #000"};function lt(t,s,a,n){return{borderTop:t,borderLeft:s,borderBottom:a,borderRight:n}}const dt={header:lt(Ge.thin,Ge.thin,Ge.thin,Ge.thin),content:lt(Ge.thin,Ge.thin,Ge.thin,Ge.thin)};function Zn(){const[t,s]=l.useState({manajerSertifikasi:!1,masterAssessor:!1,manajerPelatihan:!1,lainnya:!1}),a=c=>{s(p=>({...p,[c]:!p[c]}))},n={...dt.header,backgroundColor:rs.RED},i={color:rs.WHITE,fontWeight:"bold",fontSize:"12px",padding:"6px 8px"},r={...dt.content,background:"#fff"};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{style:{paddingLeft:"13px",margin:0,fontSize:"12px",fontWeight:"bold",color:"black",fontFamily:"Arial, sans-serif"},children:"Konfirmasi dengan orang yang relevan:"}),e.jsx("p",{style:{margin:0},children:e.jsx("br",{})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},cellSpacing:"0",children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{height:"23pt"},children:[e.jsx("td",{style:n,children:e.jsx("span",{style:{...i,textAlign:"left"},children:"Orang yang relevan"})}),e.jsx("td",{style:n,children:e.jsx("span",{style:{...i,textAlign:"center"},children:"Nama"})}),e.jsx("td",{style:n,children:e.jsx("span",{style:{...i,textAlign:"left"},children:"Tandatangan"})})]}),e.jsxs("tr",{style:{height:"54pt"},children:[e.jsx("td",{style:{...r,padding:"11px 20px"},children:e.jsxs("div",{onClick:()=>a("manajerSertifikasi"),style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",userSelect:"none"},children:[e.jsx(q,{checked:t.manajerSertifikasi,onChange:()=>{},style:{pointerEvents:"none"}}),e.jsx("span",{style:{fontSize:"12px",color:rs.BLACK},children:"Manajer sertifikasi"})]})}),e.jsx("td",{style:{...r,padding:"12px 8px"}}),e.jsx("td",{style:{...r,padding:"12px 8px"}})]}),e.jsxs("tr",{style:{height:"53pt"},children:[e.jsx("td",{style:{...r,padding:"6px 20px",lineHeight:"12px"},children:e.jsxs("div",{onClick:()=>a("masterAssessor"),style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",userSelect:"none"},children:[e.jsx(q,{checked:t.masterAssessor,onChange:()=>{},style:{pointerEvents:"none"}}),e.jsx("span",{style:{fontSize:"12px",color:rs.BLACK},children:"Master Assessor / Master Trainer / Asesor Utama kompetensi"})]})}),e.jsx("td",{style:{...r,padding:"12px 8px"}}),e.jsx("td",{style:{...r,padding:"12px 8px"}})]}),e.jsxs("tr",{style:{height:"53pt"},children:[e.jsx("td",{style:{...r,padding:"6px 20px",lineHeight:"12px"},children:e.jsxs("div",{onClick:()=>a("manajerPelatihan"),style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",userSelect:"none"},children:[e.jsx(q,{checked:t.manajerPelatihan,onChange:()=>{},style:{pointerEvents:"none"}}),e.jsx("span",{style:{fontSize:"12px",color:rs.BLACK},children:"Manajer pelatihan Lembaga Training terakreditasi / Lembaga Training terdaftar"})]})}),e.jsx("td",{style:{...r,padding:"12px 8px"}}),e.jsx("td",{style:{...r,padding:"12px 8px"}})]}),e.jsxs("tr",{style:{height:"46pt"},children:[e.jsx("td",{style:{...r,padding:"7px 20px"},children:e.jsxs("div",{onClick:()=>a("lainnya"),style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",userSelect:"none"},children:[e.jsx(q,{checked:t.lainnya,onChange:()=>{},style:{pointerEvents:"none"}}),e.jsx("span",{style:{fontSize:"12px",color:rs.BLACK},children:"Lainnya:"})]})}),e.jsx("td",{style:{...r,padding:"12px 8px"}}),e.jsx("td",{style:{...r,padding:"12px 8px"}})]})]})}),e.jsx("p",{style:{paddingTop:"3px",margin:0},children:e.jsx("br",{})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},cellSpacing:"0",children:e.jsxs("tbody",{children:[e.jsxs("tr",{style:{height:"28pt"},children:[e.jsx("td",{style:n,children:e.jsx("span",{style:i,children:"Status"})}),e.jsx("td",{style:n,children:e.jsx("span",{style:{...i,textAlign:"center"},children:"No"})}),e.jsx("td",{style:n,children:e.jsx("span",{style:{...i,textAlign:"center"},children:"Nama"})}),e.jsx("td",{style:n,children:e.jsx("span",{style:{...i,textAlign:"left"},children:"Nomor MET"})}),e.jsx("td",{style:n,children:e.jsx("span",{style:i,children:"Tanda Tangan dan Tanggal"})})]}),e.jsxs("tr",{style:{height:"91pt"},children:[e.jsxs("td",{style:{...r},rowSpan:2,children:[e.jsx("div",{style:{padding:"15px 0 0 0"}}),e.jsx("span",{style:{fontSize:"12px",color:"black",paddingLeft:"15px"},children:"Penyusun"})]}),e.jsx("td",{style:{...r,padding:"6px 8px"},children:e.jsx("span",{style:{fontSize:"12px",color:"black",textAlign:"center"},children:"1"})}),e.jsx("td",{style:{...r,padding:"7px 8px"}}),e.jsx("td",{style:{...r,padding:"13px 8px"}}),e.jsx("td",{style:{...r,padding:"16px 8px"}})]}),e.jsxs("tr",{style:{height:"23pt"},children:[e.jsx("td",{style:{...r,padding:"1px 8px"}}),e.jsx("td",{style:{...r,padding:"1px 8px"}}),e.jsx("td",{style:{...r,padding:"1px 8px"}}),e.jsx("td",{style:{...r,padding:"1px 8px"}})]}),e.jsxs("tr",{style:{height:"68pt"},children:[e.jsxs("td",{style:{...r},rowSpan:2,children:[e.jsx("div",{style:{padding:"18px 0 0 0"}}),e.jsx("span",{style:{fontSize:"12px",color:"black",paddingLeft:"18px"},children:"Validator"})]}),e.jsx("td",{style:{...r,padding:"6px 8px"},children:e.jsx("span",{style:{fontSize:"12px",color:"black",textAlign:"center"},children:"1"})}),e.jsx("td",{style:{...r,padding:"7px 8px"}}),e.jsx("td",{style:{...r,padding:"13px 8px"}}),e.jsx("td",{style:{...r,padding:"16px 8px"}})]}),e.jsxs("tr",{style:{height:"23pt"},children:[e.jsx("td",{style:{...r,padding:"1px 8px"}}),e.jsx("td",{style:{...r,padding:"1px 8px"}}),e.jsx("td",{style:{...r,padding:"1px 8px"}}),e.jsx("td",{style:{...r,padding:"1px 8px"}})]})]})}),e.jsx("br",{})]})}function ei(){const t=xe(),{user:s}=re(),{idIzin:a}=we(),{kegiatan:n}=as(),i=s?.role?.name?.toLowerCase()==="asesor",r=i?a:s?.id_izin,{jabatanKerja:c,nomorSkema:p}=Me(r||""),{showSuccess:d,showWarning:o}=De(),[x,h]=l.useState(null),[g,b]=l.useState(r),[M,P]=l.useState(!0),[C,j]=l.useState(!1),[f,N]=l.useState(!1),B=l.useRef(null);l.useEffect(()=>{window.scrollTo(0,0);const Q=async()=>{try{const A=localStorage.getItem("access_token");let G=r;if(!G&&!i&&n?.jadwal_id){const Y=await fetch(`https://backend.devgatensi.site/api/kegiatan/${n.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${A}`}});if(Y.ok){const H=await Y.json();H.message==="Success"&&H.list_asesi&&H.list_asesi.length>0&&(G=H.list_asesi[0].id_izin,b(G))}}if(!G){P(!1);return}b(G);const J=await fetch(`https://backend.devgatensi.site/api/praasesmen/${G}/mapa01`,{headers:{Accept:"application/json",Authorization:`Bearer ${A}`}});if(J.ok){const Y=await J.json();Y.message==="Success"&&h(Y.data)}else console.warn(`MAPA01 API returned ${J.status} - Section 2 will be hidden`)}catch(A){console.error("Error fetching MAPA 01:",A)}finally{P(!1)}};(i&&r||n)&&Q()},[n,r,i]);const Z=()=>{t(-1)},R=async()=>{if(!f){o("Silakan centang pernyataan bahwa Anda telah memahami dokumen ini.");return}j(!0),setTimeout(()=>{j(!1),d("MAPA 01 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${g}/mapa02`)},500)},500)};return M?e.jsx(Ce,{text:"Memuat data MAPA 01..."}):e.jsxs("div",{style:{minHeight:"100vh"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR MAPA 01"})]})})}),e.jsx(Fe,{currentStep:4,children:e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"20px"},children:e.jsxs("div",{className:"mapa01-container",children:[e.jsxs("div",{id:"mapa01-content",ref:B,children:[e.jsx(Fn,{judul:c?.toUpperCase()||x?.kelompok_kerja.nama_dokumen,nomor:p?.toUpperCase()||x?.kelompok_kerja.kode}),e.jsx(Jn,{referensiForm:x?.referensi_form,isAsesor:i}),x&&e.jsx(Gn,{kelompokKerja:x.kelompok_kerja.kelompok_kerja}),e.jsx(Xn,{referensiForm:x?.referensi_form,isAsesor:i}),e.jsx(Zn,{})]}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",marginBottom:"20px",padding:"12px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:f,onChange:()=>N(!f),style:{marginTop:"2px",cursor:"pointer"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#000",lineHeight:"1.5"},children:[e.jsx("strong",{style:{textTransform:"uppercase"},children:"Pernyataan:"})," Saya menyatakan bahwa saya telah memahami dan memahami dokumen MAPA 01 (Matriks Pengembangan dan Penilaian Asesmen) ini dengan sebenar-benarnya."]})]})}),e.jsxs("div",{className:"mapa01-actions",children:[e.jsx(le,{variant:"secondary",onClick:Z,disabled:C,children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:C||!f,onClick:R,children:C?"Menyimpan...":"Simpan & Lanjut"})]})]})})})]})}function si(t){const[s,a]=l.useState({jabatanKerja:"",nomorSkema:"",tuk:"Sewaktu / Tempat Kerja / Mandiri",namaAsesor:"",asesor1:"",asesor2:"",noregAsesor1:"",noregAsesor2:"",tanggalUji:"",tanggalSelesai:null,jenisKelas:""}),[n,i]=l.useState(!0),[r,c]=l.useState(null);return l.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{const d=localStorage.getItem("access_token"),o=await fetch(`https://backend.devgatensi.site/api/praasesmen/${t}/data-dokumen`,{headers:{Accept:"application/json",Authorization:`Bearer ${d}`}});if(o.ok){const x=await o.json();if(x.message==="Success"&&x.data){const h=x.data.asesor_1?x.data.asesor_2?`${x.data.asesor_1}, ${x.data.asesor_2}`:x.data.asesor_1:"";a({jabatanKerja:x.data.jabatan_kerja||"",nomorSkema:x.data.nomor_skema||"",tuk:x.data.tuk||"Sewaktu / Tempat Kerja / Mandiri",namaAsesor:h,asesor1:x.data.asesor_1||"",asesor2:x.data.asesor_2||"",noregAsesor1:x.data.noreg_asesor_1||"",noregAsesor2:x.data.noreg_asesor_2||"",tanggalUji:x.data.tanggal_uji||"",tanggalSelesai:x.data.tanggal_selesai,jenisKelas:x.data.jenis_kelas||""})}}else console.warn(`Data Dokumen API returned ${o.status}`)}catch(d){console.error("Error fetching data dokumen:",d),c(d instanceof Error?d.message:"Unknown error")}finally{i(!1)}})()},[t]),{...s,isLoading:n,error:r}}function ti(){const t=xe(),{user:s}=re(),{kegiatan:a}=as(),{idIzin:n}=we(),i=s?.role?.name?.toLowerCase()==="asesor",r=i?n:s?.id_izin,{jabatanKerja:c,nomorSkema:p}=si(r),{showSuccess:d,showWarning:o}=De(),[x,h]=l.useState(null),[g,b]=l.useState(!0),[M,P]=l.useState(!1),[C,j]=l.useState(!1),[f,N]=l.useState({});l.useEffect(()=>{window.scrollTo(0,0);const J=async()=>{try{const Y=localStorage.getItem("access_token");let H=r;if(!H&&!i&&a?.jadwal_id){const T=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${Y}`}});if(T.ok){const S=await T.json();S.message==="Success"&&S.list_asesi&&S.list_asesi.length>0&&(H=S.list_asesi[0].id_izin)}}if(!H){b(!1);return}const I=await fetch(`https://backend.devgatensi.site/api/praasesmen/${H}/mapa02`,{headers:{Accept:"application/json",Authorization:`Bearer ${Y}`}});if(I.ok){const T=await I.json();if(T.message==="Success"){h(T.data);const S={};T.data.referensi_form.forEach(W=>{W.kategori==="MAPA02_1"&&W.referensis.forEach(F=>{F.isdefault===1&&(S[F.id]=1)})}),N(S)}}else console.warn(`MAPA02 API returned ${I.status}`)}catch{}finally{b(!1)}};(i&&r||a)&&J()},[r,a,i]);const B=()=>{t(-1)},Z=(J,Y,H,I)=>{N(T=>{if(T[Y]===I){const{[Y]:S,...W}=T;return W}return{...T,[Y]:I}})},R=(J,Y,H,I)=>f[Y]===I,Q=async()=>{if(!C){o("Silakan centang pernyataan bahwa Anda telah memahami dokumen ini.");return}P(!0);try{let J=r;if(!J&&!i&&a?.jadwal_id){const Y=localStorage.getItem("access_token"),H=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${Y}`}});if(H.ok){const I=await H.json();I.message==="Success"&&I.list_asesi&&I.list_asesi.length>0&&(J=I.list_asesi[0].id_izin)}}d("MAPA 02 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${J}/fr-ak-07`)},500)}catch{}finally{P(!1)}};if(g)return e.jsx(Ce,{text:"Memuat data MAPA 02..."});const A=x?.referensi_form.find(J=>J.kategori==="MAPA02_1"),G=x?.referensi_form.find(J=>J.kategori==="MAPA02-1");return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR MAPA 02"})]})})}),e.jsx(Fe,{currentStep:5,children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{marginBottom:"16px",textAlign:"left"},children:e.jsx("h1",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"4px",textTransform:"uppercase"},children:x?.kelompok_kerja.nama_dokumen||"FR. MAPA.02 - FORMULIR MAPA 02"})}),x&&e.jsx("table",{style:{borderCollapse:"collapse",width:"100%",marginBottom:"16px",fontSize:"13px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px 8px",width:"35%",fontWeight:"bold"},children:["Skema Sertifikasi",e.jsx("br",{}),"(/Okupasi/)"]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",whiteSpace:"nowrap",fontWeight:"bold"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:c.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",whiteSpace:"nowrap",fontWeight:"bold"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:p.toUpperCase()||x?.kelompok_kerja.kode||""})]})]})}),x?.kelompok_kerja.kelompok_kerja.map((J,Y)=>e.jsxs("div",{children:[e.jsx("table",{style:{borderCollapse:"collapse",width:"100%",marginBottom:"0",fontSize:"13px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:J.units.length+1,style:{border:"1px solid #000",padding:"6px 8px",width:"25%",verticalAlign:"top",textAlign:"left"},children:J.nama}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"5%"},children:"No."}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"20%"},children:"Kode Unit"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px"},children:"Judul Unit"})]}),J.units.map((H,I)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:[I+1,"."]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:H.kode_unit}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:H.nama_unit})]},H.id_unit))]})}),e.jsx("br",{}),A&&e.jsx("table",{style:{borderCollapse:"collapse",width:"100%",marginBottom:"16px",fontSize:"12px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"6px 8px",width:"5%",background:"#c00000",color:"#fff"},children:"No."}),e.jsx("th",{rowSpan:2,style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff"},children:"Instrumen Asesmen"}),e.jsx("th",{colSpan:5,style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff",fontWeight:"bold",textAlign:"center"},children:"Potensi Asesi **"})]}),e.jsxs("tr",{children:[e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff",fontWeight:"bold",textAlign:"center",width:"8%"},children:"1"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff",fontWeight:"bold",textAlign:"center",width:"8%"},children:"2"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff",fontWeight:"bold",textAlign:"center",width:"8%"},children:"3"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff",fontWeight:"bold",textAlign:"center",width:"8%"},children:"4"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff",fontWeight:"bold",textAlign:"center",width:"8%"},children:"5"})]}),A.referensis.map((H,I)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center"},children:[I+1,"."]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:H.nama}),[1,2,3,4,5].map(T=>e.jsx("td",{onClick:()=>Z("MAPA02_1",H.id,Y,T),style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",cursor:"pointer",userSelect:"none"},children:e.jsx(q,{checked:R("MAPA02_1",H.id,Y,T),onChange:()=>{},style:{pointerEvents:"none"}})},T))]},H.id))]})})]},J.id)),G&&e.jsx("div",{style:{background:"#ffffff",border:"1px solid #6f6f6f",marginBottom:"16px",padding:"12px",fontSize:"14px"},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:G.referensis[0]?.nama||""}})}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"4px",marginBottom:"20px",padding:"12px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:C,onChange:()=>j(!C),style:{marginTop:"2px",cursor:"pointer"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#000",lineHeight:"1.5"},children:[e.jsx("strong",{style:{textTransform:"uppercase"},children:"Pernyataan:"})," Saya menyatakan bahwa saya telah memahami dan memahami dokumen MAPA 02 (Matriks Pengembangan dan Penilaian Asesmen) ini dengan sebenar-benarnya."]})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:B,disabled:M,children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:M||!C,onClick:Q,children:M?"Menyimpan...":"Simpan & Lanjut"})]})]})})]})}function ai(){const t=xe(),{user:s}=re(),{kegiatan:a,isAsesor:n}=ns(),{idIzin:i}=we(),{isAsesor1:r}=Oe(i),c=n?i:s?.id_izin,{jabatanKerja:p,nomorSkema:d,tuk:o,namaAsesor:x,asesorList:h,namaAsesi:g}=Bs(c),{showSuccess:b,showError:M,showWarning:P}=De(),C=a?.jadwal_id,j=n&&!r,[f,N]=l.useState(null),[B,Z]=l.useState(null),[R,Q]=l.useState(!0),[A,G]=l.useState(!1),[J,Y]=l.useState(!1),[H,I]=l.useState({}),[T,S]=l.useState({});l.useEffect(()=>{if(!B||h.length===0)return;const u=B;if(u.asesor&&Object.keys(u.asesor||{}).length>0)return;const k={};u.asesor1&&h[0]&&(k[String(h[0].id)]={url:u.asesor1.url,tanggal:u.asesor1.tanggal,nama:u.asesor1.nama}),u.asesor2&&h[1]&&(k[String(h[1].id)]={url:u.asesor2.url,tanggal:u.asesor2.tanggal,nama:u.asesor2.nama}),Object.keys(k).length>0&&Z({asesi:u.asesi,asesor:k})},[B,h]),l.useEffect(()=>{window.scrollTo(0,0);const u=async()=>{try{const k=localStorage.getItem("access_token");let y=c;if(!y&&!n&&a?.jadwal_id){const L=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a?.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${k}`}});if(L.ok){const O=await L.json();O.message==="Success"&&O.list_asesi&&O.list_asesi.length>0&&(y=O.list_asesi[0].id_izin)}}if(!y){Q(!1);return}const v=await fetch(`https://backend.devgatensi.site/api/praasesmen/${y}/ak07`,{headers:{Accept:"application/json",Authorization:`Bearer ${k}`}});if(v.ok){const L=await v.json();if(L.message==="Success"){const O=L.data?.kelompoks||[];N(O),L.data?.barcodes&&Z(L.data.barcodes);const ee={};O.forEach(_=>{_.kategoris.forEach(E=>{E.referensis.forEach(V=>{typeof V.jawaban=="string"&&V.jawaban&&(ee[V.id]=V.jawaban)})})}),S(ee);const ie={};O.forEach(_=>{_.kategoris.forEach(E=>{if(E.id){const V=`${E.id}_${_.id}`,te=E.referensis.filter(U=>U.jawaban===!0).map(U=>U.id);te.length>0&&(ie[V]=new Set(te))}})}),I(ie)}}else console.warn(`AK07 API returned ${v.status}`)}catch{}finally{Q(!1)}};(n&&c||a)&&u()},[c,a,n]);const W=()=>{t(-1)},F=(u,k,y)=>{const v=`${u}_${k}`;I(L=>{const O=L[v]||new Set,ee=new Set(O);return ee.has(y)?ee.delete(y):ee.add(y),{...L,[v]:ee.size===0?null:ee}})},K=(u,k,y)=>{const v=`${u}_${k}`;return v in H?H[v]?.has(y)||!1:f?.find(O=>O.id===k)?.kategoris.find(O=>O.id===u)?.referensis.find(O=>O.id===y)?.jawaban===!0},w=async()=>{if(!J){P("Silakan centang pernyataan bahwa Anda telah memahami dokumen ini.");return}if(j){const k=localStorage.getItem("access_token");let y=c;if(!y){P("ID Izin tidak ditemukan");return}if(C)try{const v=await fetch(`https://backend.devgatensi.site/api/qr/${y}/ak07`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({id_jadwal:C})});if(v.ok){const L=await v.json();if(L.message==="Success"&&L.data?.url_image){const O=String(s?.id);Z(ee=>({asesi:ee?.asesi,asesor:{...ee?.asesor,[O]:{url:L.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}})),b("Tanda tangan berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${y}/fr-ak-04`)},500);return}}else M("Gagal generate tanda tangan")}catch(v){console.error("Error generating QR:",v),M("Gagal generate tanda tangan")}t(`/asesi/praasesmen/${y}/fr-ak-04`);return}let u=c;if(!u&&a?.jadwal_id){const k=localStorage.getItem("access_token"),y=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a?.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${k}`}});if(y.ok){const v=await y.json();v.message==="Success"&&v.list_asesi&&v.list_asesi.length>0&&(u=v.list_asesi[0].id_izin)}}if(!u){P("ID Izin tidak ditemukan");return}G(!0);try{const k=[];if(!f)throw new Error("Data AK07 tidak tersedia");const y=f.find(_=>_.urut===1);y&&y.kategoris.forEach(_=>{_.referensis.forEach(E=>{const V=K(_.id,y.id,E.id);k.push({referensi_id:E.id,kelompok_id:y.id,value:V})})});const v=f.find(_=>_.urut===2);v&&v.kategoris.forEach(_=>{_.referensis.forEach(E=>{const V=K(_.id,v.id,E.id);k.push({referensi_id:E.id,kelompok_id:v.id,value:V})})});const L=f.find(_=>_.urut===3);if(L&&L.kategoris[0]){const _=L.kategoris[0].id;L.kategoris[0].referensis.forEach(E=>{const V=K(_,L.id,E.id),te=T[E.id]||"";k.push({referensi_id:E.id,kelompok_id:L.id,value:te||V})})}const O=f.find(_=>_.urut===4);O&&O.kategoris[0]?.referensis.forEach(_=>{if(!_.nama)return;const E=T[_.id]||(typeof _.jawaban=="string"?_.jawaban:"");k.push({referensi_id:_.id,kelompok_id:O.id,value:E})});const ee=localStorage.getItem("access_token"),ie=await fetch(`https://backend.devgatensi.site/api/praasesmen/${u}/ak07`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify({answers:k})});if(!ie.ok){const _=await ie.json().catch(()=>({message:"Gagal menyimpan data AK07"}));throw new Error(_.message||"Gagal menyimpan data AK07")}if(C)try{const _=await fetch(`https://backend.devgatensi.site/api/qr/${u}/ak07`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({id_jadwal:C})});if(_.ok){const E=await _.json();if(E.message==="Success"&&E.data?.url_image)if(n){const V=String(s?.id);Z(te=>({...te,asesi:te?.asesi,asesor:{...te?.asesor,[V]:{url:E.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}}))}else Z(V=>({...V,asesi:{url:E.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}))}}catch(_){console.error("Error generating QR:",_)}b("FR AK 07 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${u}/fr-ak-04`)},500)}catch(k){M(k instanceof Error?k.message:"Gagal menyimpan data AK07")}finally{G(!1)}};if(R)return e.jsx(Ce,{text:"Memuat data AK 07..."});const D=f?.find(u=>u.urut===1),m=f?.find(u=>u.urut===2),$=f?.find(u=>u.urut===3),z=f?.find(u=>u.urut===4);return e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR.AK.07"})]})})}),e.jsx(Fe,{currentStep:6,children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{marginBottom:"16px",textAlign:"left"},children:[e.jsx("h1",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",marginBottom:"4px",textTransform:"uppercase"},children:"FR.AK.07 - FORMULIR PENYESUAIAN ASESMEN"}),e.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Isi atau lengkapi data formulir AK 07 di bawah ini"})]}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"8px",fontSize:"13px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px 8px",width:"35%",fontWeight:"bold",verticalAlign:"top"},children:["Skema Sertifikasi",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"11px",fontWeight:"normal"},children:"(/Okupasi/)"})]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"15%",fontWeight:"bold"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"5%",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:p?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:d?.toUpperCase()||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:o?.toUpperCase()||"Sewaktu/Tempat Kerja/Mandiri*"})]}),h.length>1?h.map((u,k)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:["Nama Asesor ",k+1]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsxs("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:[u.nama?.toUpperCase()||"",u.noreg&&` (${u.noreg})`]})]},u.id)):e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Nama Asesor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsxs("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:[h[0]?.nama?.toUpperCase()||"",h[0]?.noreg&&` (${h[0].noreg})`]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Nama Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:g||s?.name||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:new Date().toLocaleDateString("id-ID")})]})]})}),e.jsx("p",{style:{fontSize:"11px",marginBottom:"12px",color:"#666"},children:"*Coret yang tidak perlu"}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"12px",fontSize:"12px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",background:"#f0f0f0"},children:"PANDUAN BAGI ASESOR"})}),e.jsx("tr",{children:e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",lineHeight:"1.6"},children:[" Formulir ini digunakan pada saat pelaksanaan pra asesmen",e.jsx("br",{})," Formulir ini terdiri dari dua bagian yaitu A dan B",e.jsx("br",{})," Coretlah pada tanda * yang tidak sesuai",e.jsx("br",{})," Berilah tanda  Ya atau Tidak pada tanda ** sesuai pilihan",e.jsx("br",{})," Berilah tanda  pada kotak  pada kolom potensi asesi",e.jsx("br",{})," Formulir ini juga digunakan untuk bagian B",e.jsx("br",{})," Berilah tanda  Ya atau Tidak pada tanda *** sesuai pilihan"]})})]})}),D&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"12px",fontSize:"14px",background:"#fff"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"20%",fontWeight:"bold",verticalAlign:"top"},children:"Potensi Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:D.kategoris[0]?.referensis.map(u=>{const k=K(D.kategoris[0]?.id||null,D.id,u.id);return e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",marginBottom:"6px"},children:[e.jsx("div",{style:{marginRight:"10px"},children:e.jsx(q,{checked:k,disabled:!0,onChange:()=>{}})}),e.jsx("span",{style:{flex:1,fontSize:"14px"},children:u.nama})]},u.id)})})]})})}),m&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"12px",fontSize:"14px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"5%",background:"#c00000",color:"#fff",fontSize:"14px"},children:"No"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"35%",background:"#c00000",color:"#fff",fontSize:"14px"},children:"Mengidentifikasi Persyaratan Modifikasi dan Kontekstualisasi"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"60px",background:"#c00000",color:"#fff",textAlign:"center",fontSize:"14px"},children:"Ya"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"60px",background:"#c00000",color:"#fff",textAlign:"center",fontSize:"14px"},children:"Tidak"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",background:"#c00000",color:"#fff",fontSize:"14px"},children:"Keterangan"})]}),m.kategoris.map((u,k)=>{if(!u.nama)return null;const y=u.referensis.filter(v=>v.nama);return y.map((v,L)=>{const O=K(u.id,m.id,v.id),ee=L===0;return e.jsxs("tr",{children:[ee&&e.jsxs(e.Fragment,{children:[e.jsx("td",{rowSpan:y.length,style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",verticalAlign:"top"},children:u.urut||k+1}),e.jsx("td",{rowSpan:y.length,style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"top"},children:u.nama})]}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",borderBottom:L<y.length-1?"1px solid #ccc":"1px solid #000"},children:e.jsx(q,{checked:O,onChange:()=>!j&&!A&&F(u.id,m.id,v.id),disabled:j||A})}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center",borderBottom:L<y.length-1?"1px solid #ccc":"1px solid #000"},children:e.jsx(q,{checked:!K(u.id,m.id,v.id),onChange:()=>!j&&!A&&F(u.id,m.id,v.id),disabled:j||A})}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",borderBottom:L<y.length-1?"1px solid #ccc":"1px solid #000",fontSize:"14px"},children:v.nama})]},`${u.id||k}-${v.id}`)})})]})}),$&&$.kategoris[0]?.referensis&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"12px",fontSize:"14px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",width:"55%",background:"#fff",color:"#000",textAlign:"left",fontSize:"14px"},children:"Rekaman Rencana Asesmen"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"60px",background:"#fff",color:"#000",textAlign:"center",fontSize:"14px"},children:"Ya"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"60px",background:"#fff",color:"#000",textAlign:"center",fontSize:"14px"},children:"Tidak"}),e.jsx("th",{style:{border:"1px solid #000",padding:"6px 8px",width:"20%",background:"#fff",color:"#000",textAlign:"left",fontSize:"14px"},children:"Keterangan"})]}),$.kategoris[0].referensis.filter(u=>u.nama).map((u,k)=>{const y=$.kategoris[0]?.id||null,v=K(y,$.id,u.id);return e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",verticalAlign:"top",borderRight:"none"},children:k+1}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"top",borderLeft:"none"},children:u.nama}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:e.jsx(q,{checked:v,onChange:()=>!j&&!A&&F(y,$.id,u.id),disabled:j||A})}),e.jsx("td",{style:{border:"1px solid #000",padding:"8px",textAlign:"center"},children:e.jsx(q,{checked:!v,onChange:()=>!j&&!A&&F(y,$.id,u.id),disabled:j||A})}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px",fontSize:"14px"},children:e.jsx("textarea",{value:T[u.id]||"",onInput:L=>{const O=L.currentTarget;O.style.height="24px",O.style.height=O.scrollHeight+"px"},ref:L=>{L&&(L.style.height="24px",L.style.height=L.scrollHeight+"px")},onChange:L=>S(O=>({...O,[u.id]:L.target.value})),disabled:j||A,rows:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",fontSize:"12px",minHeight:"24px",height:"24px",overflow:"hidden",resize:"none",fontFamily:"Arial, Helvetica, sans-serif",cursor:j||A?"not-allowed":"text",background:j||A?"#f5f5f5":"#fff",boxSizing:"border-box"},placeholder:"Keterangan..."})})]},u.id)})]})}),z&&z.kategoris[0]?.referensis&&e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"12px",fontSize:"14px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:3,style:{border:"1px solid #000",padding:"6px 8px",width:"45%",background:"#fff",color:"#000",fontSize:"14px",textAlign:"left"},children:"Hasil Penyesuaian yang wajar dan beralasan disepakati menggunakan:"})}),z.kategoris[0].referensis.filter(u=>u.nama).map((u,k)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"left",verticalAlign:"top",borderRight:"none"},children:[k+1,") ",u.nama]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",verticalAlign:"top",borderLeft:"none",borderRight:"none"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"4px",fontSize:"14px",borderLeft:"none"},children:e.jsx("textarea",{value:T[u.id]||(typeof u.jawaban=="string"?u.jawaban:""),onInput:y=>{const v=y.currentTarget;v.style.height="24px",v.style.height=v.scrollHeight+"px"},ref:y=>{y&&(y.style.height="24px",y.style.height=y.scrollHeight+"px")},onChange:y=>S(v=>({...v,[u.id]:y.target.value})),disabled:j||A,rows:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",fontSize:"12px",minHeight:"24px",height:"24px",overflow:"hidden",resize:"none",fontFamily:"Arial, Helvetica, sans-serif",cursor:j||A?"not-allowed":"text",background:j||A?"#f5f5f5":"#fff",boxSizing:"border-box"},placeholder:"Jawaban..."})})]},u.id))]})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"12px",fontSize:"12px",background:"#fff"},children:e.jsxs("tbody",{children:[h.length>0?h.map((u,k)=>{const y=B?.asesor?.[String(u.id)],v=h.length>1?`Nama Asesor ${k+1}`:"Nama Asesor";return e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",width:"50%",height:"100px"},children:[e.jsxs("div",{children:[v," : ",u.nama?.toUpperCase()||""]}),u.noreg&&e.jsxs("div",{children:["No. Reg : ",u.noreg]})]}),e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",width:"50%",verticalAlign:"middle",textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:"4px",textAlign:"left"},children:"Tanggal dan Tanda Tangan Asesor :"}),y?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:y.url,alt:`Tanda Tangan ${u.nama}`,style:{height:"50px",width:"50px",objectFit:"contain"}}),y.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(y.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null]})]},u.id)}):e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"8px",width:"50%",height:"100px"},children:e.jsxs("div",{children:["Nama Asesor : ",x?.toUpperCase()||""]})}),e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",width:"50%",verticalAlign:"middle",textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:"4px",textAlign:"left"},children:"Tanggal dan Tanda Tangan Asesor :"}),Object.values(B?.asesor||{})[0]?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:Object.values(B?.asesor||{})[0].url,alt:"Tanda Tangan Asesor",style:{height:"50px",width:"50px",objectFit:"contain"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#333"},children:Object.values(B?.asesor||{})[0].nama}),Object.values(B?.asesor||{})[0]?.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(Object.values(B?.asesor||{})[0].tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null]})]}),e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",height:"100px"},children:[e.jsx("div",{children:"Nama Asesi :"}),e.jsx("div",{children:g?.toUpperCase()||s?.name?.toUpperCase()||""})]}),e.jsxs("td",{style:{border:"1px solid #000",padding:"8px",verticalAlign:"middle",textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:"4px",textAlign:"left"},children:"Tanggal dan Tanda Tangan Asesi :"}),B?.asesi?.url?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx("img",{src:B.asesi.url,alt:"Tanda Tangan Asesi",style:{height:"50px",width:"50px",objectFit:"contain"}}),B.asesi.tanggal&&e.jsx("div",{style:{fontSize:"11px",color:"#333"},children:new Date(B.asesi.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):null]})]})]})}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"4px",marginBottom:"20px",padding:"12px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:J,onChange:()=>Y(!J),style:{marginTop:"2px",width:"16px",height:"16px",cursor:"pointer"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#000",lineHeight:"1.5"},children:[e.jsx("strong",{style:{textTransform:"uppercase"},children:"Pernyataan:"})," Saya menyatakan bahwa saya telah memahami dan memahami dokumen AK 07 (Penyesuaian Asesmen) ini dengan sebenar-benarnya."]})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:W,disabled:A,children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:A||!J,onClick:w,children:A?"Menyimpan...":"Simpan & Lanjut"})]})]})})]})}function ni(){const t=xe(),{user:s}=re(),{kegiatan:a}=as(),{idIzin:n}=we(),i=s?.role?.name?.toLowerCase()==="asesor",r=i?n:s?.id_izin,{jabatanKerja:c,nomorSkema:p,asesorList:d,namaAsesi:o}=Bs(r),{showSuccess:x,showError:h,showWarning:g}=De(),[b,M]=l.useState(null),[P,C]=l.useState(!0),[j,f]=l.useState(!1),[N,B]=l.useState(!1),[Z,R]=l.useState({}),[Q,A]=l.useState(""),G=i;l.useEffect(()=>{window.scrollTo(0,0);const T=async()=>{try{const S=localStorage.getItem("access_token");let W=r;if(!W&&!i&&a?.jadwal_id){const K=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${S}`}});if(K.ok){const w=await K.json();w.message==="Success"&&w.list_asesi&&w.list_asesi.length>0&&(W=w.list_asesi[0].id_izin)}}if(!W){C(!1);return}const F=await fetch(`https://backend.devgatensi.site/api/praasesmen/${W}/ak04`,{headers:{Accept:"application/json",Authorization:`Bearer ${S}`}});if(F.ok){const K=await F.json();if(K.message==="Success"){M(K.data);const w={};K.data.kelompoks.forEach(D=>{D.referensis.forEach(m=>{w[m.id]=m.jawaban})}),R(w),K.data.alasan&&A(K.data.alasan)}}else console.warn(`AK04 API returned ${F.status}`)}catch{}finally{C(!1)}};(i&&r||a)&&T()},[r,a,i]);const J=()=>{t(-1)},Y=(T,S)=>{G||R(W=>{if(W[T]===S){const{[T]:K,...w}=W;return w}return{...W,[T]:S}})},H=T=>{G||R(S=>{const W=S[T];if(W==null)return{...S,[T]:!0};if(W===!0)return{...S,[T]:!1};{const{[T]:F,...K}=S;return K}})},I=async()=>{if(G){let T=r;const S=localStorage.getItem("access_token");if(!T&&!i&&a?.jadwal_id){const W=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${S}`}});if(W.ok){const F=await W.json();F.message==="Success"&&F.list_asesi&&F.list_asesi.length>0&&(T=F.list_asesi[0].id_izin)}}T&&t(`/asesi/praasesmen/${T}/k3-asesmen`);return}if(!N){g("Silakan centang pernyataan bahwa Anda telah memahami dokumen ini.");return}f(!0);try{let T=r;const S=localStorage.getItem("access_token");if(!T&&!i&&a?.jadwal_id){const D=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${S}`}});if(D.ok){const m=await D.json();m.message==="Success"&&m.list_asesi&&m.list_asesi.length>0&&(T=m.list_asesi[0].id_izin)}}if(!T){g("ID Izin tidak ditemukan");return}const W=b?.kelompoks?.[0]?.id||1,K={answers:Object.entries(Z).map(([D,m])=>({referensi_id:Number(D),kelompok_id:W,jawaban:m===!0})),alasan:Q},w=await fetch(`https://backend.devgatensi.site/api/praasesmen/${T}/ak04`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify(K)});if(w.ok){const D=await w.json();D.message==="AK04 successfully submitted"?(x("FR AK 04 berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${T}/k3-asesmen`)},500)):h("Gagal menyimpan data: "+(D.message||"Unknown error"))}else h("Gagal menyimpan data. Status: "+w.status)}catch(T){console.error("Error saving AK04:",T),h("Terjadi kesalahan saat menyimpan data")}finally{f(!1)}};return P?e.jsx(Ce,{text:"Memuat data AK 04..."}):e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR.AK.04"})]})})}),e.jsx(Fe,{currentStep:7,children:e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{marginBottom:"16px"},children:e.jsx("h1",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",textTransform:"uppercase"},children:"FR.AK.04 BANDING ASESMEN"})}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"12px",fontSize:"13px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"25%"},children:"Nama Asesi"}),e.jsxs("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px 8px"},children:[": ",o?.toUpperCase()||s?.name.toUpperCase()||""]})]}),d.length>1?d.map((T,S)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:["Nama Asesor ",S+1]}),e.jsxs("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px 8px"},children:[": ",T.nama?.toUpperCase()||""]})]},T.id)):e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:"Nama Asesor"}),e.jsxs("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px 8px"},children:[": ",d[0]?.nama?.toUpperCase()||""]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:"Tanggal Asesmen"}),e.jsxs("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px 8px"},children:[": ",new Date().toLocaleDateString("id-ID")]})]}),e.jsx("br",{}),e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Jawablah dengan Ya atau Tidak pertanyaan-pertanyaan berikut ini :"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"10%",fontWeight:"bold",textAlign:"center"},children:"YA"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"10%",fontWeight:"bold",textAlign:"center"},children:"TIDAK"})]}),b?.kelompoks?.[0]?.referensis.map(T=>{const S=Z[T.id];return e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",cursor:G?"default":"pointer"},onClick:()=>H(T.id),children:T.nama}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 30px",textAlign:"center"},children:e.jsx(q,{checked:S===!0,onChange:()=>Y(T.id,!0),disabled:G,style:{width:"18px",height:"18px",cursor:G?"not-allowed":"pointer"}})}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 30px",textAlign:"center"},children:e.jsx(q,{checked:S===!1,onChange:()=>Y(T.id,!1),disabled:G,style:{width:"18px",height:"18px",cursor:G?"not-allowed":"pointer"}})})]},T.id)}),e.jsx("tr",{children:e.jsxs("td",{colSpan:4,style:{border:"1px solid #000",padding:"8px"},children:["Banding ini diajukan atas Keputusan Asesmen yang dibuat terhadap Skema Sertifikasi (/Okupasi/) berikut :",e.jsx("br",{}),e.jsx("br",{}),"Skema Sertifikasi : ",c?.toUpperCase()||"",e.jsx("br",{}),"No. Skema Sertifikasi : ",p?.toUpperCase()||""]})}),e.jsx("tr",{children:e.jsxs("td",{colSpan:4,style:{border:"1px solid #000",padding:"8px",verticalAlign:"top"},children:[e.jsx("div",{style:{marginBottom:"8px"},children:"Banding ini diajukan atas alasan sebagai berikut :"}),e.jsx("textarea",{value:Q,onChange:T=>A(T.target.value),disabled:G,placeholder:"Tuliskan alasan banding...",style:{width:"100%",minHeight:"70px",border:"1px solid #ccc",padding:"8px",fontSize:"13px",fontFamily:"Arial, Helvetica, sans-serif",resize:"vertical",cursor:G?"not-allowed":"text",background:G?"#f5f5f5":"#fff"}})]})}),e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{border:"1px solid #000",padding:"8px"},children:"Anda mempunyai hak mengajukan banding jika Anda menilai proses asesmen tidak sesuai SOP dan tidak memenuhi Prinsip Asesmen."})}),e.jsx("tr",{children:e.jsxs("td",{colSpan:4,style:{border:"1px solid #000",padding:"8px",height:"80px"},children:["Tanda tangan Asesi : ",o?.toUpperCase()||s?.name?.toUpperCase()||"",e.jsx("br",{}),e.jsx("br",{}),"Tanggal : ",new Date().toLocaleDateString("id-ID")]})})]})}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"4px",marginBottom:"20px",padding:"12px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:N,onChange:T=>B(T.target.checked),style:{marginTop:"2px",width:"16px",height:"16px",cursor:"pointer"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#000",lineHeight:"1.5"},children:[e.jsx("strong",{style:{textTransform:"uppercase"},children:"Pernyataan:"})," Saya menyatakan bahwa saya telah memahami dan memahami dokumen AK 04 (Banding Asesmen) ini dengan sebenar-benarnya."]})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:J,disabled:j,children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:j||!G&&!N,onClick:I,children:j?"Menyimpan...":G?"Lanjut":"Simpan & Lanjut"})]})]})})]})}function ii(){const t=xe(),{user:s}=re(),{idIzin:a}=we(),i=s?.role?.name?.toLowerCase()==="asesor"?a:s?.id_izin,{showSuccess:r,showWarning:c}=De(),[p,d]=l.useState(null),[o,x]=l.useState(!0),[h,g]=l.useState(!1),[b,M]=l.useState(!1);l.useEffect(()=>{window.scrollTo(0,0),(async()=>{try{const f=localStorage.getItem("access_token"),N=await fetch("https://backend.devgatensi.site/api/praasesmen/file-k3",{headers:{Accept:"application/json",Authorization:`Bearer ${f}`}});if(N.ok){const B=await N.json();B.message==="Success"&&B.data?.file&&d(B.data.file)}else console.warn(`K3 API returned ${N.status}`)}catch(f){console.error("Error fetching K3 PDF:",f)}finally{x(!1)}})()},[i]);const P=()=>{t(-1)},C=async()=>{if(!b){c("Silakan centang pernyataan bahwa Anda telah memahami dokumen K3 Asesmen.");return}g(!0);try{await new Promise(j=>setTimeout(j,500)),r("K3 Asesmen berhasil disimpan!"),setTimeout(()=>{t(`/asesi/praasesmen/${i}/fr-ak-01`)},500)}catch{}finally{g(!1)}};return o?e.jsx(Ce,{text:"Memuat dokumen K3 Asesmen..."}):e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"K3 Asesmen"})]})})}),e.jsxs(Fe,{currentStep:8,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",marginBottom:"4px",textTransform:"uppercase"},children:"K3 ASESMEN"}),e.jsx("p",{style:{fontSize:"13px",color:"#666"},children:"Baca dan pahami dokumen K3 Asesmen di bawah ini"})]}),p?e.jsx("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"4px",marginBottom:"20px",overflow:"hidden"},children:e.jsx("iframe",{src:`${p}#toolbar=0&navpanes=0&scrollbar=0&view=fitH`,style:{width:"100%",height:"800px",border:"none"},title:"K3 Asesmen PDF"})}):e.jsx("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"4px",padding:"40px",textAlign:"center",marginBottom:"20px"},children:e.jsx("p",{style:{fontSize:"14px",color:"#666"},children:"Dokumen K3 Asesmen tidak tersedia"})}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",borderRadius:"4px",marginBottom:"20px",padding:"12px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:b,onChange:j=>M(j.target.checked),style:{marginTop:"2px",width:"16px",height:"16px",cursor:"pointer"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#000",lineHeight:"1.5"},children:[e.jsx("strong",{style:{textTransform:"uppercase"},children:"Pernyataan:"})," Saya menyatakan bahwa saya telah membaca, memahami, dan menyetujui dokumen K3 Asesmen ini dengan sebenar-benarnya."]})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx(le,{variant:"secondary",onClick:P,disabled:h,children:"Kembali"}),e.jsx(le,{variant:"primary",disabled:h||!b,onClick:C,children:h?"Menyimpan...":"Simpan & Lanjut"})]})]})]})}function ri(){const t=xe(),{user:s}=re(),{kegiatan:a,isAsesor:n}=ns(),{idIzin:i}=we(),{showSuccess:r}=De(),c=n?i:s?.id_izin,[p,d]=l.useState([]),[o,x]=l.useState(null),[h,g]=l.useState({buktiYangDikumpulkan:[]}),[b,M]=l.useState(!0),[P,C]=l.useState(c),[j,f]=l.useState(!1),{jabatanKerja:N,nomorSkema:B,tuk:Z,namaAsesor:R,asesorList:Q,namaAsesi:A,tanggalUji:G}=Bs(P),J=a?.jadwal_id,Y=F=>{if(!F)return{hariTanggal:"",waktu:""};const K=new Date(F),w=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],D=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],m=`${w[K.getDay()]}, ${String(K.getDate()).padStart(2,"0")} ${D[K.getMonth()]} ${K.getFullYear()}`,$=`${String(K.getHours()).padStart(2,"0")}:${String(K.getMinutes()).padStart(2,"0")}`;return{hariTanggal:m,waktu:$}},{hariTanggal:H,waktu:I}=Y(G);l.useEffect(()=>{window.scrollTo(0,0);const F=async()=>{try{const K=localStorage.getItem("access_token");let w=c;if(!w&&!n&&a?.jadwal_id){const m=await fetch(`https://backend.devgatensi.site/api/kegiatan/${a.jadwal_id}/list-asesi`,{headers:{Accept:"application/json",Authorization:`Bearer ${K}`}});if(m.ok){const $=await m.json();$.message==="Success"&&$.list_asesi&&$.list_asesi.length>0&&(w=$.list_asesi[0].id_izin,C(w))}}if(!w){M(!1);return}const D=await fetch(`https://backend.devgatensi.site/api/praasesmen/${w}/ak01`,{headers:{Accept:"application/json",Authorization:`Bearer ${K}`}});if(D.ok){const m=await D.json(),$=m.data?.items||[];d($),m.data?.barcodes&&x(m.data.barcodes);const z=$.filter(u=>u.jawaban===!0).map(u=>u.id);g(u=>({...u,buktiYangDikumpulkan:z}))}M(!1)}catch{M(!1)}};(n&&c||a)&&F()},[c,a,n]);const T=()=>{t(-1)},S=(F,K)=>{g(w=>{const D=w.buktiYangDikumpulkan||[];return K?{...w,buktiYangDikumpulkan:[...D,F]}:{...w,buktiYangDikumpulkan:D.filter(m=>m!==F)}})},W=async()=>{try{const F=localStorage.getItem("access_token"),K=p.map(D=>({id_referensi:D.id,jawaban:h.buktiYangDikumpulkan?.includes(D.id)||!1})),w=await fetch(`https://backend.devgatensi.site/api/praasesmen/${P}/ak01`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({answers:K})});if(w.ok){if(n&&J){const D=String(s?.id),$=Q.length===0||Q.findIndex(z=>String(z.id)===D)===0?"asesor1":"asesor2";if(!o?.[$]?.url)try{const z=await fetch(`https://backend.devgatensi.site/api/qr/${P}/ak01`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({id_jadwal:J})});if(z.ok){const u=await z.json();u.message==="Success"&&u.data?.url_image&&x(k=>({...k,[$]:{url:u.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}))}}catch(z){console.error("Error generating QR:",z)}r("Data berhasil disimpan!"),setTimeout(()=>t("/asesi/praasesmen/ak01-success"),500);return}if(!n&&J&&!o?.asesi?.url)try{const D=await fetch(`https://backend.devgatensi.site/api/qr/${P}/ak01`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({id_jadwal:J})});if(D.ok){const m=await D.json();m.message==="Success"&&m.data?.url_image&&x($=>({...$,asesi:{url:m.data.url_image,tanggal:new Date().toISOString(),nama:s?.name||""}}))}}catch(D){console.error("Error generating QR:",D)}t("/asesi/praasesmen/ak01-success")}else console.error("Failed to save:",await w.text())}catch(F){console.error("Error saving:",F)}};return b?e.jsx(Ce,{text:"Memuat data..."}):e.jsxs("div",{style:{minHeight:"100vh",background:"#f5f5f5",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"13px",color:"#000",padding:"20px"},children:[e.jsx(me,{userName:s?.name}),e.jsx("div",{style:{borderBottom:"1px solid #000",background:"#fff"},children:e.jsx("div",{style:{padding:"12px 16px",maxWidth:"1100px",margin:"0 auto"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",fontSize:"13px",color:"#666"},children:[e.jsx("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>t("/asesi/dashboard"),children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Pra-Asesmen"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"FR.AK.01"})]})})}),e.jsxs(Fe,{currentStep:9,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h2",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",marginBottom:"4px",textTransform:"uppercase"},children:"FR.AK.01 - PERSETUJUAN ASESMEN"}),e.jsx("p",{style:{fontSize:"13px",color:"#666"},children:"Isi atau lengkapi data formulir AK 01 di bawah ini"})]}),e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",background:"#fff"},children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{border:"1px solid #000",padding:"6px 8px"},children:"Persetujuan Asesmen ini untuk menjamin bahwa Asesi telah diberi arahan secara rinci tentang perencanaan dan proses asesmen"})}),e.jsxs("tr",{children:[e.jsxs("td",{rowSpan:2,style:{border:"1px solid #000",padding:"6px 8px",width:"35%",fontWeight:"bold",verticalAlign:"top"},children:["Skema Sertifikasi",e.jsx("br",{}),"(/Okupasi/)"]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"15%",fontWeight:"bold"},children:"Judul"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",width:"5%",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:N?.toUpperCase()||h.skemaJudul||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Nomor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:B?.toUpperCase()||h.skemaNomor||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:Z?.toUpperCase()||h.tuk||"Sewaktu/Tempat Kerja/Mandiri*"})]}),Q.length>1?Q.map((F,K)=>e.jsxs("tr",{children:[e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:["Nama Asesor ",K+1]}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsxs("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:[F.nama?.toUpperCase()||"",F.noreg&&` (${F.noreg})`]})]},F.id)):e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Nama Asesor"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:Q.length>0?`${Q[0].nama?.toUpperCase()||""}${Q[0].noreg?` (${Q[0].noreg})`:""}`:R?.toUpperCase()||h.namaAsesor||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Nama Asesi"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px"},children:A?.toUpperCase()||s?.name?.toUpperCase()||h.namaAsesi||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",verticalAlign:"top"},children:"Bukti yang akan dikumpulkan :"}),e.jsx("td",{colSpan:3,style:{border:"1px solid #000",padding:"6px 8px"},children:e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:e.jsx("tbody",{children:p.map((F,K)=>{const w=K%2===0;return e.jsx("tr",{children:w&&e.jsxs(e.Fragment,{children:[e.jsx("td",{style:{padding:"2px 4px",border:"none"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[e.jsx(q,{checked:h.buktiYangDikumpulkan?.includes(F.id)||!1,onChange:()=>S(F.id,!h.buktiYangDikumpulkan?.includes(F.id))}),F.nama]})}),p[K+1]?e.jsx("td",{style:{padding:"2px 4px",border:"none"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[e.jsx(q,{checked:h.buktiYangDikumpulkan?.includes(p[K+1].id)||!1,onChange:()=>S(p[K+1].id,!h.buktiYangDikumpulkan?.includes(p[K+1].id))}),p[K+1].nama]})}):e.jsx("td",{style:{padding:"2px 4px",border:"none"}})]})},F.id)})})})})]}),e.jsxs("tr",{children:[e.jsx("td",{rowSpan:3,style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold",verticalAlign:"top"},children:"Pelaksanaan asesmen disepakati pada:"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Hari / Tanggal"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:H||h.hariTanggal||""})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"Waktu"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsxs("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:[I||h.waktu||""," - Selesai"]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",fontWeight:"bold"},children:"TUK"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px",textAlign:"center",fontWeight:"bold"},children:":"}),e.jsx("td",{style:{border:"1px solid #000",padding:"6px 8px"},children:Z?.toUpperCase()||h.tukPelaksanaan||""})]}),e.jsx("tr",{children:e.jsxs("td",{colSpan:4,style:{border:"1px solid #000",padding:"6px 8px"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"Asesor :"}),e.jsx("br",{}),e.jsx("br",{}),"Menyatakan tidak akan membuka hasil pekerjaan yang saya peroleh karena penugasan saya sebagai Asesor dalam pekerjaan Asesmen kepada siapapun atau organisasi apapun selain kepada pihak yang berwenang sehubungan dengan kewajiban saya sebagai Asesor yang ditugaskan oleh LSP."]})}),e.jsx("tr",{children:e.jsxs("td",{colSpan:4,style:{border:"1px solid #000",padding:"6px 8px"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"Asesi :"}),e.jsx("br",{}),e.jsx("br",{}),"Saya setuju mengikuti asesmen dengan pemahaman bahwa informasi yang dikumpulkan hanya digunakan untuk pengembangan profesional dan hanya dapat diakses oleh orang tertentu saja."]})}),o?.asesor2?.url?e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",height:"70px",verticalAlign:"bottom"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:["Tanda tangan Asesor 1 :",e.jsx("br",{}),o?.asesor1?.url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.asesor1.url,alt:"Tanda Tangan Asesor 1",style:{height:"50px",width:"50px",objectFit:"contain"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#333"},children:o.asesor1.nama?.toUpperCase()}),o?.asesor1?.tanggal&&e.jsx("span",{style:{fontSize:"10px",color:"#666"},children:new Date(o.asesor1.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):e.jsx("span",{children:h.tandaTanganAsesor||"............................................."})]})}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",height:"70px",verticalAlign:"bottom"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:["Tanda tangan Asesor 2 :",e.jsx("br",{}),o?.asesor2?.url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.asesor2.url,alt:"Tanda Tangan Asesor 2",style:{height:"50px",width:"50px",objectFit:"contain"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#333"},children:o.asesor2.nama?.toUpperCase()}),o?.asesor2?.tanggal&&e.jsx("span",{style:{fontSize:"10px",color:"#666"},children:new Date(o.asesor2.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):e.jsx("span",{children:h.tandaTanganAsesor||"............................................."})]})})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:4,style:{border:"1px solid #000",padding:"6px 8px",height:"70px",verticalAlign:"bottom"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:["Tanda tangan Asesi :",e.jsx("br",{}),o?.asesi?.url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.asesi.url,alt:"Tanda Tangan Asesi",style:{height:"50px",width:"50px",objectFit:"contain"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#333"},children:o.asesi.nama?.toUpperCase()}),o?.asesi?.tanggal&&e.jsx("span",{style:{fontSize:"10px",color:"#666"},children:new Date(o.asesi.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):e.jsx("span",{children:h.tandaTanganAsesi||".............................................."})]})})})]}):e.jsxs("tr",{children:[e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",height:"70px",verticalAlign:"bottom"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:["Tanda tangan Asesor :",e.jsx("br",{}),o?.asesor1?.url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.asesor1.url,alt:"Tanda Tangan Asesor",style:{height:"50px",width:"50px",objectFit:"contain"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#333"},children:o.asesor1.nama?.toUpperCase()}),o?.asesor1?.tanggal&&e.jsx("span",{style:{fontSize:"10px",color:"#666"},children:new Date(o.asesor1.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):e.jsx("span",{children:h.tandaTanganAsesor||"............................................."})]})}),e.jsx("td",{colSpan:2,style:{border:"1px solid #000",padding:"6px 8px",height:"70px",verticalAlign:"bottom"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:["Tanda tangan Asesi :",e.jsx("br",{}),o?.asesi?.url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.asesi.url,alt:"Tanda Tangan Asesi",style:{height:"50px",width:"50px",objectFit:"contain"}}),e.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#333"},children:o.asesi.nama?.toUpperCase()}),o?.asesi?.tanggal&&e.jsx("span",{style:{fontSize:"10px",color:"#666"},children:new Date(o.asesi.tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}):e.jsx("span",{children:h.tandaTanganAsesi||".............................................."})]})})]})]})}),e.jsx("p",{style:{fontSize:"12px"},children:"* Coret yang tidak perlu"}),e.jsx("div",{style:{background:"#fff",border:"1px solid #000",marginBottom:"20px",padding:"12px"},children:e.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer"},children:[e.jsx(q,{checked:j,onChange:()=>f(!j),style:{marginTop:"2px",cursor:"pointer"}}),e.jsxs("span",{style:{fontSize:"12px",color:"#000",lineHeight:"1.5"},children:[e.jsx("strong",{style:{textTransform:"uppercase"},children:"Pernyataan:"})," Saya menyatakan bahwa saya telah memahami dan menyetujui isi FR.AK.01 (Persetujuan Asesmen) ini dengan sebenar-benarnya."]})]})}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"20px"},children:[e.jsx(le,{variant:"secondary",onClick:T,children:"Kembali"}),e.jsx(le,{variant:"primary",onClick:W,disabled:!j,children:"Selesai"})]})]})]})}function li(){return e.jsx(ca,{children:e.jsx(pa,{children:e.jsx(ua,{children:e.jsxs(fa,{children:[e.jsx(ma,{}),e.jsx(Pt,{children:e.jsxs(He,{children:[e.jsx(X,{path:"/login",element:e.jsx(Pa,{children:e.jsx(Wa,{})})}),e.jsx(X,{path:"/admin-lsp/*",element:e.jsx(_a,{children:e.jsx(Xe,{children:e.jsxs(He,{children:[e.jsx(X,{path:"dashboard",element:e.jsx(Ga,{})}),e.jsx(X,{path:"reports",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Laporan Sertifikasi"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"users",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Manajemen User"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"settings",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Pengaturan"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"",element:e.jsx(ze,{to:"dashboard",replace:!0})})]})})})}),e.jsx(X,{path:"/direktur/*",element:e.jsx(za,{children:e.jsx(Xe,{children:e.jsxs(He,{children:[e.jsx(X,{path:"tandatangan",element:e.jsx(Qa,{})}),e.jsx(X,{path:"sudah-ditandatangani",element:e.jsx(Xa,{})}),e.jsx(X,{path:"belum-ditandatangani",element:e.jsx(Za,{})}),e.jsx(X,{path:"",element:e.jsx(ze,{to:"tandatangan",replace:!0})})]})})})}),e.jsx(X,{path:"/komtek/*",element:e.jsx(Ia,{children:e.jsx(Xe,{children:e.jsxs(He,{children:[e.jsx(X,{path:"tandatangan",element:e.jsx(en,{})}),e.jsx(X,{path:"sudah-ditandatangani",element:e.jsx(sn,{})}),e.jsx(X,{path:"belum-ditandatangani",element:e.jsx(tn,{})}),e.jsx(X,{path:"belum-ditandatangani/:jadwalId",element:e.jsx(an,{})}),e.jsx(X,{path:"",element:e.jsx(ze,{to:"tandatangan",replace:!0})})]})})})}),e.jsx(X,{path:"/manajer/*",element:e.jsx(La,{children:e.jsx(Xe,{children:e.jsxs(He,{children:[e.jsx(X,{path:"dashboard",element:e.jsx(nn,{})}),e.jsx(X,{path:"monitoring",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Monitoring Sertifikasi"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"asesi",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Daftar Asesi"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"",element:e.jsx(ze,{to:"dashboard",replace:!0})})]})})})}),e.jsx(X,{path:"/admin-tuk/*",element:e.jsx(Da,{children:e.jsx(Xe,{children:e.jsxs(He,{children:[e.jsx(X,{path:"dashboard",element:e.jsx(rn,{})}),e.jsx(X,{path:"list-asesi/:jadwalId",element:e.jsx(dn,{})}),e.jsx(X,{path:"verification",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Verifikasi Asesi"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"activity",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Kegiatan"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"schedule",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Jadwal Asesmen"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"",element:e.jsx(ze,{to:"dashboard",replace:!0})})]})})})}),e.jsx(X,{path:"/asesor/*",element:e.jsx(ms,{children:e.jsx(Xe,{children:e.jsxs(He,{children:[e.jsx(X,{path:"dashboard",element:e.jsx(on,{})}),e.jsx(X,{path:"list-asesi/:jadwalId",element:e.jsx(pn,{})}),e.jsx(X,{path:"schedule",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Jadwal Asesmen"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"assessment",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Penilaian"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"asesi",element:e.jsx(hn,{})}),e.jsx(X,{path:"",element:e.jsx(ze,{to:"dashboard",replace:!0})})]})})})}),e.jsx(X,{path:"/asesi/dashboard",element:e.jsx(Rs,{children:e.jsx(gn,{})})}),e.jsx(X,{path:"/asesi/praasesmen",element:e.jsx(Ie,{children:e.jsx(fn,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/apl01",element:e.jsx(Ie,{children:e.jsx(Rn,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/apl02",element:e.jsx(Ie,{children:e.jsx(Mn,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/apl02/success",element:e.jsx(Ie,{children:e.jsx(Wn,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/mapa01",element:e.jsx(Ie,{children:e.jsx(ei,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/mapa02",element:e.jsx(Ie,{children:e.jsx(ti,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/fr-ak-07",element:e.jsx(Ie,{children:e.jsx(ai,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/fr-ak-04",element:e.jsx(Ie,{children:e.jsx(ni,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/k3-asesmen",element:e.jsx(Ie,{children:e.jsx(ii,{})})}),e.jsx(X,{path:"/asesi/praasesmen/:idIzin/fr-ak-01",element:e.jsx(Ie,{children:e.jsx(ri,{})})}),e.jsx(X,{path:"/asesi/praasesmen/ak01-success",element:e.jsx(Ie,{children:e.jsx($n,{})})}),e.jsx(X,{path:"/asesi/asesmen",element:e.jsx(Ie,{children:e.jsx(jn,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/ia04a",element:e.jsx(Ie,{children:e.jsx(An,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/upload-tugas",element:e.jsx(Ie,{children:e.jsx(Nn,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/ia04b",element:e.jsx(Ie,{children:e.jsx(Tn,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/uji",element:e.jsx(Rs,{children:e.jsx(In,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/ia05",element:e.jsx(ms,{children:e.jsx(_n,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/ak02",element:e.jsx(ms,{children:e.jsx(zn,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/ak03",element:e.jsx(ms,{children:e.jsx(Ln,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/ak06",element:e.jsx(ms,{children:e.jsx(Pn,{})})}),e.jsx(X,{path:"/asesi/asesmen/:id/selesai",element:e.jsx(Ie,{children:e.jsx(Bn,{})})}),e.jsx(X,{path:"/asesi/*",element:e.jsx(Rs,{children:e.jsx(Xe,{children:e.jsxs(He,{children:[e.jsx(X,{path:"profile",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Profil Saya"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"assessment",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Sertifikasi"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"documents",element:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Dokumen"}),e.jsx("p",{className:"text-slate-600",children:"Coming soon..."})]})}),e.jsx(X,{path:"",element:e.jsx(ze,{to:"dashboard",replace:!0})})]})})})}),e.jsx(X,{path:"/dashboard",element:e.jsx(Ca,{children:e.jsx(Ha,{})})}),e.jsx(X,{path:"/",element:e.jsx(Ba,{})})]})}),e.jsx(di,{})]})})})})}function di(){const{isOpen:t,closeModal:s,asesiId:a,asesiNama:n}=wt();return e.jsx(Ka,{isOpen:t,onClose:s,asesiId:a,asesiNama:n})}Dt.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(li,{})}));
